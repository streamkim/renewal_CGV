/*
Jindo Mobile Component(minify:5) : ../../www/docs/jindo-mobile/archive/1.16.0/
jindo.m, jindo.m.Component, jindo.m.Effect, jindo.m.Morph, jindo.m.UIComponent, jindo.m.LayerEffect, jindo.m._Effect_, jindo.m.SlideEffect, jindo.m.PopEffect, jindo.m.FlipEffect, jindo.m.Dialog, jindo.m.Loading
*/
var raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,caf=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame;if(raf&&!caf){var keyInfo={},oldraf=raf;raf=function(t){function e(){keyInfo[n]&&t()}var n=oldraf(e);return keyInfo[n]=!0,n},caf=function(t){delete keyInfo[t]}}else raf&&caf||(raf=function(t){return window.setTimeout(t,16)},caf=window.clearTimeout);window.requestAnimationFrame=raf,window.cancelAnimationFrame=caf,jindo.m=function(){function _initTouchEventName(){"ontouchstart"in window?(_htTouchEventName.start="touchstart",_htTouchEventName.move="touchmove",_htTouchEventName.end="touchend",_htTouchEventName.cancel="touchcancel"):window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0&&(_htTouchEventName.start="MSPointerDown",_htTouchEventName.move="MSPointerMove",_htTouchEventName.end="MSPointerUp",_htTouchEventName.cancel="MSPointerCancel")}function _getOrientationChangeEvt(){var t="onorientationchange"in window?"orientationchange":"resize";return _htOsInfo.android&&"2.1"===_htOsInfo.version&&(t="resize"),t}function _getVertical(){var t=null,e=_getOrientationChangeEvt();if("resize"===e){var n=document.documentElement.clientWidth;t=-1==_nPreWidth?n<document.documentElement.clientHeight:_nPreWidth>n?!0:n==_nPreWidth?_isVertical:!1,_nPreWidth=n}else{var i=window.orientation;0===i||180==i?t=!0:(90==i||-90==i)&&(t=!1)}return t}function _attachEvent(){jindo.$Fn(_onOrientationChange,this).attach(window,_getOrientationChangeEvt()).attach(window,"load"),jindo.$Fn(_onPageshow,this).attach(window,"pageshow")}function _initDeviceInfo(){function t(t,e){return(e||"").indexOf(t)>-1}_setOsInfo(),_setBrowserInfo();var e=navigator.userAgent;_htDeviceInfo={iphone:_htOsInfo.iphone,ipad:_htOsInfo.ipad,android:_htOsInfo.android,win:t("Windows Phone",e),galaxyTab:/SHW-M180/.test(e),galaxyTab2:/SHW-M380/.test(e),galaxyS:/SHW-M110/.test(e),galaxyS2:/SHW-M250|GT-I9100/.test(e),galaxyS2LTE:/SHV-E110/.test(e),galaxyS3:/SHV-E210|SHW-M440|GT-I9300/.test(e),galaxyNote:/SHV-E160/.test(e),galaxyNote2:/SHV-E250/.test(e),galaxyNexus:/Galaxy Nexus/.test(e),optimusLte2:/LG-F160/.test(e),optimusVu:/LG-F100/.test(e),optimusLte:/LG-LU6200|LG-SU640|LG-F120K'/.test(e),galaxyS4:/SHV-E300|GT-I9500|GT-I9505|SGH-M919|SPH-L720|SGH-I337|SCH-I545/.test(e),bChrome:_htBrowserInfo.chrome,bSBrowser:_htBrowserInfo.bSBrowser,bInapp:!1,version:_htOsInfo.version,browserVersion:_htBrowserInfo.version};for(var n in _htDeviceInfo)"boolean"==typeof _htDeviceInfo[n]&&_htDeviceInfo[n]&&_htDeviceInfo.hasOwnProperty(n)&&"b"!==n[0]&&(_htDeviceInfo.name=n);_htDeviceInfo.samsung=/GT-|SCH-|SHV-|SHW-|SPH|SWT-|SGH-|EK-|Galaxy Nexus|SAMSUNG/.test(e),_htDeviceInfo.lg=/LG-/.test(e),_htDeviceInfo.pantech=/IM-/.test(e),_htDeviceInfo.iphone||_htDeviceInfo.ipad?t("Safari",e)||(_htDeviceInfo.bInapp=!0):_htDeviceInfo.android&&(e=e.toLowerCase(),(t("inapp",e)||t("app",e.replace("applewebkit","")))&&(_htDeviceInfo.bInapp=!0))}function _setOsInfo(){_htOsInfo=jindo.$Agent().os(),_isInapp(),_htOsInfo.version=_htOsInfo.version||_getOsVersion(),_htOsInfo.ios="undefined"==typeof _htOsInfo.ios?_htOsInfo.ipad||_htOsInfo.iphone:_htOsInfo.ios}function _setBrowserInfo(){_htBrowserInfo=jindo.$Agent().navigator(),_htOsInfo.ios&&/CriOS/.test(navigator.userAgent)&&(_htBrowserInfo.chrome=!0),"undefined"==typeof _htBrowserInfo.firefox&&(_htBrowserInfo.firefox=/Firefox/.test(navigator.userAgent)),_isSBrowser(),_updateUnderVersion()}function _updateUnderVersion(){_htBrowserInfo.msafari&&_htBrowserInfo.chrome?_htBrowserInfo.version=parseFloat(_htOsInfo.ios?navigator.userAgent.match(/CriOS[ \/]([0-9.]+)/)[1]:navigator.userAgent.match(/Chrome[ \/]([0-9.]+)/)[1]):_htBrowserInfo.firefox&&(_htBrowserInfo.version=parseFloat(navigator.userAgent.match(/Firefox[ \/]([0-9.]+)/)[1]))}function _isInapp(){var t=navigator.userAgent;_htOsInfo.bInapp=!1,_htOsInfo.ios?-1==t.indexOf("Safari")&&(_htOsInfo.bInapp=!0):_htOsInfo.android&&(t=t.toLowerCase(),(-1!=t.indexOf("inapp")||-1!=t.replace("applewebkit","").indexOf("app"))&&(_htOsInfo.bInapp=!0))}function _isSBrowser(){_htBrowserInfo.bSBrowser=!1;var t=navigator.userAgent,e=t.match(/(SAMSUNG|Chrome)/gi)||"";e.length>1&&(_htBrowserInfo.bSBrowser=!0)}function _getOsVersion(){if(!_htOsInfo.version){var t,e=navigator.userAgent,n="";return _htOsInfo.iphone||_htOsInfo.ipad?(t=e.match(/OS\s([\d|\_]+\s)/i),null!==t&&t.length>1&&(n=t[1])):_htOsInfo.android?(t=e.match(/Android\s([^\;]*)/i),null!==t&&t.length>1&&(n=t[1])):_htOsInfo.mwin&&(t=e.match(/Windows Phone\s([^\;]*)/i),null!==t&&t.length>1&&(n=t[1])),n.replace(/\_/g,".").replace(/\s/g,"")}}function _onOrientationChange(t){if("load"===t.type)return _nPreWidth=document.documentElement.clientWidth,void(_isVertical=_htOsInfo.bInapp||!_htOsInfo.iphone&&!_htOsInfo.ipad&&"resize"===_getOrientationChangeEvt()?_nPreWidth>document.documentElement.clientHeight?!1:!0:_getVertical());if("resize"===_getOrientationChangeEvt())setTimeout(function(){_orientationChange(t)},0);else{var e=jindo.$Document().clientSize().width,n=300;if(_htDeviceInfo.android){if("orientationchange"==t.type&&e==_nPreWidth)return setTimeout(function(){_onOrientationChange(t)},500),!1;_nPreWidth=e}clearTimeout(_nRotateTimer),_nRotateTimer=setTimeout(function(){_orientationChange(t)},n)}}function _orientationChange(t){var e=_isVertical;_isVertical=_getVertical(),(jindo.$Agent().navigator().mobile||jindo.$Agent().os().ipad)&&e!==_isVertical&&(t.sType="rotate",t.isVertical=_isVertical,_fireEvent("mobilerotate",t))}function _onPageshow(t){_isVertical=_getVertical(),t.sType="pageShow",setTimeout(function(){_fireEvent("mobilePageshow",t)},300)}function _getTranslateOffsetFromCSSMatrix(t){var e=new WebKitCSSMatrix(window.getComputedStyle(t).webkitTransform);return{top:e.m42,left:e.m41}}function _fireEvent(t,e){if(_htHandler[t])for(var n=_htHandler[t].concat(),i=0,o=n.length;o>i;i++)n[i].call(this,e)}function _getTranslateOffsetFromStyle(t){var e=0,n=0,i=[],o=[],s=t.style[""==jindo.m.getCssPrefix()?"transform":jindo.m.getCssPrefix()+"Transform"];if(s&&s.length>0){if(/translate[XY]/.test(s)){var a=s.match(/translateX\(([-0-9px]*)\)/),r=s.match(/translateY\(([-0-9px]*)\)/);o.push(a&&a.length>1?a[1]:"0px"),o.push(r&&r.length>1?r[1]:"0px"),i[1]=o.join(",")}else i=s.match(/translate.{0,2}\((.*)\)/);if(i&&i.length>1){var h=i[1].split(",");h&&h.length>1&&(e=parseInt(h[1],10),n=parseInt(h[0],10))}}return{top:e,left:n}}var _isVertical=null,_nPreWidth=-1,_nRotateTimer=null,_htHandler={},_htDeviceInfo={},_htAddPatch={},_htOsInfo={},_htBrowserInfo={},_htTouchEventName={start:"mousedown",move:"mousemove",end:"mouseup",cancel:null},_htDeviceList={galaxyTab:["SHW-M180"],galaxyTab2:["SHW-M380"],galaxyS:["SHW-M110"],galaxyS2:["SHW-M250","GT-I9100"],galaxyS2LTE:["SHV-E110"],galaxyS3:["SHV-E210","SHW-M440","GT-I9300"],galaxyNote:["SHV-E160"],galaxyNote2:["SHV-E250"],galaxyNexus:["Galaxy Nexus"],optimusLte2:["LG-F160"],optimusVu:["LG-F100"],optimusLte:["LG-LU6200","LG-SU640","LG-F120K"]},__M__={MOVETYPE:{0:"hScroll",1:"vScroll",2:"dScroll",3:"tap",4:"longTap",5:"doubleTap",6:"pinch",7:"rotate",8:"pinch-rotate"},KITKAT_HIGHLIGHT_CLASS:"_jmc_no_tap_highlight_",KITKAT_HIGHLIGHT_ID:"_jmc_no_tap_highlight_tag_",sVersion:"unknown",$init:function(){_initDeviceInfo(),_initTouchEventName(),_attachEvent();var t=jindo.$(this.KITKAT_HIGHLIGHT_ID);if(!t){t=document.createElement("style");var e=document.getElementsByTagName("html")[0];t.type="text/css",t.id=this.KITKAT_HIGHLIGHT_ID,e.insertBefore(t,e.firstChild);var n=t.sheet||t.styleSheet;n.insertRule("."+this.KITKAT_HIGHLIGHT_CLASS+" { -webkit-tap-highlight-color: rgba(0,0,0,0); }",0),n.insertRule("."+this.KITKAT_HIGHLIGHT_CLASS+" * { -webkit-tap-highlight-color: rgba(0,0,0,0); }",0)}},bindRotate:function(t){var e=_htHandler.mobilerotate;"undefined"==typeof e&&(e=_htHandler.mobilerotate=[]),e.push(t)},unbindRotate:function(t){var e=_htHandler.mobilerotate;if(e)for(var n,i=0;n=e[i];i++)if(n===t){e.splice(i,1);break}},bindPageshow:function(t){var e=_htHandler.mobilePageshow;"undefined"==typeof e&&(e=_htHandler.mobilePageshow=[]),e.push(t)},unbindPageshow:function(t){var e=_htHandler.mobilePageshow;if(e)for(var n,i=0;n=e[i];i++)if(n===t){e.splice(i,1);break}},getDeviceInfo:function(){return _htDeviceInfo},getOsInfo:function(){return _htOsInfo},getBrowserInfo:function(){return _htBrowserInfo},isVertical:function(){return null===_isVertical?_isVertical=_getVertical():_isVertical},getNodeElement:function(t){for(;1!=t.nodeType;)t=t.parentNode;return t},getTranslateOffset:function(t){t=jindo.$Element(t);var e,n=t.$value();return e=_htOsInfo.android&&3===parseInt(_htOsInfo.version,10)?_getTranslateOffsetFromStyle(n):"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix?_getTranslateOffsetFromCSSMatrix(n):_getTranslateOffsetFromStyle(n)},getStyleOffset:function(t){var e=parseInt(t.css("left"),10),n=parseInt(t.css("top"),10);return e=isNaN(e)?0:e,n=isNaN(n)?0:n,{left:e,top:n}},attachTransitionEnd:function(t,e){var n=(jindo.$Jindo.VERSION||jindo.$Jindo().version||jindo.VERSION).replace(/[a-z.]/gi,"");if(n>230)t._jindo_fn_=jindo.$Fn(e,this).attach(t,"transitionend");else{var i=("ms"===this.getCssPrefix()?"MS":this.getCssPrefix())+"TransitionEnd";t.addEventListener(i,e,!1)}},detachTransitionEnd:function(t,e){var n=(jindo.$Jindo.VERSION||jindo.$Jindo().version||jindo.VERSION).replace(/[a-z.]/gi,"");if(n>230)t._jindo_fn_&&(t._jindo_fn_.detach(t,"transitionend"),delete t._jindo_fn_);else{var i=("ms"===this.getCssPrefix()?"MS":this.getCssPrefix())+"TransitionEnd";t.removeEventListener(i,e,!1)}},_attachFakeJindo:function(t,e,n){var i=(jindo.$Jindo.VERSION||jindo.$Jindo().version||jindo.VERSION).replace(/[a-z.]/gi,""),o=null;return o=230>i&&"undefined"!=typeof _notSupport?_notSupport.$Fn(e).attach(t,n):jindo.$Fn(e).attach(t,n)},_getTouchEventName:function(){return _htTouchEventName},getCssPrefix:function(){var t="";return"undefined"!=typeof document.body.style.webkitTransition?t="webkit":"undefined"!=typeof document.body.style.transition||("undefined"!=typeof document.body.style.MozTransition?t="Moz":"undefined"!=typeof document.body.style.OTransition?t="O":"undefined"!=typeof document.body.style.msTransition&&(t="ms")),jindo.m.getCssPrefix=function(){return t},t},getClosest:function(t,e){var n,i=jindo.$Element(e),o=/<\/?(?:h[1-5]|[a-z]+(?:\:[a-z]+)?)[^>]*>/gi;return o.test(t)?"<"+e.tagName.toUpperCase()+">"==t.toUpperCase()?n=e:(n=i.parent(function(e){return"<"+e.$value().tagName.toUpperCase()+">"==t.toUpperCase()?e:void 0}),n=n.length?n[0].$value():!1):(0==t.indexOf(".")&&(t=t.substring(1,t.length)),i.hasClass(t)?n=e:(n=i.parent(function(e){return e.hasClass(t)?e:void 0}),n=n.length?n[0].$value():!1)),n},useCss3d:function(){if(_htAddPatch.useCss3d&&"function"==typeof _htAddPatch.useCss3d)switch(_htAddPatch.useCss3d()){case-1:return!1;case 1:return!0}var t=!1;if(_htBrowserInfo.chrome&&_htBrowserInfo.version<"25"&&!_htBrowserInfo.bSBrowser)return t;if(_htOsInfo.ios)t=!0;else if(_htBrowserInfo.firefox)t=!0;else if(_htOsInfo.android){var e=navigator.userAgent.match(/\(.*\)/);e instanceof Array&&e.length>0&&(e=e[0]),_htOsInfo.version>="4.1.0"?t=/EK-GN120|SM-G386F/.test(e)?!1:!0:(_htOsInfo.version>="4.0"&&(t=!0),_htOsInfo.version>="4.0.3"&&/SHW-|SHV-|GT-|SCH-|SGH-|SPH-|LG-F160|LG-F100|LG-F180|LG-F200|EK-|IM-A|LG-F240|LG-F260/.test(e)&&!/SHW-M420|SHW-M200|GT-S7562/.test(e)&&(t=!0))}return t},patch:function(t){return _htAddPatch.ver=t,this},_checkPatchVersion:function(){var t=jindo.m.Component.VERSION.split("."),e=t.slice(0,3).join(".");return _htAddPatch.ver>=e?!0:!1},add:function(t){if(this._checkPatchVersion())for(var e in t)_htAddPatch[e]=t[e];return this},getDeviceName:function(){if(_htAddPatch.getDeviceName&&"function"==typeof _htAddPatch.getDeviceName&&_htAddPatch.getDeviceName())return _htAddPatch.getDeviceName();var sUserAgent=navigator.userAgent;for(var i in _htDeviceList)if(eval("/"+_htDeviceList[i].join("|")+"/").test(sUserAgent))return i;var htInfo=jindo.$Agent().os();for(var x in htInfo)if(htInfo[x]===!0&&htInfo.hasOwnProperty(x))return x},useFixed:function(){if(_htAddPatch.useFixed&&"function"==typeof _htAddPatch.useFixed)switch(_htAddPatch.useFixed()){case-1:return!1;case 1:return!0}var t=!1;return(_htBrowserInfo.chrome||_htBrowserInfo.firefox||_htOsInfo.android&&parseInt(_htOsInfo.version,10)>=3||_htOsInfo.ios&&parseInt(_htOsInfo.version,10)>=5||_htOsInfo.mwin&&parseInt(_htOsInfo.version,10)>=8)&&(t=!0),t},useTimingFunction:function(){if(_htAddPatch.useTimingFunction&&"function"==typeof _htAddPatch.useTimingFunction&&_htAddPatch.useTimingFunction())switch(_htAddPatch.useTimingFunction()){case-1:return!1;case 1:return!0}var t=this.useCss3d();return _htOsInfo.android?t=!1:_htOsInfo.ios&&parseInt(_htOsInfo.version,10)>=6&&(t=!1),t},_cacheMaxClientSize:{},_fullSizeCheckElement:null,_allEventStop:function(t,e){this._htEvent||(this._htEvent={}),"detach"==e?(this._htEvent.touchstart.detach(document.body,"touchstart").detach(document.body,"touchmove"),this._htEvent={}):this._htEvent.touchstart||"attach"!=e||(this._htEvent.touchstart=jindo.$Fn(t,this).attach(document.body,"touchstart").attach(document.body,"touchmove"))},_stopDefault:function(t){t.stop()},_hasOrientation:void 0!==window.orientation,_maxClientSize:function(t,e){var n=this.getOsInfo();this._allEventStop(this._stopDefault,"attach"),this._fullSizeCheckElement||(this._fullSizeCheckElement=document.createElement("div"));var i=n.android?500:100;i=e?1:i;var o;this._hasOrientation&&(o=Math.abs(window.orientation/90)%2,i=void 0!==this._cacheMaxClientSize[o]?0:i);var s=this;document.body.scrollTop<=1?(document.body.appendChild(s._fullSizeCheckElement),s._fullSizeCheckElement.style.cssText="position:absolute; top: 0px; width:100%;height:"+parseInt(window.innerHeight+200,10)+"px;",window.scrollTo(0,1),setTimeout(function(){s._checkSize(s._hasOrientation,s._cacheMaxClientSize,o,t,s,i)},i)):(this._fullSizeCheckElement.style.height=window.innerHeight+"px",this._checkSize(this._hasOrientation,this._cacheMaxClientSize,o,t,s,i))},_checkSize:function(t,e,n,i,o,s){var a=this.getOsInfo(),r=this.getBrowserInfo();this._allEventStop(this._stopDefault,"attach");var h;t&&e[n]?h=e[n]:(o._fullSizeCheckElement.style.cssText="position:absolute; top: 0px; width:100%;height:"+window.innerHeight+"px;overflow:hidden",h=r.mobile||a.ipad?{width:window.innerWidth,height:window.innerHeight}:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},t&&(e[n]=h)),i.call(o,h);var f=this;this._allEventStop(this._stopDefault,"detach"),0===s?this._fullSizeCheckElement.style.height="0px":setTimeout(function(){f._fullSizeCheckElement.style.height="0px"},s)},hasOffsetBug:function(){if(_htAddPatch.hasOffsetBug&&"function"==typeof _htAddPatch.hasOffsetBug)switch(_htAddPatch.hasOffsetBug()){case-1:return!1;case 1:return!0}var t=!1;return t=_htOsInfo.android?_htBrowserInfo.chrome||_htBrowserInfo.firefox?!1:_htOsInfo.version<"4"?!0:!1:!1},hasClickBug:function(){if(_htAddPatch.hasClickBug&&"function"==typeof _htAddPatch.hasClickBug)switch(_htAddPatch.hasClickBug()){case-1:return!1;case 1:return!0}return _htOsInfo.ios||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||!1},_getTranslate:function(t,e,n){return n="undefined"==typeof n?!0:n,"translate"+(n?"3d(":"(")+t+","+e+(n?",0)":")")},_toPrefixStr:function(t){return t.length<=0?t:(t=""==this.getCssPrefix()?t.charAt(0).toLowerCase()+t.substr(1):t.charAt(0).toUpperCase()+t.substr(1),this.getCssPrefix()+t)},_hasJindoOffsetBug:function(){return!(jindo.$Element.prototype.offset_get&&-1==jindo.$Element.prototype.offset_get.toString().indexOf("fpSafari"))},_hasKitkatHighlightBug:function(){if(_htAddPatch._hasKitkatHighlightBug&&"function"==typeof _htAddPatch._hasKitkatHighlightBug)switch(_htAddPatch._hasKitkatHighlightBug()){case-1:return!1;case 1:return!0}return _htBrowserInfo.chrome&&!_htBrowserInfo.bSBrowser&&_htBrowserInfo.version<35}};return __M__._isUseFixed=__M__.useFixed,__M__._isUseTimingFunction=__M__.useTimingFunction,__M__._isUseCss3d=__M__.useCss3d,__M__.getCssOffset=__M__.getTranslateOffset,__M__.$init(),__M__}(),"mixin"in jindo.$Jindo||(jindo.$Jindo.mixin=function(t,e){var n={};for(var i in t)n[i]=t[i];for(i in e)e.hasOwnProperty(i)&&"undefined"!=typeof e[i]&&(n[i]=e[i]);return n}),jindo.m.Component=jindo.$Class({_htEventHandler:null,_htOption:null,$init:function(){this._htEventHandler={},this._htOption={},this._htOption._htSetter={},this.constructor.$count=(this.constructor.$count||0)+1},option:function(t,e){switch(typeof t){case"undefined":var n={};for(var i in this._htOption)"htCustomEventHandler"!=i&&"_htSetter"!=i&&(n[i]=this._htOption[i]);return n;case"string":if("undefined"==typeof e)return this._htOption[t];if("htCustomEventHandler"==t){if("undefined"!=typeof this._htOption[t])return this;this.attach(e)}this._htOption[t]=e,"function"==typeof this._htOption._htSetter[t]&&this._htOption._htSetter[t](e);break;case"object":for(var o in t){if("htCustomEventHandler"==o){if("undefined"!=typeof this._htOption[o])continue;this.attach(t[o])}"_htSetter"!==o&&(this._htOption[o]=t[o]),"function"==typeof this._htOption._htSetter[o]&&this._htOption._htSetter[o](t[o])}}return this},optionSetter:function(t,e){switch(typeof t){case"undefined":return this._htOption._htSetter;case"string":if("undefined"==typeof e)return this._htOption._htSetter[t];this._htOption._htSetter[t]=jindo.$Fn(e,this).bind();break;case"object":for(var n in t)this._htOption._htSetter[n]=jindo.$Fn(t[n],this).bind()}return this},fireEvent:function(t,e){e=e||{};var n=this["on"+t],i=this._htEventHandler[t]||[],o="function"==typeof n,s=i.length>0;if(!o&&!s)return!0;i=i.concat(),e.sType=t,"undefined"==typeof e._aExtend&&(e._aExtend=[],e.stop=function(){e._aExtend.length>0&&(e._aExtend[e._aExtend.length-1].bCanceled=!0)}),e._aExtend.push({sType:t,bCanceled:!1});var a,r,h=[e];for(a=2,r=arguments.length;r>a;a++)h.push(arguments[a]);if(o&&n.apply(this,h),s){var f;for(a=0,f;f=i[a];a++)f.apply(this,h)}return!e._aExtend.pop().bCanceled},attach:function(t,e){if(1==arguments.length)return jindo.$H(arguments[0]).forEach(jindo.$Fn(function(t,e){this.attach(e,t)},this).bind()),this;var n=this._htEventHandler[t];return"undefined"==typeof n&&(n=this._htEventHandler[t]=[]),n.push(e),this},detach:function(t,e){if(1==arguments.length)return jindo.$H(arguments[0]).forEach(jindo.$Fn(function(t,e){this.detach(e,t)},this).bind()),this;var n=this._htEventHandler[t];if(n)for(var i,o=0;i=n[o];o++)if(i===e){n=n.splice(o,1);break}return this},detachAll:function(t){var e=this._htEventHandler;if(arguments.length)return"undefined"==typeof e[t]?this:(delete e[t],this);for(var n in e)delete e[n];return this}}),jindo.m.Component.factory=function(t,e){var n,i=[];"undefined"==typeof e&&(e={});for(var o,s=0;o=t[s];s++)n=new this(o,e),i[i.length]=n;return i},jindo.m.Component.getInstance=function(){throw new Error("JC 1.11.0 or JMC 1.13.0 later, getInstance method of Component is not longer supported.")},jindo.m.Component.VERSION="1.16.0",jindo.m.Effect=function(t){if(this instanceof arguments.callee)throw new Error("You can't create a instance of this");var e=/^(\-?[0-9\.]+)(%|\w+)?$/,n=/^rgb\(([0-9]+)\s?,\s?([0-9]+)\s?,\s?([0-9]+)\)$/i,i=/^rgba\(([0-9]+)\s?,\s?([0-9]+)\s?,\s?([0-9]+),\s?([0-9\.]+)\)$/i,o=/^hsl\(([0-9\.]+)\s?,\s?([0-9\.]+)%\s?,\s?([0-9\.]+)%\)$/i,s=/^hsla\(([0-9\.]+)\s?,\s?([0-9\.]+)%\s?,\s?([0-9\.]+)%,\s?([0-9\.]+)\)$/i,a=/^#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,r=/^#([0-9A-F])([0-9A-F])([0-9A-F])$/i,h=function(t){var h,f=t;if(e.test(t))f=parseFloat(t),h=RegExp.$2||"";else if(n.test(t))f={rgb:[parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10),1]},h="color";else if(i.test(t))f={rgb:[parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10),parseFloat(RegExp.$4)]},h="color";else if(o.test(t))f={hsl:[parseFloat(RegExp.$1),parseFloat(RegExp.$2)/100,parseFloat(RegExp.$3)/100,1]},f.rgb=l.apply(this,f.hsl),h="color";else if(s.test(t))f={hsl:[parseFloat(RegExp.$1),parseFloat(RegExp.$2)/100,parseFloat(RegExp.$3)/100,parseFloat(RegExp.$4)]},f.rgb=l.apply(this,f.hsl),h="color";else{if(!a.test(t=t.replace(r,"#$1$1$2$2$3$3")))throw new Error("unit error ("+t+")");f={rgb:[parseInt(RegExp.$1,16),parseInt(RegExp.$2,16),parseInt(RegExp.$3,16),1]},h="color"}return{nValue:f,sUnit:h}},f=function(t){var e=[];return t.replace(/([^\s]+\([^\)]*\)|[^\s]+)\s?/g,function(t,n){e.push(n)}),e},c=function(t){for(var e=f(t?t+"":"0"),n=[],i=0,o=e.length;o>i;i++)n.push(h(e[i]));return n},u=function(t){return"object"==typeof t?{nValue:t.nValue,sUnit:t.sUnit}:t},l=function(t,e,n,i){t=t%360/60;var o=(1-Math.abs(2*n-1))*e,s=o*(1-Math.abs(t%2-1)),a=0,r=0,h=0;t>=5||1>t?(a=o,h=s):t>=4?(a=s,h=o):t>=3?(r=s,h=o):t>=2?(r=o,h=s):t>=1&&(a=s,r=o);var f=n-o/2;return[Math.round(255*(a+f)),Math.round(255*(r+f)),Math.round(255*(h+f)),i]};return function(e,n){var i,o,s=function(){var t=!1;if(a.start!==e&&(i=c(a.start),e=a.start,t=!0),a.end!==n&&(o=c(a.end),n=a.end,t=!0),t){var s,r,h=Math.max(i.length,o.length);if(i.length!==o.length&&h>1){switch(i.length){case 1:i[1]=u(i[0]);case 2:i[2]=u(i[0]);case 3:i[3]=u(i[1])}switch(o.length){case 1:o[1]=u(o[0]);case 2:o[2]=u(o[0]);case 3:o[3]=u(o[1])}}for(var f=0;h>f;f++)if(s=i[f],r=o[f],0===s.nValue?s.sUnit=r.sUnit:0===r.nValue&&(r.sUnit=s.sUnit),s.sUnit!=r.sUnit)throw new Error("unit error ("+e+" ~ "+n+")")}},a=function(e){var n=[];s();for(var a,r,h,f,c,u,l=0,d=Math.max(i.length,o.length);d>l;l++){a=i[l],r=o[l],h=a.nValue,f=r.nValue,c=a.sUnit;var _=t(e),p=function(t,e,n){return Math.round(1e6*((e-t)*_+t))/1e6+(n||0)};if("color"===c)if(h.hsl&&f.hsl){h=h.hsl,f=f.hsl;var m=Math.round(p(h[0],f[0])),g=100*Math.max(0,Math.min(1,p(h[1],f[1]))),E=100*Math.max(0,Math.min(1,p(h[2],f[2])));u=p(h[3],f[3]),n.push(1===u?"hsl("+[m,g+"%",E+"%"].join(",")+")":"hsla("+[m,g+"%",E+"%",u].join(",")+")")}else{h=h.rgb,f=f.rgb;var v=Math.max(0,Math.min(255,Math.round(p(h[0],f[0])))),y=Math.max(0,Math.min(255,Math.round(p(h[1],f[1])))),I=Math.max(0,Math.min(255,Math.round(p(h[2],f[2]))));if(u=p(h[3],f[3]),1===u){var b=(v<<16|y<<8|I).toString(16).toUpperCase();n.push("#"+Array(7-b.length).join("0")+b)}else n.push("rgba("+[v,y,I,u].join(",")+")")}else n.push(p(h,f,c))}return n.join(" ")};switch(arguments.length){case 0:break;case 1:n=e||"0",e="0",a.setStart=function(t){this.start=t}}return a.start=e,a.end=n,a.effectConstructor=arguments.callee,e=n=null,arguments.length>1&&s(),a}},jindo.m.Effect.linear=jindo.m.Effect(function(t){return t}),jindo.m.Effect.linear.toString=function(){return"linear"},jindo.m.Effect.easeInSine=jindo.m.Effect(function(t){return 1==t?1:-Math.cos(t*(Math.PI/2))+1}),jindo.m.Effect.easeOutSine=jindo.m.Effect(function(t){return Math.sin(t*(Math.PI/2))}),jindo.m.Effect.easeInOutSine=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInSine(0,1)(2*t):.5*jindo.m.Effect.easeOutSine(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInSine=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOutSine(0,1)(2*t):.5*jindo.m.Effect.easeInSine(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInQuad=jindo.m.Effect(function(t){return t*t}),jindo.m.Effect.easeOutQuad=jindo.m.Effect(function(t){return-(t*(t-2))}),jindo.m.Effect.easeInOutQuad=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInQuad(0,1)(2*t):.5*jindo.m.Effect.easeOutQuad(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInQuad=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOutQuad(0,1)(2*t):.5*jindo.m.Effect.easeInQuad(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInCubic=jindo.m.Effect(function(t){return Math.pow(t,3)}),jindo.m.Effect.easeOutCubic=jindo.m.Effect(function(t){return Math.pow(t-1,3)+1}),jindo.m.Effect.easeInOutCubic=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeIn(0,1)(2*t):.5*jindo.m.Effect.easeOut(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInCubic=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOut(0,1)(2*t):.5*jindo.m.Effect.easeIn(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInQuart=jindo.m.Effect(function(t){return Math.pow(t,4)}),jindo.m.Effect.easeOutQuart=jindo.m.Effect(function(t){return-(Math.pow(t-1,4)-1)}),jindo.m.Effect.easeInOutQuart=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInQuart(0,1)(2*t):.5*jindo.m.Effect.easeOutQuart(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInQuart=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOutQuart(0,1)(2*t):.5*jindo.m.Effect.easeInQuart(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInQuint=jindo.m.Effect(function(t){return Math.pow(t,5)}),jindo.m.Effect.easeOutQuint=jindo.m.Effect(function(t){return Math.pow(t-1,5)+1}),jindo.m.Effect.easeInOutQuint=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInQuint(0,1)(2*t):.5*jindo.m.Effect.easeOutQuint(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInQuint=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOutQuint(0,1)(2*t):.5*jindo.m.Effect.easeInQuint(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInCircle=jindo.m.Effect(function(t){return-(Math.sqrt(1-t*t)-1)}),jindo.m.Effect.easeOutCircle=jindo.m.Effect(function(t){return Math.sqrt(1-(t-1)*(t-1))}),jindo.m.Effect.easeInOutCircle=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInCircle(0,1)(2*t):.5*jindo.m.Effect.easeOutCircle(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInCircle=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOutCircle(0,1)(2*t):.5*jindo.m.Effect.easeInCircle(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInBack=jindo.m.Effect(function(t){var e=1.70158;return 1==t?1:t/1*(t/1)*((1+e)*t-e)}),jindo.m.Effect.easeOutBack=jindo.m.Effect(function(t){var e=1.70158;return 0===t?0:(t=t/1-1)*t*((e+1)*t+e)+1}),jindo.m.Effect.easeInOutBack=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInBack(0,1)(2*t):.5*jindo.m.Effect.easeOutBack(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInElastic=jindo.m.Effect(function(t){var e,n=0,i=0;return 0===t?0:1==(t/=1)?1:(n||(n=.3),!i||1>i?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-1)*Math.PI/n)))}),jindo.m.Effect.easeOutElastic=jindo.m.Effect(function(t){var e,n=0,i=0;return 0===t?0:1==(t/=1)?1:(n||(n=.3),!i||1>i?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/n)+1)}),jindo.m.Effect.easeInOutElastic=jindo.m.Effect(function(t){var e,n=0,i=0;return 0===t?0:2==(t/=.5)?1:(n||(n=.3*1.5),!i||1>i?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),1>t?-.5*i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/n):i*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/n)*.5+1)}),jindo.m.Effect.easeOutBounce=jindo.m.Effect(function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),jindo.m.Effect.easeInBounce=jindo.m.Effect(function(t){return 1-jindo.m.Effect.easeOutBounce(0,1)(1-t)}),jindo.m.Effect.easeInOutBounce=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInBounce(0,1)(2*t):.5*jindo.m.Effect.easeOutBounce(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInExpo=jindo.m.Effect(function(t){return 0===t?0:Math.pow(2,10*(t-1))}),jindo.m.Effect.easeOutExpo=jindo.m.Effect(function(t){return 1==t?1:-Math.pow(2,-10*t/1)+1}),jindo.m.Effect.easeInOutExpo=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInExpo(0,1)(2*t):.5*jindo.m.Effect.easeOutExpo(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInExpo=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOutExpo(0,1)(2*t):.5*jindo.m.Effect.easeInExpo(0,1)(2*t-1)+.5}),jindo.m.Effect._cubicBezier=function(t,e,n,i){return function(o){function s(t){return((u*t+c)*t+f)*t}function a(t){return((_*t+d)*t+l)*t}function r(t){return(3*u*t+2*c)*t+f}function h(t,e){var n,i,o,a,h,f;for(o=t,f=0;8>f;f++){if(a=s(o)-t,Math.abs(a)<e)return o;if(h=r(o),Math.abs(h)<1e-6)break;o-=a/h}if(n=0,i=1,o=t,n>o)return n;if(o>i)return i;for(;i>n;){if(a=s(o),Math.abs(a-t)<e)return o;t>a?n=o:i=o,o=.5*(i-n)+n}return o}var f=3*t,c=3*(n-t)-f,u=1-f-c,l=3*e,d=3*(i-e)-l,_=1-l-d;return a(h(o,.005))}},jindo.m.Effect.cubicBezier=function(t,e,n,i){var o=jindo.m.Effect(jindo.m.Effect._cubicBezier(t,e,n,i)),s="cubic-bezier("+[t,e,n,i].join(",")+")";return o.toString=function(){return s},o},jindo.m.Effect.cubicEase=jindo.m.Effect.cubicBezier(.25,.1,.25,1),jindo.m.Effect.cubicEase.toString=function(){return"ease"},jindo.m.Effect.cubicEaseIn=jindo.m.Effect.cubicBezier(.42,0,1,1),jindo.m.Effect.cubicEaseIn.toString=function(){return"ease-in"},jindo.m.Effect.cubicEaseOut=jindo.m.Effect.cubicBezier(0,0,.58,1),jindo.m.Effect.cubicEaseOut.toString=function(){return"ease-out"},jindo.m.Effect.cubicEaseInOut=jindo.m.Effect.cubicBezier(.42,0,.58,1),jindo.m.Effect.cubicEaseInOut.toString=function(){return"ease-in-out"},jindo.m.Effect.cubicEaseOutIn=jindo.m.Effect.cubicBezier(0,.42,1,.58),jindo.m.Effect.overphase=jindo.m.Effect(function(t){return t/=.652785,(Math.sqrt((2-t)*t)+.1*t).toFixed(5)}),jindo.m.Effect.sinusoidal=jindo.m.Effect(function(t){return-Math.cos(t*Math.PI)/2+.5}),jindo.m.Effect.mirror=jindo.m.Effect(function(t){return jindo.m.Effect.sinusoidal(0,1)(.5>t?2*t:1-2*(t-.5))}),jindo.m.Effect.pulse=function(t){return jindo.m.Effect(function(e){return-Math.cos(e*(t-.5)*2*Math.PI)/2+.5})},jindo.m.Effect.wave=function(t,e){return jindo.m.Effect(function(n){return(e||1)*Math.sin(360*t*n*Math.PI/180).toFixed(5)})},jindo.m.Effect.stepStart=jindo.m.Effect(function(t){return 0===t?0:1}),jindo.m.Effect.stepEnd=jindo.m.Effect(function(t){return 1===t?1:0}),jindo.m.Effect.easeIn=jindo.m.Effect.easeInCubic,jindo.m.Effect.easeOut=jindo.m.Effect.easeOutCubic,jindo.m.Effect.easeInOut=jindo.m.Effect.easeInOutCubic,jindo.m.Effect.easeOutIn=jindo.m.Effect.easeOutInCubic,jindo.m.Effect.bounce=jindo.m.Effect.easeOutBounce,jindo.m.Effect.elastic=jindo.m.Effect.easeInElastic,jindo.m.Morph=jindo.$Class({$init:function(t){this.option({fEffect:jindo.m.Effect.linear,bUseTransition:!0}).option(t);var e=document.body.style;this._bTransitionSupport="transition"in e||"webkitTransition"in e||"MozTransition"in e||"OTransition"in e||"msTransition"in e;var n=jindo.$Agent(),i=n.os(),o=n.navigator();this._bHasTransformRenderBug=i.ios&&5===parseInt(i.version,10)&&o.msafari,this._aQueue=[],this._aIngItem=null,this._oRAF=null,this._bPlaying=null,this._nPtr=0,this._nPausePassed=0,this._aRepeat=[],this._sTransitionEnd="webkitTransition"in e&&"webkitTransitionEnd"||"transition"in e&&"transitionend"||"MozTransition"in e&&"transitionend"||"OTransition"in e&&"oTransitionEnd"||"msTransition"in e&&"MSTransitionEnd"},pushAnimate:function(t,e){if(e&&!(e instanceof Array))throw Error("aLists should be a instance of Array");return e=[].concat(e),e.duration=t,this._aQueue.push(e),this},pushKeyframe:function(t,e){return this._aQueue.push({action:"keyframe",args:{duration:t,keyframe:e}}),this},pushWait:function(){for(var t=0,e=arguments.length;e>t;t++){var n=arguments[t];n instanceof this.constructor?this._aQueue.push(n):this.pushAnimate(n,[])}return this},pushCall:function(t){return this._aQueue.push(t),this},pushRepeatStart:function(t){"undefined"==typeof t&&(t=1);var e="L"+Math.round((new Date).getTime()*Math.random());return this._aRepeat.push(e),this._pushLabel(e,t),this},_pushLabel:function(t,e){return"undefined"==typeof e&&(e=1/0),this._aQueue.push({action:"label",args:{label:t,times:e,loops:0}}),this},pushRepeatEnd:function(){var t=this._aRepeat.pop();return this._aQueue.push({action:"goto",args:{label:t}}),this},_waitMorph:function(t){var e=this;if(!t.isPlaying())return!0;var n=function(){t.detach("end",n).detach("pause",n),e._flushQueue()};return t.attach("end",n).attach("pause",n),!1},_getLabelIndex:function(t){for(var e=null,n=0,i=this._aQueue.length;i>n;n++)if(e=this._aQueue[n],"label"===e.action&&e.args.label===t)return n;return-1},_getRepeatEndIndex:function(t,e){for(var n=null,i=e||0,o=this._aQueue.length;o>i;i++)if(n=this._aQueue[i],"goto"===n.action&&n.args.label===t)return i;return-1},_flushQueue:function(){var t,e,n,i,o,s=this;
do{if(t=!1,e=this._aIngItem=this._aQueue[this._nPtr],!e)return this._bPlaying=!1,void(e||this.fireEvent("end"));if(this._nPtr++,e instanceof Function)e.call(this),t=!0;else if(e instanceof this.constructor)t=this._waitMorph(e);else if("number"!=typeof e)if("label"!==e.action)if("goto"!==e.action)if("keyframe"!==e.action){if(o=this._aCompiledItem,i=this._nPausePassed){for(var a=0,r=o.length;r>a;a++)o[a].sTimingFunc="";o.allCSS=!1}else o=this._aCompiledItem=this._compileItem(e);0!==o.length?(t=o.duration<0,t?this._processItem(1,!0):(this._playAnimate(i),this._nPausePassed=0)):setTimeout(function(){s._flushQueue()},o.duration)}else{if(n=e.args.keyframe,i=this._nPausePassed,o=this._aCompiledItem=e.args,t=o.duration<0){this._processKeyframe(1,n);continue}this._playKeyframe(i,n),this._nPausePassed=0}else this._goto(e.args.label),t=!0;else{if(++e.args.loops>e.args.times){var h=this._getRepeatEndIndex(e.args.label,this._nPtr);e.args.loops=0,h>-1&&this._goto(h+1)}t=!0}else setTimeout(function(){s._flushQueue()},e)}while(t)},_playKeyframe:function(t,e){var n=this;this._nStart=(new Date).getTime()-t;var i=this._aCompiledItem,o=i.duration;!function s(){n._oRAF=n._requestAnimationFrame(function(){var t=n._nStart;if(null!==n._oRAF){n._oRAF=null;var i=Math.min(1,Math.max(0,((new Date).getTime()-t)/o));e.frame(i),1>i?s():(n.fireEvent("timerEnd"),n._flushQueue())}})}()},_processKeyframe:function(t,e){e.preprocess().frame(t)},_playAnimate:function(t){var e=this;this._nStart=(new Date).getTime()-t,this._nIng=2,t||this._processItem(0,!0,3,!0);var n=this._aCompiledItem;n.allCSS?this._nIng--:this._animationLoop(!0),function(){var t=e._processItem(1,!0,1).transitionCache;if(!t||0===n.duration)return void(0===--e._nIng&&e._flushQueue());for(var i=null,o=t.length,s=0;o>s;s++){i=t[s];break}var a=function(n){for(var i,o=[];i=t.pop();)i.css(e._getCSSKey("transitionDuration"),"0.0001ms"),o.push(i);t=null,(window.requestAnimationFrame||window.setTimeout)(function(){for(;i=o.pop();)i.css(e._getCSSKey("transitionDuration"),"0"),i.css(e._getCSSKey("transitionProperty"),"none");o=null},0),e.fireEvent("transitionEnd"),0!==--e._nIng||n||e._requestAnimationFrame(function(){e._flushQueue()})};if(!i)return void a();var r=i.$value(),h=function(t){r.removeEventListener(e._sTransitionEnd,e._fpOnTransitionEnd,!0),e._fpOnTransitionEnd=null,a(t===!0)};e._fpOnTransitionEnd=function(t){h(t)},r.addEventListener(e._sTransitionEnd,e._fpOnTransitionEnd,!0)}()},_animationLoop:function(t){var e=this;this._oRAF=this._requestAnimationFrame(function(){var n=e._nStart,i=e._aCompiledItem.duration;if(null!==e._oRAF){e._oRAF=null;var o=Math.min(1,Math.max(0,((new Date).getTime()-n)/i));e._processItem(o,t,2),1>o?e._animationLoop():(e.fireEvent("timerEnd"),0===--e._nIng&&e._flushQueue())}})},_processItem:function(t,e,n,i){var o={normalPropsToPause:[],transitionCache:[]},s=o.normalPropsToPause,a=o.transitionCache,r=this._aCompiledItem,h=r.duration;0===h?h=1:0>h&&(h=0);var f,c,u,l,d,_,p=this._bHasTransformRenderBug;if(n=n||3,this.fireEvent("beforeProgress",{nRate:t})){for(var m,g,E=[],v=0;g=r[v];v++){f=g.oObj,c=g.welObj,u=g.oProps;var y=g.sTimingFunc;y&&1&n&&(c&&c.$value().clientHeight,"@transition"in u||i||("@transitionProperty"in u||c.css(this._getCSSKey("transitionProperty"),"all"),"@transitionDuration"in u||c.css(this._getCSSKey("transitionDuration"),(h/1e3).toFixed(3)+"s"),"@transitionTimingFunction"in u||c.css(this._getCSSKey("transitionTimingFunction"),y)),a.push(c)),m={},E.push(f,m),i&&1===t&&"@transform"in u&&/AppleWebKit\/534\.30/.test(navigator.userAgent)&&(c.css(this._getCSSKey("transform"),""),f.clientHeight);for(var I in u)if(u.hasOwnProperty(I)){if(l=u[I],_=/^@(.*)$/.test(I)&&RegExp.$1,d=y&&_?1:2,!(n&d))continue;if("function"==typeof l)l=l(t);else if(!e)continue;_?(/transition/.test(I)&&(l=this._getCSSVal(l)),p&&"@transform"===I&&("@left"in u||"@top"in u)&&f.clientHeight,c.css(this._getCSSKey(_),l)):i?s.push([f,I,l]):f[I]=l,m[I]=l}}return this.fireEvent("progress",{aLists:E,nRate:t}),o}},_compileItem:function(t){var e=0==t.length,n=[];n.duration=t.duration;for(var i,o,s,a,r,h,f,c,u=this.option("fEffect"),l=0,d=t.length;d>l;l+=2){var _=null;i=t[l],o=jindo.$Element(i),s=t[l+1],h={};var p=!1;for(var m in s)if(s.hasOwnProperty(m)){var g,E;if(r=s[m],f=/^@(.*)$/.test(m),c=RegExp.$1,r instanceof Array?(a=r[0],r=r[1]):a=f?o.css(this._getCSSKey(c)):i[m],a=0===a?a:a||"",g="function"==typeof r?r.effectConstructor:u,E=this._getEffectCSS(g)||"",/^@transform$/.test(m)){if("function"==typeof r&&(r=r.end),h[m]=this._getTransformFunction(a,r,g,i),jindo.m){var v=jindo.m.getOsInfo();(/matrix/.test(a)||/matrix/.test(r))&&v.android&&parseFloat(v.version)<3&&(E="")}}else if("function"==typeof r)"setStart"in r&&r.setStart(a),h[m]=r;else try{h[m]=g(a,r)}catch(y){if(!/^unit error/.test(y.message))throw y;h[m]=r}var I=h[m];if("function"==typeof I&&I(0)===I(1)){delete h[m];continue}f?null===_?_=E:_!==E&&(_=""):E="",e=e||!E,p=!0}o.visible()||(_=null,e=!0),p&&n.push({oObj:i,welObj:o,oProps:h,sTimingFunc:_})}return n.allCSS=!e,n},play:function(){return this._bPlaying||(this._bPlaying=!0,this.fireEvent("play"),this._flushQueue()),this},reset:function(){return this._goto(0)},pause:function(t){if(!this._bPlaying)return this;this._cancelAnimationFrame(this._oRAF),this._oRAF=null;var e=this._aCompiledItem,n=e.duration;if("undefined"==typeof t){var i=(new Date).getTime()-this._nStart;t=i/n}t=Math.max(0,Math.min(1,t));var o=null;if(e.keyframe?this._processKeyframe(t,e.keyframe):o=this._processItem(t,!0,3,!0).normalPropsToPause,this._nPtr--,this._nPausePassed=Math.round(n*t),this._fpOnTransitionEnd&&this._fpOnTransitionEnd(!0),o)for(var s=0,a=o.length;a>s;s++){var r=o[s];r[0][r[1]]=r[2]}return this._bPlaying=!1,this.fireEvent("pause"),this},_goto:function(t){var e=t;if("number"==typeof t)t=t||0;else if(t=this._getLabelIndex(e),-1===t)throw"Label not found";return this._nPtr=t,this._nPausePassed=0,this},isPlaying:function(){return this._bPlaying||!1},clear:function(){return this._aQueue.length=0,this._aRepeat.length=0,this._nPtr=0,this._nPausePassed=0,this},_getPointer:function(){return this._nPtr},_getEffectCSS:function(t){var e=this.option("bUseTransition")&&this._bTransitionSupport;if(!e)return null;if(this._htEventHandler.progress&&this._htEventHandler.progress.length||this._htEventHandler.beforeProgress&&this._htEventHandler.beforeProgress.length)return null;if(t.hasOwnProperty("toString"))return t.toString();switch(t){case jindo.m.Effect.linear:return"linear";case jindo.m.Effect.cubicEase:return"ease";case jindo.m.Effect.cubicEaseIn:return"ease-in";case jindo.m.Effect.cubicEaseOut:return"ease-out";case jindo.m.Effect.cubicEaseInOut:return"ease-in-out";default:if(t.cubicBezier&&Math.max.apply(Math,t.cubicBezier)<=1&&Math.min.apply(Math,t.cubicBezier)>=0)return"cubic-bezier("+t.cubicBezier.join(",")+")"}return null},_requestAnimationFrame:function(t){var e,n=this,i=function(){e===n._oLastRAF&&(n._oLastRAF=null,t())};return e=window.requestAnimationFrame?requestAnimationFrame(i):setTimeout(i,1e3/60),this._oLastRAF=e},_cancelAnimationFrame:function(t){var e;return e=window.cancelAnimationFrame?cancelAnimationFrame(t):clearTimeout(t),this._oLastRAF=null,e},_oProperPrefix:{},_getProperPrefix:function(t){var e=this._oProperPrefix;if(t in e)return e[t];for(var n,i,o=document.body.style,s=["webkit","","Moz","O","ms"],a=function(t){return t.toUpperCase()},r=0,h=s.length;h>r;r++)if(n=s[r],i=n+(n?t.replace(/^[a-z]/,a):t),i in o)return e[t]=n;return e[t]=""},_getCSSKey:function(t){var e=this,n="",i=t.replace(/^(\-(webkit|o|moz|ms)\-)?([a-z]+)/,function(t,i,o,s){return n=o||e._getProperPrefix(s),n&&(s=s.replace(/^[a-z]/,function(t){return t.toUpperCase()})),s}).replace(/\-(\w)/g,function(t,e){return e.toUpperCase()});return({o:"O",moz:"Moz",webkit:"Webkit"}[n]||n)+i},_getCSSVal:function(t){var e=this,n=t.replace(/(^|\s)(\-(webkit|moz|o|ms)\-)?([a-z]+)/g,function(t,n,i,o,s){return o=o||e._getProperPrefix(s),n+(o&&"-"+o+"-")+s});return n},_getMatrixObj:function(t,e){t=t.replace(/\b(translate(3d)?)\(\s*([^,]+)\s*,\s*([^,\)]+)/g,function(t,n,i,o,s){return/%$/.test(o)&&(o=parseFloat(o)/100*e.offsetWidth+"px"),/%$/.test(s)&&(s=parseFloat(s)/100*e.offsetHeight+"px"),n+"("+o+","+s}).replace(/\b(translate([XY]))\(\s*([^\)]+)/g,function(t,n,i,o){return"X"===i&&/%$/.test(o)?o=parseFloat(o)/100*e.offsetWidth+"px":"Y"===i&&/%$/.test(o)&&(o=parseFloat(o)/100*e.offsetHeight+"px"),n+"("+o});var n,i=window.WebKitCSSMatrix||window.MSCSSMatrix||window.OCSSMatrix||window.MozCSSMatrix||window.CSSMatrix;if(i)n=function(t){return new i(t).toString()};else{var o="M"+Math.round((new Date).getTime()*Math.random()),s=jindo.$Agent().navigator(),a=s.firefox?"moz":s.ie?"ms":"o",r="-"+a+"-transform",h=document.createElement("style");h.type="text/css";var f=document.getElementsByTagName("html")[0];f.insertBefore(h,f.firstChild);var c=h.sheet||h.styleSheet,u=document.createElement("div");u.id=o;var l=window.getComputedStyle(u,null);n=function(t){var e=null;return c.insertRule("#"+o+" { "+r+": "+t+" !important; }",0),document.body.insertBefore(u,document.body.firstChild),e=l.getPropertyValue(r),document.body.removeChild(u),c.deleteRule(0),e}}var d=n(t);return/^([^\(]+)\(([^\)]*)\)$/.test(d)?{key:RegExp.$1,val:RegExp.$2.replace(/\s*,\s*/g," ")}:{key:"matrix",val:"1 0 0 1 0 0"}},_convertMatrix3d:function(t){if("matrix3d"===t.key)return t;var e=t.val.split(" ");return t.key="matrix3d",e.splice(2,0,"0"),e.splice(3,0,"0"),e.splice(6,0,"0"),e.splice(7,0,"0"),e.splice(8,0,"0"),e.splice(9,0,"0"),e.splice(10,0,"1"),e.splice(11,0,"0"),e.splice(14,0,"0"),e.splice(15,0,"1"),t.val=e.join(" "),t},_parseTransformText:function(t){t=t||"";var e={};return t.replace(/([\w\-]+)\(([^\)]*)\)/g,function(t,n,i){var o=i.split(/\s*,\s*/);switch(n){case"translate3d":case"scale3d":case"skew3d":n=n.replace(/3d$/,""),e[n+"Z"]=o[2];case"translate":case"scale":case"skew":e[n+"X"]=o[0],"undefined"==typeof o[1]?"scale"===n&&(e[n+"Y"]=o[0]):e[n+"Y"]=o[1];break;default:e[n]=o.join(",")}}),e},_getTransformFunction:function(t,e,n,i){var o,s,a;if(/matrix/.test(t+e))return s=this._getMatrixObj(t,i),a=this._getMatrixObj(e,i),s.key!==a.key&&(s=this._convertMatrix3d(s),a=this._convertMatrix3d(a)),n=n(s.val,a.val),function(t){return 1===t?e:s.key+"("+n(t).replace(/ /g,",")+")"};s=this._parseTransformText(t),a=this._parseTransformText(e);var r={};for(o in s)s.hasOwnProperty(o)&&(r[o]=n(s[o],a[o]||(/^scale/.test(o)?1:0)));for(o in a)!a.hasOwnProperty(o)||o in s||(r[o]=n(s[o]||(/^scale/.test(o)?1:0),a[o]));var h=function(t){var e=[];for(var n in r)r.hasOwnProperty(n)&&e.push(n+"("+r[n](t)+")");return e.join(" ")};return h}}).extend(jindo.m.Component),jindo.m.UIComponent=jindo.$Class({$init:function(){this._bIsActivating=!1},isActivating:function(){return this._bIsActivating},activate:function(){return this.isActivating()?this:(this._bIsActivating=!0,arguments.length>0?this._onActivate.apply(this,arguments):this._onActivate(),this)},deactivate:function(){return this.isActivating()?(this._bIsActivating=!1,arguments.length>0?this._onDeactivate.apply(this,arguments):this._onDeactivate(),this):this}}).extend(jindo.m.Component),jindo.m.LayerEffect=jindo.$Class({$init:function(t,e){this.option({nDuration:250,fEffect:jindo.m.Effect.linear,bActivateOnload:!0}),this._initVar(),!arguments[0]||"string"!=typeof arguments[0]&&1!=arguments[0].nodeType?this.option(arguments[0]||{}):(this.setLayer(t),this.option(e||{})),this._initTransition(),this.option("bActivateOnload")&&this.activate()},_htEffect:{expand:"jindo.m.ExpandEffect",contract:"jindo.m.ContractEffect",fade:"jindo.m.FadeEffect",pop:"jindo.m.PopEffect",slide:"jindo.m.SlideEffect",flip:"jindo.m.FlipEffect"},_initVar:function(){this._htEffectInstance={},this._htLayerInfo={},this._htWElement={},this._htCurrentTask={},this.bAndroid=jindo.m.getDeviceInfo().android,this.sClassHighligting="_effct_hide_highlighting_tmp"},_initTransition:function(){this._oMorph=new jindo.m.Morph({fEffect:this.option("fEffect")||(this.option("sEffect")?this._getEffect(this.option("sEffect")):null),bUseTransition:jindo.m.useTimingFunction()})},_getEffect:function(t){var e=jindo.m.Effect.cubicEaseInOut;switch(t){case"linear":e=jindo.m.Effect.linear;break;case"ease":e=jindo.m.Effect.cubicEase;break;case"ease-in":e=jindo.m.Effect.cubicEaseIn;break;case"ease-out":e=jindo.m.Effect.cubicEaseOut;break;case"ease-in-out":e=jindo.m.Effect.cubicEaseInOut}return e},_createEffect:function(sType){if(this._htEffect[sType]&&!this._htEffectInstance[sType]){try{this._htEffectInstance[sType]=eval("new "+this._htEffect[sType]+"()")}catch(e){}this._htEffectInstance[sType].setLayerInfo(this._htLayerInfo)}},_createFunc:function(){for(var t=["slide","pop","flip","fade","expand","contract"],e=0,n=t.length;n>e;e++)this[t[e]]=function(t){return function(e){var n=t;if("string"==typeof arguments[0]||1==arguments[0].nodeType){this.setLayer(arguments[0]);var i=arguments[2]||{};i.sDirection=arguments[1],this._run(n,i)}else this._run(n,e)}}(t[e])},isPlaying:function(){return this._oMorph.isPlaying()},_fireCustomEvent:function(t,e){return this.fireEvent(t,e)},_run:function(t,e){if(this._isAvailableEffect()){this._createEffect(t),"undefined"==typeof e&&(e={});var n=this._htEffectInstance[t],i=this.getLayer(),o="undefined"==typeof e.nDuration?this.option("nDuration"):parseInt(e.nDuration,10),s=n.getBeforeCommand(i,e),a=n.getCommand(i,e);if(this._htCurrentTask=e,this._htCurrentTask.elLayer=i,this._htCurrentTask.sTaskName=a.sTaskName,this._htCurrentTask.nDuration=o,this._fireCustomEvent("beforeEffect",{elLayer:i,sEffect:a.sTaskName,nDuration:o})){s&&this._oMorph.pushAnimate(-1,[this.getLayer(),s.htStyle]);var r=this;e.sEffect&&this._oMorph.pushCall(function(){this.option({fEffect:r._getEffect(e.sEffect)})}),o=0==o?-1:o,this._oMorph.pushAnimate(o,[this.getLayer(),a.htStyle]),a.fCallback&&("function"==typeof a.fCallback?this._oMorph.pushCall(function(){a.fCallback()}):"object"==typeof a.fCallback&&this._oMorph.pushAnimate(-1,[this.getLayer(),a.fCallback.htStyle||{}])),this._oMorph.play()}}},setLayer:function(t){this._htWElement.el=jindo.$(t),this._htWElement.wel=jindo.$Element(this._htWElement.el);var e;if(this.bAndroid&&(e=jindo.$$.getSingle("."+this.sClassHighligting,this._htWElement.el),!e)){var n='<a href="javascript:void(0)" style="position:absolute" class="'+this.sClassHighligting+'"></a>';e=jindo.$(n),this._htWElement.wel.append(e),e.style.opacity="0",e.style.width=0,e.style.height=0,e.style.left="-1000px",e.style.top="-1000px"}this.setSize()},stop:function(t){"undefined"==typeof t&&(t=!0),this._oMorph&&this._oMorph.pause(t)},clearEffect:function(t){this._oMorph&&(this.stop(t),this._oMorph.clear())},getLayer:function(){return this._htWElement.el},setSize:function(){var t=this._htWElement.el.cloneNode(!0),e=jindo.$Element(t);e.opacity(0),this._htWElement.wel.after(e),e.show(),this._htLayerInfo.nWidth=this._htWElement.wel.width(),this._htLayerInfo.nHeight=this._htWElement.wel.height(),e.css({position:"absolute",top:"0px",left:"0px"}),this._htLayerInfo.nMarginLeft=parseInt(e.css("marginLeft"),10),this._htLayerInfo.nMarginTop=parseInt(e.css("marginTop"),10),this._htLayerInfo.nMarginLeft=isNaN(this._htLayerInfo.nMarginLeft)?0:this._htLayerInfo.nMarginLeft,this._htLayerInfo.nMarginTop=isNaN(this._htLayerInfo.nMarginTop)?0:this._htLayerInfo.nMarginTop,this._htLayerInfo.nOpacity=this._htWElement.wel.opacity(),this._htLayerInfo.sPosition=this._htWElement.wel.css("position");var n=this._htWElement.wel.css("display");n="none"===n||0===n.length?"block":n,this._htLayerInfo.sDisplay=n,this._htLayerInfo.sClassHighligting=this.sClassHighligting,e.leave(),this._setEffectLayerInfo()},_setEffectLayerInfo:function(){for(var t in this._htEffectInstance)this._htEffectInstance[t].setLayerInfo(this._htLayerInfo)},_onTransitionEnd:function(){this._htCurrentTask&&this._fireCustomEvent("afterEffect",{elLayer:this._htCurrentTask.elLayer,sEffect:this._htCurrentTask.sTaskName,nDuration:this._htCurrentTask.nDuration})},_onTransitionStop:function(t){t.sTaskName&&this._fireCustomEvent("stop",{elLayer:this._htCurrentTask.elLayer,sEffect:this._htCurrentTask.sTaskName,nDuration:this._htCurrentTask.nDuration})},_isAvailableEffect:function(){return this.isActivating()},_onActivate:function(){this._attachEvent(),this._createFunc()},_onDeactivate:function(){this._detachEvent()},_attachEvent:function(){this._htEvent={},this._htEvent.end=jindo.$Fn(this._onTransitionEnd,this).bind(),this._htEvent.stop=jindo.$Fn(this._onTransitionStop,this).bind(),this._oMorph&&this._oMorph.attach({end:this._htEvent.end,stop:this._htEvent.stop})},_detachEvent:function(){this._htEvent=null},destroy:function(){this.deactivate();for(var t in this._htWElement)this._htWElement[t]=null;this._htWElement=null}}).extend(jindo.m.UIComponent),jindo.m._Effect_=jindo.$Class({$init:function(){this._sCssPrefix=jindo.m.getCssPrefix();var t=jindo.m.getDeviceInfo();this.bIos=t.iphone||t.ipad,this.bIos3=t.iphone&&t.version.length>0&&"3"==t.version.substring(0,1),this.bAndroid=t.android,this.bAndroid3Up=t.android&&t.version.length>0&&t.version.substring(0,1)>="3",this.bAndroid2_1=t.android&&t.version.length>0&&"2.1"===t.version,this.sTranOpen=this.bIos?"translate3d(":"translate(",this.sTranEnd=this.bIos?",0px)":")",this._initVar()},_initVar:function(){this._htLayerInfo={}},setLayerInfo:function(t){this._htLayerInfo={};for(var e in t)this._htLayerInfo[e]=t[e]},getTranslateStyle:function(t,e){var n=e||{};for(var i in t)n["@"+i]=t[i];return n},getTransitionTask:function(){return null},getBeforeCommand:function(){return null},getCommand:function(){return null}}),jindo.m.SlideEffect=jindo.$Class({sEffectName:"slide",getCommand:function(t,e){e.nDistance&&(e.nSize=e.nDistance);var n,i,o,s=e.sDirection?e.sDirection:"left",a=jindo.m.getCssOffset(t),r=a.left,h=a.top;if(n="undefined"!=typeof e.nSize?e.nSize:this._htLayerInfo.nWidth,i="undefined"!=typeof e.nSize?e.nSize:this._htLayerInfo.nHeight,("up"==s||"down"==s)&&(h+="up"==s?-1*i:i),("left"==s||"right"==s)&&(r+="left"==s?-1*n:n),"undefined"!=typeof e.elBaseLayer){r=0,h=0;var f=jindo.$Element(e.elBaseLayer);o=jindo.$Element(t),i="undefined"!=typeof e.nSize?e.nSize:f.height(),n="undefined"!=typeof e.nSize?e.nSize:f.width(),("up"==s||"down"==s)&&(h="down"==s?-1*i:i),("left"==s||"right"==s)&&(r="left"==s?n:-1*n),r=-1*r,h=-1*h}var c=this._htLayerInfo.sPosition,u=this.bAndroid,l=this.bAndroid3Up,d=this._htLayerInfo.sClassHighligting,_=this.bAndroid2_1;o=jindo.$Element(t);var p=e.htTo||{};p.transform=this.sTranOpen+r+"px, "+h+"px"+this.sTranEnd;var m={};return this.getTranslateStyle(p,m),{sTaskName:this.sEffectName+"-"+s,htStyle:m,fCallback:function(){var e=jindo.m.getCssOffset(t),n=1*o.css("top").replace("px",""),i=1*o.css("left").replace("px","");n=isNaN(n)?0:n,i=isNaN(i)?0:i,"relative"==c?o.css("position","relative"):o.css("position","absolute");var s=jindo.m.getCssPrefix();if(o.css(s+"Transform",""),l&&o.offset(),o.$value().style.top=parseInt(n+e.top,10)+"px",o.$value().style.left=parseInt(e.left+i,10)+"px",u&&!l){var a=jindo.$$.getSingle("."+d,o.$value());a&&(_?setTimeout(function(){a.focus()},5):a.focus())}}}},getBeforeCommand:function(t,e){var n=e.sDirection?e.sDirection:"left",i=e.htFrom||{},o=jindo.$Element(t);if("undefined"!=typeof e.elBaseLayer){var s=jindo.$Element(e.elBaseLayer);if(!s.isParentOf(o)){s.append(o);var a=o.css("position");"relative"!=a&&"absolute"!=a&&o.css("position","absolute"),o.css("opacity",0)}var r=0,h=0,f=s.height(),c=s.width();("up"==n||"down"==n)&&(h="down"==n?-1*f:f),("left"==n||"right"==n)&&(r="left"==n?c:-1*c),s.css("overflow","hidden"),i.left=r+"px",i.top=h+"px",i.opacity=this._htLayerInfo.nOpacity}var u={};return this.getTranslateStyle(i,u),{htStyle:u}}}).extend(jindo.m._Effect_),jindo.m.PopEffect=jindo.$Class({sEffectName:"pop",getCommand:function(t,e){var n=e.sDirection?e.sDirection:"in",i=e.htTo||{};"undefined"==typeof i.opacity&&(i.opacity="in"==n?1:.1);var o="in"==n?1:this.bIos3||this.bAndroid3Up?.1:0,s={};"out"==n&&(s.htStyle={},s.htStyle["@display"]="none",s.htStyle["@opacity"]=this._htLayerInfo.nOpacity,s.htStyle["@transform"]="scale(1)");var a="scale("+o+")";this.bAndroid3Up,i.transformOrigin="50% 50%",i.transform=a;var r={};return this.getTranslateStyle(i,r),{sTaskName:this.sEffectName+"-"+n,htStyle:r,fCallback:s}},getBeforeCommand:function(t,e){var n=e.sDirection?e.sDirection:"in",i=e.htFrom||{};"undefined"==typeof i.opacity&&(i.opacity="in"==n?.1:1),i.display=this._htLayerInfo.sDisplay;var o="in"==n?this.bIos3||this.bAndroid3Up?.1:0:1,s="scale("+o+")";this.bAndroid3Up,i.transformOrigin="50% 50%",i.transform=s;var a={};return this.getTranslateStyle(i,a),{htStyle:a}}}).extend(jindo.m._Effect_),jindo.m.FlipEffect=jindo.$Class({sEffectName:"flip",getCommand:function(t,e){var n=e.sDirection?e.sDirection:"left",i="Y";("up"==n||"down"==n)&&(i="X");var o=e.htTo||{},s=jindo.$Element(e.elFlipFrom?e.elFlipFrom:t),a=e.elFlipTo?jindo.$Element(e.elFlipTo):null,r=this._getCssRotate(this._getCssTransform(s));r[i]=r[i]+("left"==n||"down"==n?-180:180);var h="rotateX("+r.X+"deg) rotateY("+r.Y+"deg)";a&&(a.$value().style[this._sCssPrefix+"Transform"]="rotate"+i+"(0deg)",h="rotate"+i+"(0deg)"),o.transformStyle="preserve-3d",o.transform=h;var f={};return this.getTranslateStyle(o,f),e&&e.elBack&&(e.elBack.style[this._sCssPrefix+"BackfaceVisibility"]="hidden",e.elBack.style[this._sCssPrefix+"Transform"]="rotate"+i+"( 180deg )",s.$value().style[this._sCssPrefix+"BackfaceVisibility"]="hidden"),{sTaskName:this.sEffectName+"-"+n,htStyle:f}},getBeforeCommand:function(t,e){var n=e.sDirection?e.sDirection:"left",i=e.htFrom||{},o="Y";("up"==n||"down"==n)&&(o="X");var s=jindo.$Element(e.elFlipFrom?e.elFlipFrom:t),a=e.elFlipTo?jindo.$Element(e.elFlipTo):null,r=s.$value().parentNode;r.style.webkitPerspective="1200";var h=this._getCssRotate(this._getCssTransform(s)),f="rotateX("+h.X+"deg) rotateY("+h.Y+"deg)";a&&(a.$value().style[this._sCssPrefix+"Transform"]="rotate"+o+"(-180deg)",f="rotate"+o+"(-180deg)"),i.perspective="1200",i.transformStyle="preserve-3d",i.transform=f;var c={};return this.getTranslateStyle(i,c),{htStyle:c}},_getCssRotate:function(t){var e=t,n={X:0,Y:0};if(!e)return n;var i=e.match(/rotateX\((\-?\d*)deg/);return i&&i.length>1&&(n.X=1*i[1],n.X%360==0&&(n.X=0)),i=e.match(/rotateY\((\-?\d*)deg/),i&&i.length>1&&(n.Y=1*i[1],n.Y%360==0&&(n.Y=0)),n},_getCssTransform:function(t){return t.css(this._sCssPrefix+"Transform")||""}}).extend(jindo.m._Effect_),jindo.m.Dialog=jindo.$Class({$init:function(t){var e={bActivateOnload:!0,sClassPrefix:"dialog-",sPosition:"center",bUseEffect:!0,bAutoClose:!1,bAutoReposition:!0,sFoggyColor:"gray",nFoggyOpacity:.5,sEffectType:"pop",nEffectDuration:500,sDialogColor:"white"};this.option(e),this.option(t||{}),this._setWrapperElement(),this._initVar(),this._setDeviceSize(),this._initElement(),this.option("bActivateOnload")&&this.activate()},_setWrapperElement:function(){this._htWElement={},this._htWElement.dialog_container=jindo.$Element('<div class="'+this.option("sClassPrefix")+'container"></div>'),this._htWElement.dialog_foggy=jindo.$Element('<div class="'+this.option("sClassPrefix")+'fog"></div>'),this._htWElement.dialog_layer=jindo.$Element('<div class="'+this.option("sClassPrefix")+'layer"></div>'),this._htWElement.dialog_clone=jindo.$Element('<div class="'+this.option("sClassPrefix")+'clone"></div>')},_initVar:function(){this._htDialogSize={width:0,height:0},this._sTemplate=null,this._bIsShown=!1,this._bProcessingShow=!1,this._bProcessingHide=!1,this._htDeviceInfo=jindo.m.getDeviceInfo(),this._bIOS=this._htDeviceInfo.iphone||this._htDeviceInfo.ipad?!0:!1,this._bIsRenderBug=!0,this._bAndroid=this._htDeviceInfo.android?!0:!1},_setDeviceSize:function(){this._htDeviceSize=this._bIOS||this._bAndroid||!jindo.$Agent().navigator().mobile?jindo.$Document().clientSize():{width:window.screen.width,height:window.screen.height}},_initContainerTop:function(){var t=0,e=this.option("bUseEffect"),n=this.option("sEffectType");!e||"slide-up"!=n&&"slide-down"!=n||(t=this._htDeviceSize.height*("slide-up"==n?1:-1)),t+=window.pageYOffset,this._htWElement.dialog_container.css("top",t+"px")},_initElement:function(){this._htWElement.dialog_foggy.css({position:"absolute",padding:"0px",margin:"0px",border:"0px",backgroundColor:this.option("sFoggyColor"),opacity:this.option("nFoggyOpacity"),width:this._htDeviceSize.width+"px",height:this._htDeviceSize.height+"px",left:"0px",top:"0px"}),this._htWElement.dialog_foggy.appendTo(this._getContainer()),this._htWElement.dialog_layer.css({position:"relative",backgroundColor:this.option("sDialogColor")}),this._htWElement.dialog_layer.appendTo(this._getContainer()),this._htWElement.dialog_container.css({position:"absolute",overflow:"hidden",width:this._htDeviceSize.width+"px",height:this._htDeviceSize.height+"px",left:"0px",zIndex:2050}),this._initContainerTop(),this._htWElement.dialog_container.hide(),this._htWElement.dialog_container.appendTo(document.body),this.option("bUseEffect")&&(this._oLayerEffect=new jindo.m.LayerEffect(this._getContainer())),this._htWElement.dialog_clone.css({position:"absolute",left:"-1000px",top:"-1000px"}),this._htWElement.dialog_clone.appendTo(document.body),this._htWElement.dialog_clone.hide()},_onActivate:function(){this._attachEvent()},_onDeactivate:function(){this._detachEventAll()},_attachEvent:function(){this._htEvent={},this._htEvent.click={ref:jindo.$Fn(this._onClick,this).attach(this.getDialog(),"click"),el:this.getDialog()},this._htEvent.touchend={ref:jindo.$Fn(this._onClick,this).attach(this._getFoggy(),"touchend"),el:this._getFoggy()},this._htEvent.touchmove={ref:jindo.$Fn(this._onTouchMove,this).attach(this._getContainer(),"touchmove"),el:this._getContainer()},this.option("bAutoReposition")&&(this._htEvent.rotate=jindo.$Fn(this._onResize,this).bind(),jindo.m.bindRotate(this._htEvent.rotate))},_detachEvent:function(t){if(t){var e=this._htEvent[t];e.ref&&e.ref.detach(e.el,t)}},_detachEventAll:function(){for(var t in this._htEvent)this._detachEvent(t);jindo.m.unbindRotate(this._htEvent.rotate),this._htEvent=null},_onClick:function(t){var e,n,i,o,s,a=this.option("sClassPrefix");if(e=jindo.m.getClosest("."+a+"close",t.element))this.fireEvent("close",{sType:"close",elLayer:this.getDialog()})&&this.hide();else if(n=jindo.m.getClosest("."+a+"confirm",t.element))this.fireEvent("confirm",{sType:"confirm",elLayer:this.getDialog()})&&this.hide();else if(i=jindo.m.getClosest("."+a+"cancel",t.element))this.fireEvent("cancel",{sType:"cancel",elLayer:this.getDialog()})&&this.hide();else if(o=jindo.m.getClosest("."+a+"layer",t.element)){if(s=jindo.m.getClosest("a",t.element))return!1}else this.option("bAutoClose")&&this.hide();return t.stop(),!1},_onTouchStart:function(t){var e,n=this.option("sClassPrefix");return(e=jindo.m.getClosest("."+n+"layer",t.element))?void 0:(t.stop(jindo.$Event.CANCEL_ALL),!1)},_onTouchMove:function(t){return t.stop(jindo.$Event.CANCEL_ALL),!1},_onResize:function(){(this._bProcessingShow||this._bProcessingHide)&&(this.option("bUseEffect")?this._getLayerEffect().stop():this._bProcessingShow?this._endShowEffect():this._endHideEffect()),this._oTimeout&&(clearTimeout(this._oTimeout),this._oTimeout=null),this.isShown()&&this._bIsRenderBug&&this._htWElement.dialog_container.hide(),this._oTimeout=setTimeout(jindo.$Fn(function(){this._resizeDocument(),this.isShown()&&this._bIsRenderBug&&this._htWElement.dialog_container.show(),this.option("bUseEffect")&&this._getLayerEffect().setSize()},this).bind(),300)},_resizeDocument:function(){this._setDeviceSize(),this._htWElement.dialog_container.css({width:this._htDeviceSize.width+"px",height:this._htDeviceSize.height+"px"}),this._htWElement.dialog_foggy.css({width:this._htDeviceSize.width+"px",height:this._htDeviceSize.height+"px"}),this._resizeDialog(!0),this.option("bUseEffect")&&this._getLayerEffect().setSize()},_resizeDialog:function(t){(this._setDialogSize()||t)&&this._repositionDialog()},_getLayerEffect:function(){return this._oLayerEffect},_getContainer:function(){return this._htWElement.dialog_container.$value()},_getFoggy:function(){return this._htWElement.dialog_foggy.$value()},getDialog:function(){return this._htWElement.dialog_layer.$value()},setTemplate:function(t){this._sTemplate=t,this._oTemplate=jindo.$Template(this._sTemplate),this._htWElement.dialog_clone.html(t),this._resizeDialog()},getTemplate:function(){return this._sTemplate},_setDialogSize:function(){var t,e;return"all"==this.option("sPosition")?(t=this._htDeviceSize.width,e=this._htDeviceSize.height):(this._htWElement.dialog_clone.show(),t=Math.min(this._htWElement.dialog_clone.width(),this._htDeviceSize.width),e=Math.min(this._htWElement.dialog_clone.height(),this._htDeviceSize.height),this._htWElement.dialog_clone.hide()),this._htDialogSize.width==t&&this._htDialogSize.height==e?!1:(this._htDialogSize={width:t,height:e},this._htWElement.dialog_layer.css({width:t+"px",height:e+"px"}),this._htDialogSize)},_getDialogSize:function(){return this._htDialogSize},_repositionDialog:function(){var t=this._getDialogPosition();if(this._htWElement.dialog_layer.css({top:t.top+"px",left:t.left+"px"}),this._htWElement.dialog_container.css({top:window.pageYOffset+"px",left:window.pageXOffset+"px"}),!this.isShown()){var e=this.option("sEffectType");("slide-up"==e||"slide-down"==e)&&this._initContainerTop()}},_getDialogPosition:function(){var t=this._htDeviceSize.width,e=this._htDeviceSize.height,n=this._getDialogSize().width,i=this._getDialogSize().height,o={};switch(this.option("sPosition")){case"top":o.top=0,o.left=parseInt((t-n)/2,10);break;case"center":o.top=parseInt((e-i)/2,10),o.left=parseInt((t-n)/2,10);break;case"bottom":o.top=parseInt(e-i,10),o.left=parseInt((t-n)/2,10);break;case"all":o.top=0,o.left=0}return o},setPosition:function(t){("top"==t||"center"==t||"bottom"==t||"all"==t)&&this.option("sPosition",t),this._resizeDialog()},useEffect:function(){return this.option("bUseEffect")?!1:(this.option("bUseEffect",!0),void this._initContainerTop())},unuseEffect:function(){return this.option("bUseEffect")?(this.option("bUseEffect",!1),void this._initContainerTop()):!1},setEffectType:function(t){this.useEffect(),("pop"==t||"slide-up"==t||"slide-down"==t||"flip"==t)&&(this.option("sEffectType",t),this._initContainerTop())},setEffectDuration:function(t){this.useEffect(),t&&t>99&&this.option("nEffectDuration",t)},setEffect:function(t){this.useEffect(),t.type&&this.setEffectType(t.type),t.duration&&this.setEffectDuration(t.duration)},isShown:function(){return this._bIsShown},show:function(t,e){return this.isShown()?!1:(this._bProcessingShow=!0,this._htEvent.touchstart={ref:jindo.$Fn(this._onTouchStart,this).attach(document,"touchstart"),el:document},e&&(this._showAttachedEvent=e,this.attach(e)),this._resizeDocument(),"undefined"==typeof t?t={}:(this._htWElement.dialog_clone.html(this._oTemplate.process(t)),this._resizeDialog()),this._htWElement.dialog_layer.html(this._oTemplate.process(t)),void(this.fireEvent("beforeShow",{sType:"beforeShow",elLayer:this.getDialog()})&&this._showDialogLayer()))},_showDialogLayer:function(){this.option("bUseEffect")?(this._getLayerEffect().attach("afterEffect",jindo.$Fn(this._endShowEffect,this).bind()),this._startShowEffect()):(this._htWElement.dialog_container.show(),this._endShowEffect())},_startShowEffect:function(){var t=this.option("sEffectType"),e=this.option("nEffectDuration");switch(t){case"slide-up":this._htWElement.dialog_container.show(),this._getLayerEffect().setSize(),this._getLayerEffect().slide({sDirection:"up",nDuration:e});break;case"slide-down":this._htWElement.dialog_container.show(),this._getLayerEffect().setSize(),this._getLayerEffect().slide({sDirection:"down",nDuration:e});break;case"pop":this._getLayerEffect().pop({sDirection:"in",nDuration:e,htFrom:{opacity:1}});break;case"flip":this._htWElement.dialog_container.show(),this._getLayerEffect().flip({nDuration:e,elFlipFrom:this._getContainer(),elFlipTo:this._getContainer(),htFrom:{opacity:0},htTo:{opacity:1}})
}},_endShowEffect:function(){this.option("bUseEffect")&&this._getLayerEffect().detachAll("afterEffect"),this.fireEvent("show",{sType:"show",elLayer:this.getDialog()}),this._bIsShown=!0,this._bProcessingShow=!1},hide:function(){return this.isShown()?(this._bProcessingHide=!0,void(this.fireEvent("beforeHide",{sType:"beforeHide",elLayer:this.getDialog()})&&this._hideDialogLayer())):!1},_hideDialogLayer:function(){this.option("bUseEffect")?(this._getLayerEffect().attach("afterEffect",jindo.$Fn(this._endHideEffect,this).bind()),this._startHideEffect()):(this._htWElement.dialog_container.hide(),this._endHideEffect())},_startHideEffect:function(){var t=this.option("sEffectType"),e=this.option("nEffectDuration");switch(t){case"slide-up":this._getLayerEffect().slide({sDirection:"down",nDuration:e});break;case"slide-down":this._getLayerEffect().slide({sDirection:"up",nDuration:e});break;case"pop":this._getLayerEffect().pop({sDirection:"out",nDuration:e,htTo:{opacity:0}});break;case"flip":this._getLayerEffect().flip({nDuration:e,elFlipFrom:this._getContainer(),elFlipTo:this._getContainer(),htTo:{opacity:0}})}},_endHideEffect:function(){if(this.option("bUseEffect")&&this._getLayerEffect().detachAll("afterEffect"),this.fireEvent("hide",{sType:"hide",elLayer:this.getDialog()}),this._showAttachedEvent){for(var t in this._showAttachedEvent)this.detachAll(t);this._showAttachedEvent=null}this._detachEvent("touchstart"),this._htWElement.dialog_container.hide(),this._htWElement.dialog_container.css("opacity",1),(window.pageYOffset||window.pageXOffset)&&this._htWElement.dialog_container.css({top:"0px",left:"0px"}),this._bIsShown=!1,this._bProcessingHide=!1},destroy:function(){this._detachEventAll(),this.option("bUseEffect")&&(this._getLayerEffect().destroy(),this._oLayerEffect=null),this._htWElement.dialog_container.leave(),this._htWElement.dialog_clone.leave(),this._htWElement=null,this._htDeviceSize=null,this._htDialogSize=null,this._sTemplate=null,this._oTemplate=null,this._bIsShown=null,this._bProcessingShow=null,this._bProcessingHide=null,this._oTimeout=null,this._htDeviceInfo=null,this._bIOS=null,this._bIsRenderBug=null,this._bAndroid=null}}).extend(jindo.m.UIComponent),jindo.m.Loading=jindo.$Class({$init:function(t,e){this.option({bActivateOnload:!0,nWidth:31,nHeight:31,sDefaultForeground:"black",sDefaultBackground:"transparent",sLoadingText:"",bUseFoggy:t?!1:!0,sFoggyColor:"gray",nFoggyOpacity:.3}),this.option(e||{}),this._setWrapperElement(t),this.option("bActivateOnload")&&this.activate()},$static:{DELAY:["0","-.9167s","-.833s","-.75s","-.667s","-.5833s","-.5s","-.41667s","-.333s","-.25s","-.1667s","-.0833s"],ANIMATION_STYLE:"_loading_animation_sytle_",CONTAINER_CLASS:"_loading_container_class_"},_setWrapperElement:function(t){this._htWElement={},this._htWElement.base=jindo.$Element(jindo.$(t)?jindo.$(t):document.body),this._createLoading()},_createLoading:function(){this._createLoadingStyle(),this._htWElement.container=jindo.$Element("<div style='zIndex: 2100'>").addClass(jindo.m.Loading.CONTAINER_CLASS),this.option("bUseFoggy")&&this._createFoggy().appendTo(this._htWElement.container),this._createLoadingElement(),this._htWElement.loadingbox=jindo.$Element("<div>").css({zIndex:30000,position:"absolute"}).append(this._htWElement.loading),this.option("sLoadingText")&&this._createLoadingText().appendTo(this._htWElement.loadingbox),this._htWElement.loadingbox.appendTo(this._htWElement.container)},_createFoggy:function(){return this._htWElement.foggy=jindo.$Element("<div>").css({position:"absolute",padding:"0px",margin:"0px",border:"0px",backgroundColor:this.option("sFoggyColor"),opacity:this.option("nFoggyOpacity"),width:"100%",height:"100%",left:"0px",top:"0px",zIndex:29099}),this._htWElement.foggy},_setPosition:function(){var t,e=this._htWElement.loadingbox.width(),n=this._htWElement.loadingbox.height();this._isBody()?(t=jindo.$Document().scrollPosition(),this._htWElement.container.css({left:t.left+"px",top:t.top+"px",width:window.innerWidth+"px",height:window.innerHeight+"px"})):(this._htWElement.container.width()<e&&this._htWElement.container.width(e),this._htWElement.container.height()<n&&this._htWElement.container.height(n)),this._htWElement.loadingbox.css({top:"50%",left:"50%","margin-left":-parseInt(e/2,10)+"px","margin-top":-parseInt(n/2,10)+"px"})},_isBody:function(){return this._htWElement.base.isEqual(document.body)},show:function(){if(this.fireEvent("beforeShow")){for(var t=this._htWElement.loading.queryAll("span"),e=jindo.m.getCssPrefix(),n=0;n<t.length;n++)jindo.$Element(t[n]).css(e+"Animation","loadingfade 1s linear "+jindo.m.Loading.DELAY[n]+" infinite");this._attachEvent(),this._isBody()&&this._htWElement.container.css({width:window.innerWidth+"px",height:window.innerHeight+"px"}),this._htWElement.container.show(),this._setPosition(),this.fireEvent("show")}},hide:function(){if(this.fireEvent("beforeHide")){for(var t=this._htWElement.loading.queryAll("span"),e=jindo.m.getCssPrefix(),n=0;n<t.length;n++)jindo.$Element(t[n]).css(e+"Animation","");this._detachEvent(),this._htWElement.container.hide(),this.fireEvent("hide")}},_onPrevent:function(t){return t.stop(jindo.$Event.CANCEL_ALL),!1},_onRotate:function(){if(this._htWElement.container.visible())if(jindo.m.getDeviceInfo().andorid)this._setPosition();else{this._htWElement.container.hide();var t=this;setTimeout(function(){t._htWElement.container.show(),t._setPosition()},0)}},_attachEvent:function(){this._htEvent.rotate=jindo.$Fn(this._onRotate,this).bind(),this._htEvent.prevent=jindo.$Fn(this._onPrevent,this).attach(this._htWElement.container,"touchstart").attach(this._htWElement.container,"touchmove"),jindo.m.bindRotate(this._htEvent.rotate)},_detachEvent:function(){this._htEvent.prevent&&this._htEvent.prevent.detach(this._htWElement.container,"touchmove").detach(this._htWElement.container,"touchstart"),jindo.m.unbindRotate(this._htEvent.rotate)},_createLoadingStyle:function(){if(!jindo.$(jindo.m.Loading.ANIMATION_STYLE)){var t=document.createElement("style");if(t){t.setAttribute("type","text/css"),t.setAttribute("id",jindo.m.Loading.ANIMATION_STYLE);var e="@-"+jindo.m.getCssPrefix()+"-keyframes loadingfade{from{opacity:1}to{opacity:0}}",n=document.createTextNode(e);t.styleSheet?t.styleSheet.cssText=n.nodeValue:t.appendChild(n);var i=document.getElementsByTagName("head")[0];i&&i.appendChild(t)}}},_createLoadingElement:function(){for(var t=jindo.m.getCssPrefix(),e=[],n=jindo.m.useCss3d()?{open:"3d(",end:",0)"}:{open:"(",end:")"},i=0;12>i;i++)e.push("<span style='display:block;position:absolute;top:40%;left:48%;width:11%;height:24%;border-radius:6px;background:"),e.push(this.option("sDefaultForeground")),e.push("; opacity:0; -"),e.push(t),e.push("-transform:rotate("),e.push(30*i),e.push("deg) translate"+n.open+"0,-140%"+n.end+";'></span>");this._htWElement.loading=jindo.$Element("<div>").css({position:"relative",margin:"0 auto"}).html(e.join(""))},refresh:function(){this._htWElement.loading.css({width:this.option("nWidth")+"px",height:this.option("nHeight")+"px",background:this.option("sDefaultBackground")}),this._htWElement.text&&this._htWElement.text.html(this.option("sLoadingText"))},_createLoadingText:function(){return this._htWElement.text=jindo.$Element("<div>").css({margin:"2px 0 0 0",bottom:0,width:"100%","text-align":"center"}),this._htWElement.text},_onActivate:function(){this._htEvent={},this._htWElement.container.appendTo(this._htWElement.base),this._isBody()?this._htWElement.container.css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).hide():this._htWElement.container.css({position:"relative"}).hide(),this.refresh()},_onDeactivate:function(){this._detachEvent(),this._htWElement.container.leave()},destroy:function(){this.deactivate();for(var t in this._htWElement)this._htWElement[t]=null;this._htWElement=null}}).extend(jindo.m.UIComponent);