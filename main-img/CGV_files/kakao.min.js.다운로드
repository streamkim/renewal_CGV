/**
 * Kakao Javascript SDK for Kakao Open Platform Service - v1.39.2
 *
 * Copyright 2017 Kakao Corp.
 *
 *  
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 *
 *
 * OSS Notice | KakaoSDK-Javascript
 *
 * This application is Copyright © Kakao Corp. All rights reserved.
 * The following sets forth attribution notices for third party software that may be contained in this application.
 * If you have any questions or concerns, please contact us at opensource@kakaocorp.com
 *
 *
 *  crypto-js
 *
 * https://github.com/brix/crypto-js
 *
 * Copyright 2009-2013 Jeff Mott
 * Copyright 2013-2016 Evan Vosberg
 *
 * MIT License
 *
 *
 *  easyXDM
 *
 * https://github.com/oyvindkinsey/easyXDM/
 *
 * Copyright 2009-2011 Øyvind Sean Kinsey, oyvind@kinsey.no
 *
 * MIT License
 *
 *
 *  ES6-Promise
 *
 * https://github.com/stefanpenner/es6-promise
 *
 * Copyright 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors
 *
 * MIT License
 *
 *
 *  Underscore
 *
 * https://github.com/jashkenas/underscore
 *
 * Copyright 2009-2017 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 *
 * MIT License
 *
 *
 *  Web2App Library
 *
 * https://github.com/kakao/web2app
 *
 * Copyright 2015 Kakao Corp. http://www.kakaocorp.com
 *
 * MIT License
 *
 *
 * ``````````
 * MIT License
 *
 * Copyright (c) <year> <copyright holders>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ``````````
 */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Kakao=e()}(function(){return function p(o,a,s){function c(t,e){if(!a[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[t]={exports:{}};o[t][0].call(r.exports,function(e){return c(o[t][1][e]||e)},r,r.exports,p,o,a,s)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){var i,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,l=[],p=!1,d=-1;function f(){p&&u&&(p=!1,u.length?l=u.concat(l):d=-1,l.length&&m())}function m(){if(!p){var e=c(f);p=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,p=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||p||c(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(c,e,u){(function(e,t){var i=c("process/browser.js").nextTick,n=Function.prototype.apply,r=Array.prototype.slice,o={},a=0;function s(e,t){this._id=e,this._clearFn=t}u.setTimeout=function(){return new s(n.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new s(n.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(e){e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},u.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},u._unrefActive=u.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},u.setImmediate="function"==typeof e?e:function(e){var t=a++,n=!(arguments.length<2)&&r.call(arguments,1);return o[t]=!0,i(function(){o[t]&&(n?e.apply(null,n):e.call(null),u.clearImmediate(t))}),t},u.clearImmediate="function"==typeof t?t:function(e){delete o[e]}}).call(this,c("timers").setImmediate,c("timers").clearImmediate)},{"process/browser.js":1,timers:2}],3:[function(e,t,n){function i(){return"Bearer "+o.getAccessToken()}function r(){return"KakaoAK "+o.getAppKey()}var o;t.exports={accessToken:i,appKey:r,tokenOrKey:(o=e("./auth.js")).getAccessToken()?i:r}},{"./auth.js":6}],4:[function(a,e,t){e.exports=function(){var n={};a("../vendor/es6-promise.js");var i,r=a("../vendor/easyXDM.js"),u=a("./util.js"),l=a("./common.js"),p=a("./api.authType");n.request=function(s){var c=(s=l.processRules(s,d.request,"API.request")).url;return d.api[c].data&&(s.data=l.processRules(s.data,d.api[c].data,"API.request - "+c)),new Promise(function(t,n){(function(){var o={};u.each(s.data,function(e,t){o[t]=u.isString(e)?e:JSON.stringify(e)});var a={url:c,method:d.api[c].method,headers:{KA:l.KAKAO_AGENT,"Cache-Control":"no-cache",Pragma:"no-cache"},data:o},e=d.api[c].authType||p.accessToken;return a.headers.Authorization=e(),new Promise(function(i,t){if("/v1/api/story/upload/multi"===(e=c)||"/v2/api/talk/message/image/upload"===e||s.data.file){if(!s.files&&!s.data.file)throw new l.KakaoError("'files' parameter should be set for "+c);r=s.files||s.data.file,new Promise(function(t,n){var e=u.map(r,function(t){return l.serializeFile(t).then(function(e){return{name:t.name,type:t.type,str:e}})});Promise.all(e).then(function(e){t({paramName:"file",data:e})},function(e){n(e)})}).then(function(e){var t=[];for(var n in o)"file"!==n&&t.push(n+"="+encodeURIComponent(o[n]));0<t.length&&(a.url=a.url+"?"+t.join("&")),a.file=e,i(a)},function(e){t(e)})}else i(a);var r,e})})().then(function(e){(function(){i=i||l.guardCreateEasyXDM(function(){return new r.Rpc({remote:l.URL.apiRemote},{remote:{request:{}}})});return i})().request(e,function(e){s.success(e),s.always(e),t(e)},function(e){var t=function(e){try{l.logDebug(e);var t=e.message;return JSON.parse(t.responseText)}catch(n){return{code:-777,msg:"Unknown error"}}}(e);s.fail(t),s.always(t),n(t)})},function(e){n(e)})})},n.createAPIAlias=function(t){return function(e){return e=e||{},u.defaults(e,t),n.request(e)}};var e={permission:u.isOneOf(["A","F","M"]),enable_share:u.isBoolean,android_exec_param:u.isString,ios_exec_param:u.isString,android_market_param:u.isString,ios_market_param:u.isString},t={secure_resource:u.isBoolean},d={request:{required:{url:function(e){return u.isOneOf(u.keys(d.api))(e)}},optional:{data:u.isObject,files:function(e){return u.passesOneOf([u.isArray,u.isFileList])(e)&&u.every(e,u.passesOneOf([u.isFile,u.isBlob]))},file:u.isFile,success:u.isFunction,fail:u.isFunction,always:u.isFunction},defaults:{data:{},success:u.emptyFunc,fail:u.emptyFunc,always:u.emptyFunc}},api:{"/v1/user/signup":{method:"post",data:{optional:{properties:u.isObject}}},"/v1/user/unlink":{method:"post"},"/v2/user/me":{method:"get",data:{optional:u.extend({property_keys:u.isArray},t)}},"/v1/user/logout":{method:"post",data:{}},"/v1/user/update_profile":{method:"post",data:{required:{properties:u.isObject}}},"/v1/api/talk/profile":{method:"get",data:{optional:t}},"/v1/api/talk/memo/send":{method:"post",data:{required:{template_id:u.passesOneOf([u.isNumber,u.isString])},optional:{args:u.isString}}},"/v2/api/talk/memo/send":{method:"post",data:{required:{template_id:u.isNumber},optional:{args:u.isString}}},"/v2/api/talk/memo/scrap/send":{method:"post",data:{required:{request_url:u.isString},optional:{template_id:u.isNumber,template_args:u.isObject}}},"/v2/api/talk/memo/default/send":{method:"post",data:{required:{template_object:u.isObject}}},"/v1/api/story/profile":{method:"get",data:{optional:t}},"/v1/api/story/isstoryuser":{method:"get"},"/v1/api/story/mystory":{method:"get",data:{required:{id:u.isString}}},"/v1/api/story/mystories":{method:"get",data:{optional:{last_id:u.isString}}},"/v1/api/story/linkinfo":{method:"get",data:{required:{url:u.isString}}},"/v1/api/story/post/note":{method:"post",data:{required:{content:o},optional:e}},"/v1/api/story/post/photo":{method:"post",data:{required:{image_url_list:function(e){return!!u.isArray(e)&&u.every(e,function(e){if(!u.isString(e))return!1;if(u.isURL(e))throw new l.KakaoError("url in image_url_list should be a kage url, obtained from '/v1/api/story/upload/multi'.");return!0})}},optional:u.extend({content:o},e)}},"/v1/api/story/post/link":{method:"post",data:{required:{link_info:u.isObject},optional:u.extend({content:o},e)}},"/v1/api/story/upload/multi":{method:"post",data:{}},"/v1/emoticon/my_items":{method:"get",data:{},authType:p.appKey},"/v1/emoticon/item_resources":{method:"get",data:{required:{id:u.isString}},authType:p.appKey},"/v1/api/story/delete/mystory":{method:"delete",data:{required:{id:u.isString}}},"/v2/emoticon/items":{method:"get",authType:p.tokenOrKey},"/v2/emoticon/item":{method:"get",data:{required:{id:u.passesOneOf([u.isNumber,u.isString])}},authType:p.tokenOrKey},"/v2/emoticon/item_resources":{method:"get",authType:p.tokenOrKey},"/v2/emoticon/item_resource":{method:"get",data:{required:{id:u.passesOneOf([u.isNumber,u.isString])}},authType:p.tokenOrKey},"/v2/api/kakaolink/talk/template/validate":{method:"get",data:{required:{link_ver:u.isString,template_id:u.isNumber},optional:{template_args:u.isObject}},authType:p.appKey},"/v2/api/kakaolink/talk/template/scrap":{method:"get",data:{required:{link_ver:u.isString,request_url:u.isString},optional:{template_id:u.isNumber,template_args:u.isObject}},authType:p.appKey},"/v2/api/kakaolink/talk/template/default":{method:"get",data:{required:{link_ver:u.isString,template_object:u.isObject}},authType:p.appKey},"/v1/user/access_token_info":{method:"get",data:{}},"/v2/api/talk/message/image/upload":{method:"post",data:{required:{file:u.isObject}},authType:p.appKey},"/v2/api/talk/message/image/delete":{method:"delete",data:{required:{image_url:u.isString}},authType:p.appKey},"/v2/api/talk/message/image/scrap":{method:"post",data:{required:{image_url:u.isString}},authType:p.appKey},"/v1/vision/face/detect":{method:"post",data:{optional:{file:u.isObject,image_url:u.isString,threshold:u.isNumber}},authType:p.appKey},"/v1/vision/product/detect":{method:"post",data:{optional:{file:u.isObject,image_url:u.isString,threshold:u.isNumber}},authType:p.appKey},"/v1/vision/thumbnail/crop":{method:"post",data:{required:{width:u.isInteger,height:u.isInteger},optional:{file:u.isObject,image_url:u.isString}},authType:p.appKey},"/v1/vision/thumbnail/detect":{method:"post",data:{required:{width:u.isInteger,height:u.isInteger},optional:{file:u.isObject,image_url:u.isString}},authType:p.appKey},"/v1/vision/multitag/generate":{method:"post",data:{optional:{file:u.isObject,image_url:u.isString}},authType:p.appKey},"/v1/vision/adult/detect":{method:"post",data:{optional:{file:u.isObject,image_url:u.isString}},authType:p.appKey},"/v1/vision/text/detect":{method:"post",data:{optional:{file:u.isObject}},authType:p.appKey},"/v1/vision/text/recognize":{method:"post",data:{optional:{file:u.isObject,boxes:u.passesOneOf([u.isString,u.isArray])}},authType:p.appKey},"/v1/translation/translate":{method:"post",data:{required:{query:u.isString,src_lang:u.isString,target_lang:u.isString}},authType:p.appKey},"/v1/friends":{method:"get",data:{optional:u.extend({offset:u.isNumber,limit:u.isNumber,order:u.isString,friend_order:u.isString},t)}},"/v1/user/service/terms":{method:"get"},"/v1/api/talk/plusfriends":{method:"get",data:{optional:u.extend({plus_friend_public_ids:u.isArray})}},"/v1/user/shipping_address":{method:"get",data:{optional:u.extend({address_id:u.isNumber,from_updated_at:u.isNumber,page_size:u.isNumber})}},"/v1/api/talk/friends":{method:"get",data:{optional:u.extend({offset:u.isNumber,limit:u.isNumber,order:u.isString},t)}},"/v1/api/talk/friends/message/send":{method:"post",data:{required:{template_id:u.isNumber,receiver_uuids:u.isArray,receiver_id_type:u.isString},optional:{template_args:u.isObject},defaults:function(){return{receiver_id_type:"uuid"}}}},"/v1/api/talk/friends/message/scrap/send":{method:"post",data:{required:{request_url:u.isString,receiver_uuids:u.isArray,receiver_id_type:u.isString},optional:{template_id:u.isNumber,template_args:u.isObject},defaults:function(){return{receiver_id_type:"uuid"}}}},"/v1/api/talk/friends/message/default/send":{method:"post",data:{required:{template_object:u.isObject,receiver_uuids:u.isArray,receiver_id_type:u.isString},defaults:function(){return{receiver_id_type:"uuid"}}}},"/v1/api/talk/wishlist/add":{method:"post",data:{required:{item_id:u.isNumber,item_name:u.isString,item_url:u.isString,price:u.isNumber,image_url:u.isString},optional:{store_key:u.isString,discount_price:u.isNumber,discount_rate:u.isNumber,image_width:u.isNumber,image_height:u.isNumber,oneclick_plugin_id:u.isString,oneclick_id:u.isString,option_plugin_id:u.isString,product_id:u.isString}}}}};function o(e){if(!u.isString(e))return!1;if(0===e.length||2048<e.length)throw new l.KakaoError("content length should be between 0 and 2048");return!0}return n.cleanup=function(){i&&(i.destroy(),i=null)},n}()},{"../vendor/easyXDM.js":28,"../vendor/es6-promise.js":29,"./api.authType":3,"./common.js":11,"./util.js":24}],5:[function(e,t,n){var i;t.exports=(i=e("./common.js"),{getTranId:function(){return(Math.random().toString(36).slice(2)+i.RUNTIME.appKey+(new Date).getTime().toString(36)).slice(0,60)},checkAuthorize:function(e,t){var n,i=new XMLHttpRequest;"undefined"!=typeof i.withCredentials?(i.open("GET",e),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onload=function(){t(i)},i.send()):((n=new XDomainRequest).open("get",e),n.onload=function(){var e={status:n.responseText?200:"error",response:n.responseText};t(e)},setTimeout(function(){n.send()},0))},getToken:function(e,t,n){var i,r=new XMLHttpRequest;"undefined"!=typeof r.withCredentials?(r.open("POST",e),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&200===this.status&&n(r)},r.send(t)):((i=new XDomainRequest).open("post",e),i.onload=function(){var e={status:i.responseText?200:"error",response:i.responseText};n(e)},setTimeout(function(){i.send(t)},0))},getOrigin:function(){return location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}})},{"./common.js":11}],6:[function(M,e,t){e.exports=function(){var n={},i=M("../vendor/easyXDM.js"),o=M("../vendor/CryptoJS.js"),b=M("./util.js"),w=M("./common.js"),_=M("./auth.common.js"),a=M("./auth.withTalk.js"),S=M("./auth.withTalk.poller.js"),A=M("./common/everntObserver"),s=M("./webviewchecker.js")(),c=[],T="_blank";function O(){return"width=480, height=700, scrollbars=yes, resizable=1, left="+(screen.width/2-240+(window.screenLeft?window.screenLeft:window.screenX?window.screenX:0))+", top="+(screen.height/2-350+(window.screenTop?window.screenTop:window.screenY?window.screenY:0))}n.createLoginButton=function(i){i=w.processRules(i,E.createLoginButton,"Auth.createLoginButton");var e=b.getElement(i.container);if(!e)throw new w.KakaoError("container is required for Kakao login button: pass in element or id");var t="medium"===i.size?"02":"small"===i.size?"03":"01",n=w.URL.authDomain+"/public/widget/login/"+i.lang+"/"+i.lang+"_"+t+"_medium.png",r=w.URL.authDomain+"/public/widget/login/"+i.lang+"/"+i.lang+"_"+t+"_medium_press.png";e.innerHTML='<img \n        id="kakao-login-btn" \n        src='+n+'\n        style="cursor: pointer"\n        onmouseover=this.src=\''+r+"' \n        onmouseout=this.src='"+n+"' />",e.onclick=function(){var e,t,n=b.getRandomString()+b.getRandomString();a.isSupport()&&i.throughTalk?g(i,n):s.isNewerAndroidKakaoTalkWebView()?i.redirectUri?(t=v(i),location.href=t):(e=m(i,n,w.URL.talkLoginRedirectUri),g(i,n,e)):i.redirectUri?(t=v(i),location.href=t):(t=y(i,n),w.UA.browser.msie&&parseInt(w.UA.browser.version.major)<=9||k(i),w.windowOpen(t,T,O())),A.dispatch("LOGIN_START")}};var e,u,l,p,d,r,f={};function m(e,t,n){return i=b.extend({redirect_uri:n,response_type:"code",state:t,ka:w.KAKAO_AGENT,origin:_.getOrigin()},K(e),C(e)),w.URL.authorize+"?"+b.buildQueryString(i);var i}function h(){l&&l.close&&l.close()}function g(t,e,n){var i,r;u||(u=I({},function(e){if("error"!=e.status||"500"!=e.error_code&&"600"!=e.error_code||(S.stop(),L({error:e.error,error_description:e.error_description,error_code:e.error_code,status:e.status},t)),e.status)if("ok"==e.status){if(S.stop(),p===e.code)return;p=e.code,u.getAccessToken(e.code,w.RUNTIME.appKey,w.UA.os.ios&&!n?w.URL.redirectUri:w.URL.talkLoginRedirectUri,t.approvalType),h()}else"about:blank"==l.location.href&&w.UA.os.ios&&h();else L(e,t)}),c.push(function(){u.destroy(),u=null})),n?t.redirectUri?location.href=n:w.windowOpen(n,T,O()):(i=t.redirectUri?v(t):y(t,e,w.UA.os.ios?w.URL.redirectUri:w.URL.talkLoginRedirectUri),r=b.extend(K(t),C(t)),setTimeout(function(){l=a.login(e,i,r,t.redirectUri)},500)),S.start(function(){e&&u.getCode(e,w.RUNTIME.appKey)},function(){L({error:"timeout",description:"Account login timed out. Please log in again.",error_description:"Account login timed out. Please log in again."},t),t.redirectUri?location.href=i:w.windowOpen(i,T,O())})}function v(e){return t=b.extend({redirect_uri:e.redirectUri,response_type:"code",ka:w.KAKAO_AGENT,origin:_.getOrigin()},K(e),C(e)),w.URL.authorize+"?"+b.buildQueryString(t);var t}function y(e,t,n){return d||(d=I({},function(e){S.stop(),L(e,j(e,f))}),c.push(function(){d.destroy(),d=null})),f[t]=e,i=e.redirectUri?e.redirectUri:n||"kakaojs",r=b.extend({redirect_uri:i,response_type:"code",state:t,proxy:"easyXDM_Kakao_"+d.channel+"_provider",ka:w.KAKAO_AGENT,origin:_.getOrigin()},K(e),C(e)),w.URL.authorize+"?"+b.buildQueryString(r);var i,r}function k(n){b.addEvent(window,"message",function i(e){{var t;/\.kakao\.com$/.test(e.origin)&&e.data&&"string"==typeof e.data&&("postResponse"===(t=e.data.split(" "))[1]&&(L(JSON.parse(decodeURIComponent(t[2])),n),b.removeEvent(window,"message",i)))}c.push(function(){b.removeEvent(window,"message",i)})})}n.login=function(e){e=w.processRules(e,E.login,"Auth.login");var t,n=b.getRandomString()+b.getRandomString();a.isSupport()&&e.throughTalk?g(e,n):s.isNewerAndroidKakaoTalkWebView()?e.redirectUri?(t=v(e),location.href=t):g(e,n,m(e,n,w.URL.talkLoginRedirectUri)):e.redirectUri?(t=v(e),location.href=t):(t=y(e,n),w.UA.browser.msie&&parseInt(w.UA.browser.version.major)<=9||k(e),w.windowOpen(t,T,O())),A.dispatch("LOGIN_START")},n.authorize=function(i){var r;i=w.processRules(i,E.authorize,"Auth.authorize");var e=_.getTranId();if(i.autoLogin&&!/KAKAOTALK/i.test(w.UA.ua))return location.href=i.redirectUri+"?error=auto_login&error_description=NOT_SUPPORTED_BROWSER"+(i.state?"&state="+i.state:""),!1;var o=!(!w.UA.os.ios&&!w.UA.os.android)&&!/KAKAOTALK/i.test(w.UA.ua)&&i.throughTalk&&!i.autoLogin&&!i.reauthenticate;function t(e){var t,n;200===e.status&&e.response&&("ok"==(t=JSON.parse(e.response)).status&&t.code?(S.stop(),r&&r.close&&r.close(),i.redirectUri?(n=i.redirectUri+"?code="+t.code+(t.state?"&state="+t.state:""),location.href=n):F(b.extend({code:t.code},t.state&&{state:t.state}),i)):"error"!=t.status||"500"!=t.error_code&&"600"!=t.error_code||(S.stop(),r&&r.close&&r.close(),i.redirectUri?location.href=i.redirectUri+"?error="+t.error+"&error_description="+t.error_description+(t.state?"&state="+t.state:""):F(b.extend({error:t.error,error_description:t.error_description},t.state&&{state:t.state}),i)),!o&&r&&r.closed&&S.stop())}S.start(function(){e&&_.checkAuthorize(w.URL.authDomain+"/apiweb/code.json?client_id="+w.RUNTIME.appKey+"&auth_tran_id="+e,t)},function(){location.href=i.redirectUri+"?error=timeout&error_description=LOGIN_TIMEOUT"+(i.state?"&state="+i.state:"")});var n,a,s,c,u,l,p,d,f,m,h,g,v=b.extend(K(i),C(i),{redirect_uri:i.redirectUri||"JS-SDK",response_type:"code",auth_tran_id:e}),y=b.extend({},v,{ka:w.KAKAO_AGENT,is_popup:i.isPopup}),k=w.URL.authorize+"?"+b.buildQueryString(y);o?(n=b.extend({},v,{is_popup:!0}),w.UA.os.android?(f=k,m=n,h=i.redirectUri||"JS-SDK",g=["intent:#Intent","action=com.kakao.talk.intent.action.CAPRI_LOGGED_IN_ACTIVITY","launchFlags=0x08880000","S.com.kakao.sdk.talk.appKey="+w.RUNTIME.appKey,"S.com.kakao.sdk.talk.redirectUri="+h,"S.com.kakao.sdk.talk.kaHeader="+w.KAKAO_AGENT,"S.com.kakao.sdk.talk.extraparams="+encodeURIComponent(JSON.stringify(m))],i.state&&g.push("S.com.kakao.sdk.talk.state="+i.state),g.push("S.browser_fallback_url="+encodeURIComponent(f),"end;"),a=g.join(";"),i.isPopup?r=w.windowOpen(a,T,O()):location.href=a):(s=encodeURIComponent(w.URL.authorize+"?"+b.buildQueryString(i.isPopup?n:v)),c=encodeURIComponent(w.URL.authorize+"?"+b.buildQueryString(n)+"&ka="+encodeURIComponent(w.KAKAO_AGENT)),u=w.URL.talkInappScheme+"?url="+c,l=w.URL.universalKakaoLink+encodeURIComponent(u)+"&web="+s,i.isPopup?r=w.windowOpen(l,T,O()):location.href=l)):(p=w.URL.loginForm+"?continue="+encodeURIComponent(k)+(i.deviceType?"&device_type="+i.deviceType:""),d=!0!==i.reauthenticate?k:p,i.isPopup?r=w.windowOpen(d,T,O()):location.href=d),A.dispatch("LOGIN_START")},n.autoLogin=function(e){var t,n,i,r;e=w.processRules(e,E.autoLogin,"Auth.autoLogin"),s.isIOSKakaoTalkWebView()||s.isAndroidKakaoTalkWebView()?g(e,t=b.getRandomString()+b.getRandomString(),(n=e,i=t,r=w.URL.talkLoginRedirectUri,function(){var e=b.extend({redirect_uri:r,response_type:"code",state:i,ka:w.KAKAO_AGENT,origin:_.getOrigin(),auto_login:"true"},K(n));return w.URL.authorize+"?"+b.buildQueryString(e)}())):F({error:"auto_login",error_description:"Auto-login is only supported by KakaoTalk InAppBrowser.",error_code:"400",status:"error"},e),A.dispatch("LOGIN_START")},n.issueAccessToken=function(t){t=w.processRules(t,E.issueAccessToken,"Auth.issueAccessToken"),(e=e||I({},function(e){L(e,t)})).getAccessToken(t.code,w.RUNTIME.appKey,t.redirectUri)},n.getLoginUrl=function(e,t,n){return i=b.extend({redirect_uri:"JS-SDK",response_type:"code",state:t,ka:w.KAKAO_AGENT,origin:_.getOrigin()},K(e)),n&&(i.redirect_uri=n),w.URL.authorize+"?"+b.buildQueryString(i);var i};var x={};n.selectStoryChannel=function(e){e=w.processRules(e,E.selectStoryChannel,"Auth.selectStoryChannel"),r||(r=I({},function(e){F(e,j(e,x))}),c.push(function(){r.destroy(),r=null}));var t,n=b.getRandomString();x[n]=e,window.open((t=b.extend({state:n,proxy:"easyXDM_Kakao_"+r.channel+"_provider",token:e.extendedToken||""},K(e)),w.URL.storyChannel+"?"+b.buildQueryString(t)),"kakaostory_channel_select",O())};var t={success:b.emptyFunc,fail:b.emptyFunc,always:b.emptyFunc},R=b.extend({throughTalk:!0,persistAccessToken:!0,persistRefreshToken:!1},t),U={success:b.isFunction,fail:b.isFunction,always:b.isFunction,persistAccessToken:b.isBoolean,persistRefreshToken:b.isBoolean,approvalType:b.isOneOf(["project"]),scope:b.isString,throughTalk:b.isBoolean,plusFriendPublicId:b.isString,channelPublicId:b.isString,serviceTerms:b.isString,redirectUri:b.isString,state:b.isString,deviceType:b.isOneOf(["watch","tv"])},E={createLoginButton:{required:{container:b.passesOneOf([b.isElement,b.isString])},optional:b.extend({lang:b.isOneOf(["en","kr"]),size:b.isOneOf(["small","medium","large"])},U),defaults:b.extend({lang:"kr",size:"medium"},R)},login:{optional:U,defaults:R},authorize:{optional:{redirectUri:b.isString,approvalType:b.isOneOf(["project"]),scope:b.isString,throughTalk:b.isBoolean,plusFriendPublicId:b.isString,channelPublicId:b.isString,serviceTerms:b.isString,isPopup:b.isBoolean,state:b.isString,autoLogin:b.isBoolean,deviceType:b.isOneOf(["watch","tv"]),reauthenticate:b.isBoolean,success:b.isFunction,fail:b.isFunction,always:b.isFunction},defaults:{throughTalk:!0,isPopup:!1,reauthenticate:!1,success:b.emptyFunc,fail:b.emptyFunc,always:b.emptyFunc}},autoLogin:{optional:{success:b.isFunction,fail:b.isFunction,always:b.isFunction},defaults:t},issueAccessToken:{required:{code:b.isString,redirectUri:b.isString},optional:{success:b.isFunction,fail:b.isFunction,always:b.isFunction},defaults:t},selectStoryChannel:{optional:{extendedToken:b.isString,success:b.isFunction,fail:b.isFunction,always:b.isFunction},defaults:t}};function I(t,n){return b.extend(t,{remote:w.URL.loginWidget,channel:b.getRandomString()}),w.guardCreateEasyXDM(function(){var e=new i.Rpc(t,{local:{postResponse:n,getKakaoAgent:function(){return w.KAKAO_AGENT}},remote:{getCode:{},getAccessToken:{},setClient:{},setStateToken:{},deleteAuthCookie:{}}});return e.channel=t.channel,e})}function j(e,t){if(!b.has(t,e.stateToken))throw new w.KakaoError("security error: #CST2");var n=t[e.stateToken];return delete t[e.stateToken],delete e.stateToken,n}function L(e,t){e.error?function(e){if("access_denied"==e.error)return;n.setAccessToken(null)}(e):(n.setAccessToken(e.access_token,t.persistAccessToken),A.dispatch("LOGIN")),F(e,t)}function F(e,t){w.logDebug(e),e.error?t.fail(e):t.success(e),t.always(e)}function K(e){var t={client_id:w.RUNTIME.appKey};return e.approvalType&&(t.approval_type=e.approvalType),e.scope&&(t.scope=e.scope),e.state&&(t.state=e.state),t}function C(e){var t={};return e.plusFriendPublicId!==undefined&&(t["extra.plus_friend_public_id"]=e.plusFriendPublicId),e.channelPublicId!==undefined&&(t.channel_public_id=e.channelPublicId),e.serviceTerms!==undefined&&(t["extra.service_terms"]=e.serviceTerms),e.autoLogin!==undefined&&(t.auto_login=e.autoLogin),e.deviceType&&(t.device_type=e.deviceType),t}n.logout=function(e){e=e||b.emptyFunc,w.validate(e,b.isFunction,"Auth.logout"),Kakao.API.request({url:"/v1/user/logout",always:function(){n.setAccessToken(null),A.dispatch("LOGOUT"),e(!0)}})},n.loginForm=function(e){e=w.processRules(e,E.login,"Auth.loginForm");var t,n=b.getRandomString()+b.getRandomString();e.redirectUri?(t=w.URL.loginForm+"?continue="+encodeURIComponent(v(e))+(e.deviceType?"&device_type="+e.deviceType:""),location.href=t):(t=w.URL.loginForm+"?continue="+encodeURIComponent(y(e,n))+(e.deviceType?"&device_type="+e.deviceType:""),w.windowOpen(t,T,O()))},n.setAccessToken=function(e,t){var n,i,r;null===(w.RUNTIME.accessToken=e)||!1===t?(r=B(),b.localStorage.removeItem(r)):(n=B(),i=function(e,t){return o.AES.encrypt(e,t).toString()}(e,w.RUNTIME.appKey),b.localStorage.setItem(n,i))},n.setRefreshToken=function(e){console.log("unsupported operation: setRefreshToken()")},n.getAccessToken=function(){var e,t;return w.RUNTIME.accessToken||(w.RUNTIME.accessToken=(e=B(),(t=b.localStorage.getItem(e))?function(e,t){return o.AES.decrypt(e,t).toString(o.enc.Utf8)}(t,w.RUNTIME.appKey):null)),w.RUNTIME.accessToken},n.getRefreshToken=function(){return console.log("unsupported operation: getRefreshToken()"),""};var N={};function B(){var e;return N.accessTokenKey||(N.accessTokenKey="kakao_"+(e="kat"+w.RUNTIME.appKey,o.MD5(e).toString())),N.accessTokenKey}return n.getAppKey=function(){return w.RUNTIME.appKey},n.getStatusInfo=function(t){w.validate(t,b.isFunction,"Auth.getConnectionInfo"),n.getAccessToken()?Kakao.API.request({url:"/v2/user/me",success:function(e){t({status:"connected",user:e})},fail:function(){t({status:"not_connected"})}}):t({status:"not_connected"})},n.cleanup=function(){b.each(c,function(e,t){e()}),c.length=0},n}()},{"../vendor/CryptoJS.js":27,"../vendor/easyXDM.js":28,"./auth.common.js":5,"./auth.withTalk.js":7,"./auth.withTalk.poller.js":8,"./common.js":11,"./common/everntObserver":13,"./util.js":24,"./webviewchecker.js":25}],7:[function(e,t,n){var p,d,f,m,h,g;t.exports=(d=e("./common.js"),f="_blank",m="width=380, height=520, scrollbars=yes",h=/Version\/4.0/i.test(d.UA.ua)||/; wv\)/i.test(d.UA.ua),g=/naver\(inapp|fb_iab|daumapps|instagram|ebay/g.test(d.UA.ua),{isSupport:function(){if(d.UA.os.ios){var e=/safari|FxiOS|CriOS/.test(d.UA.ua),t=!/KAKAOTALK/i.test(d.UA.ua);return e||t}return!!d.UA.os.android&&d.UA.browser.chrome&&!/opr\//i.test(d.UA.ua)&&30<=d.UA.browser.version.major&&(!h||h&&g)},login:function(e,t,n,i){var r,o,a,s,c,u,l;if(this.isSupport())return d.UA.os.ios?(u=e,(l=n).state=u,r=[d.URL.talkLoginScheme,"?","client_id="+d.RUNTIME.appKey,"&","redirect_uri="+d.URL.redirectUri,"&","params="+encodeURIComponent(JSON.stringify(l))].join(""),i?location.href=d.URL.universalKakaoLink+encodeURIComponent(r)+"&web="+encodeURIComponent(t):p=d.windowOpen(d.URL.universalKakaoLink+encodeURIComponent(r)+"&web="+encodeURIComponent(t),f,m)):d.UA.os.android&&(a=e,s=t,c=n,o=["intent:#Intent","action=com.kakao.talk.intent.action.CAPRI_LOGGED_IN_ACTIVITY","launchFlags=0x08880000","S.com.kakao.sdk.talk.appKey="+d.RUNTIME.appKey,"S.com.kakao.sdk.talk.redirectUri="+d.URL.talkLoginRedirectUri,"S.com.kakao.sdk.talk.state="+a,"S.com.kakao.sdk.talk.kaHeader="+d.KAKAO_AGENT,"S.com.kakao.sdk.talk.extraparams="+encodeURIComponent(JSON.stringify(c)),"S.browser_fallback_url="+encodeURIComponent(s),"end;"].join(";"),i?location.href=o:40<d.UA.browser.version.major&&(!h||h&&g)?p=d.windowOpen(o,f,m):(p=d.windowOpen("",f,m))&&(p.addEventListener("unload",function(){setTimeout(function(){p&&p.location&&(p.location.href=t)},10)}),p.location.href=o)),p},hasWebLoginWindow:function(){try{return!(!p||!p.location||"about:blank"==p.location.href)&&(!d.UA.os.android||!!p.location.href)}catch(e){return!0}}})},{"./common.js":11}],8:[function(e,t,n){function i(){u()?r():600<++a?(r(),s()):c()}function r(){clearInterval(o)}var o,a,s,c,u;t.exports=(a=0,s=function s(){},c=function c(){},u=function u(){return!1},{start:function(e,t){a=0,"function"==typeof e&&(c=e),"function"==typeof t&&(s=t),o&&r(),o=setInterval(i,1e3)},stop:function(){r()},setStopCondition:function(e){"function"==typeof e&&(u=e)}})},{}],9:[function(e,t,n){var i;t.exports=(i=e("../vendor/userAgent.js"),{getOrigin:function(){return location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")},getNavigator:function(){return navigator},getUA:function(){return i()}})},{"../vendor/userAgent.js":30}],10:[function(r,e,t){e.exports=function(){var e={},u=r("./util.js"),l=r("./common.js"),t=r("./browserProxy.js"),c="channel_add_social_plugin",p="channel_chat_social_plugin",d="width=350, height=510",n="1.1",f=[];function m(e,t,n,i){var r=document.createElement("a"),o=document.createElement("img");return r.setAttribute("href","#"),o.setAttribute("src",t),o.setAttribute("alt",n),o.setAttribute("title",n),i.supportMultipleDensities&&o.setAttribute("srcset",[t.replace(".png","_2X.png 2x"),t.replace(".png","_3X.png 3x")].join(", ")),r.appendChild(o),r}function h(e){var t=l.URL.plusFriend+"/"+e.channelPublicId+"/friend";return l.RUNTIME.appKey&&(t+="?"+i()),t}function g(e){var t=l.URL.plusFriend+"/"+e.channelPublicId+"/chat";return l.RUNTIME.appKey&&(t+="?"+i()),t}function i(){if(!l.RUNTIME.appKey)throw l.KakaoError("The app key does not exist. Please call Kakao.init function.");var e={api_ver:n,kakao_agent:l.KAKAO_AGENT,app_key:l.RUNTIME.appKey,referer:t.getOrigin()+location.pathname+location.search};return u.buildQueryString(e)}e.createAddChannelButton=function(e){e=l.processRules(e,v.createAddChannelButton,"Channel.createAddChannelButton");var t=u.getElement(e.container);if(!t)throw new l.KakaoError("container is required for creating Channel.addChannel button: pass in element or id");var n,i=h(e),r=(n="friendadd_"+e.size+"_yellow_rect",l.URL.resPrefix+"/logos/channel/"+n+".png"),o=m(0,r,"카카오톡 채널 추가 버튼",e);t.appendChild(o);var a=function a(e){e.preventDefault?e.preventDefault():e.returnValue=!1,l.windowOpen(i,c,d)};u.addEvent(o,"click",a);var s=function s(){t.removeChild(o),u.removeEvent(o,"click",a)};f.push(s)},e.addChannel=function(e){var t=h(e=l.processRules(e,v.addChannel,"Channel.addChannel"));l.windowOpen(t,c,d)},e.createChatButton=function(e){e=l.processRules(e,v.createChatButton,"Channel.createChatButton");var t=u.getElement(e.container);if(!t)throw new l.KakaoError("container is required for creating Channel.chat button: pass in element or id");var n,i,r=g(e),o=(i=(n=e).title+"_"+n.size+"_"+n.color+"_"+n.shape,l.URL.resPrefix+"/logos/channel/"+i+".png"),a=m(0,o,"카카오톡 채널 1:1 채팅 버튼",e);t.appendChild(a);var s=function s(e){e.preventDefault?e.preventDefault():e.returnValue=!1,l.windowOpen(r,p,d)};u.addEvent(a,"click",s);var c=function c(){t.removeChild(a),u.removeEvent(a,"click",s)};f.push(c)},e.chat=function(e){var t=g(e=l.processRules(e,v.chat,"Channel.chat"));l.windowOpen(t,p,d)};var v={createAddChannelButton:{required:{container:u.passesOneOf([u.isElement,u.isString]),channelPublicId:u.isString},optional:{size:u.isOneOf(["small","large"]),supportMultipleDensities:u.isBoolean},defaults:function(e){var t=u.getElement(e.container);return t?{channelPublicId:t.getAttribute("data-channel-public-id"),size:t.getAttribute("data-size")||"small",supportMultipleDensities:!!t.getAttribute("data-support-multiple-densities")}:null}},addChannel:{required:{channelPublicId:u.isString}},createChatButton:{required:{container:u.passesOneOf([u.isElement,u.isString]),channelPublicId:u.isString},optional:{color:u.isOneOf(["yellow","mono"]),shape:u.isOneOf(["pc","mobile"]),size:u.isOneOf(["small","large"]),title:u.isOneOf(["consult","question"]),supportMultipleDensities:u.isBoolean},defaults:function(e){var t=u.getElement(e.container);return t?{channelPublicId:t.getAttribute("data-channel-public-id"),color:t.getAttribute("data-color")||"yellow",shape:t.getAttribute("data-shape")||"pc",size:t.getAttribute("data-size")||"small",title:t.getAttribute("data-title")||"consult",supportMultipleDensities:!!t.getAttribute("data-support-multiple-densities")}:null}},chat:{required:{channelPublicId:u.isString}}};return e.cleanup=function(){u.each(f,function(e){e()}),f.length=0},e}()},{"./browserProxy.js":9,"./common.js":11,"./util.js":24}],11:[function(n,e,t){e.exports=function(){var c={},u=n("./util.js"),e=n("./browserProxy.js"),t=e.getOrigin();c.VERSION="1.39.2",c.KAKAO_AGENT="sdk/"+c.VERSION+" os/javascript lang/"+(e.getNavigator().userLanguage||e.getNavigator().language)+" device/"+e.getNavigator().platform.replace(/ /g,"_")+" origin/"+encodeURIComponent(t),c.URL={authorize:"https://kauth.kakao.com/oauth/authorize",loginWidget:"https://kauth.kakao.com/public/widget/login/kakaoLoginWidget.html",apiRemote:"https://kapi.kakao.com/cors/",plusFriend:"https://pf.kakao.com",storyChannel:"https://kauth.kakao.com/story/select_channel",storyShare:"https://story.kakao.com/s/share",channelFollow:"https://story.kakao.com/s/follow",storyIcon:"https://developers.kakao.com/sdk/js/resources/story/icon_small.png",universalKakaoLink:"https://talk-apps.kakao.com/scheme/",talkLoginScheme:"kakaokompassauth://authorize",talkLoginRedirectUri:"https://kapi.kakao.com/cors/afterlogin.html",redirectUri:"JS-SDK",authDomain:"https://kauth.kakao.com",navi:"kakaonavi-sdk://navigate",naviShare:"kakaonavi-sdk://sharePoi",naviWeb:"https://kakaonavi-wguide.kakao.com/openapi",loginForm:"https://accounts.kakao.com/login",sharerDomain:"https://sharer.kakao.com",stat:"https://apps.kakao.com/sdk/js",resPrefix:"https://developers.kakao.com/assets/img/about",wishlistUrl:"https://wishlist.kakao.com",talkInappScheme:"kakaotalk://inappbrowser"},c.RUNTIME={appKey:"",accessToken:""},c.DUMMY_KEY="YOUR APP KEY",c.UA=e.getUA();var l=function l(e){Error.prototype.constructor.apply(this,arguments),this.name="KakaoError",this.message=e};return l.prototype=new Error,c.KakaoError=l,c.isDebug=function(){return!1},c.logDebug=function(e){c.isDebug()&&window.console&&console.log(JSON.stringify(e))},c.validate=function(e,t,n){if(!0!==t(e))throw new l("Illegal argument for "+n)},c.processRules=function(e,t,i){e=e||{},t.before&&t.before(e),u.isFunction(t.defaults)?u.defaults(e,t.defaults(e)):u.defaults(e,t.defaults);var n=t.required||{},r=u.difference(u.keys(n),u.keys(e));if(r.length)throw new l("Missing required keys: "+r.join(",")+" at "+i);var o=t.optional||{},a=u.extend({},n,o),s=u.difference(u.keys(e),u.keys(a));if(s.length)throw new l("Invalid parameter keys: "+s.join(",")+" at "+i);return u.each(e,function(e,t){var n=a[t];c.validate(e,n,'"'+t+'" in '+i)}),t.after&&t.after(e),e},c.getInstallUrl=function(e,t){if(c.UA.os.android){var n={appkey:c.RUNTIME.appKey,KA:c.KAKAO_AGENT};return"market://details?id="+e+"&referrer="+JSON.stringify(n)}return c.UA.os.ios?"https://itunes.apple.com/app/id"+t:location.href},c.isRetinaDisplay=function(){return 1<window.devicePixelRatio||!(!window.matchMedia||!window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches)},c.createHiddenIframe=function(e,t){var n=document.getElementById(e);return null!==n&&n.parentNode.removeChild(n),(n=document.createElement("iframe")).id=e,n.style.border="none",n.style.display="none",n.style.width="0px",n.style.height="0px",n.src=t,n},c.guardCreateEasyXDM=function(e){try{return e()}catch(t){throw t instanceof TypeError?new l("kakao.js should be loaded from a web server"):new l("EasyXDM -"+t.message)}},c.serializeFile=function(i){return new Promise(function(t,n){"undefined"==typeof FileReader&&n(new l("File API is not supported for this browser."));var e=new FileReader;e.onload=function(e){try{t(u.arrayBufferToString(e.target.result))}catch(e){n(e)}},e.onerror=function(e){n(new l("Cannot read file: "+i.name))},e.readAsArrayBuffer(i)})},c.popupWindows={},c.windowOpen=function(e,t,n){var i=c.popupWindows[t];return i&&i.close&&!i.closed&&i.close(),c.popupWindows[t]=window.open(e,t,n),c.popupWindows[t]},c}()},{"./browserProxy.js":9,"./util.js":24}],12:[function(e,t,n){var i;t.exports=(i=function i(e){Error.prototype.constructor.apply(this,arguments),this.name="KakaoError",this.message=e},i.prototype=new Error,i)},{}],13:[function(e,t,n){var i,r;t.exports=(i=e("../util"),r={},{subscribe:function(e,t){r[e]||(r[e]=[]),r[e].push(t)},unsubscribe:function(e,t){for(var n=r[e],i=0;i<l.length;i++)if(n[m]===t){n.splice(m,1);break}},dispatch:function(e){var t=r[e];t&&t.length&&i.each(t,function(e){e()})}})},{"../util":24}],14:[function(p,e,t){e.exports=function(e,t,i){var n=p("../util.js"),r=p("./KakaoError"),o=p("./validate");e=e||{},t.before&&t.before(e),n.isFunction(t.defaults)?n.defaults(e,t.defaults(e)):n.defaults(e,t.defaults);var a=t.required||{},s=n.difference(n.keys(a),n.keys(e));if(s.length)throw new r("Missing required keys: "+s.join(",")+" at "+i);var c=t.optional||{},u=n.extend({},a,c),l=n.difference(n.keys(e),n.keys(u));if(l.length)throw new r("Invalid parameter keys: "+l.join(",")+" at "+i);return n.each(e,function(e,t){var n=u[t];o(e,n,'"'+t+'" in '+i)}),t.after&&t.after(e),e}},{"../util.js":24,"./KakaoError":12,"./validate":15}],15:[function(r,e,t){e.exports=function(e,t,n){var i=r("./KakaoError");if(!0!==t(e))throw new i("Illegal argument for "+n)}},{"./KakaoError":12}],16:[function(e,t,n){var i,r,o,a;t.exports=(i={},r=e("./util.js"),o=e("./api.js"),e("./common/everntObserver"),a=[],i.getMyItems=o.createAPIAlias({url:"/v1/emoticon/my_items"}),i.getItemResources=o.createAPIAlias({url:"/v1/emoticon/item_resources",data:{}}),i.cleanup=function(){r.each(a,function(e,t){e()}),a.length=0},i)},{"./api.js":4,"./common/everntObserver":13,"./util.js":24}],17:[function(L,e,t){e.exports=function(){var o="com.kakao.talk",a="362057947",e={},l=L("./util.js"),n=L("./api.js"),p=L("./common.js"),s=L("../vendor/web2app.js"),c=L("./webviewchecker.js")(),u=L("./link.obj.js"),d=L("../vendor/userAgent.js")(),f=L("./link.poller"),t=function t(){this.appkey=p.RUNTIME.appKey,this.appver="1.0",this.apiver="3.0",this.linkver="3.5",this.extras={KA:p.KAKAO_AGENT},this.objs=[]},m=function m(){this.appkey=p.RUNTIME.appKey,this.appver="1.0",this.linkver="4.0",this.template_json={},this.template_args={},this.template_id="",this.extras={KA:p.KAKAO_AGENT}},h=function h(e){var i={};return i.object_type=e.objectType,i.button_title=e.buttonTitle||"",l.each(e,function(e,t){var n=u.create(e,t,"defaultObject");i&&(i[t]=n)}),"list"==i.object_type&&(i.header_title=e.headerTitle||"",e.headerImageUrl&&(i.header_image_url=e.headerImageUrl),e.headerImageWidth&&(i.header_image_width=e.headerImageWidth),e.headerImageHeight&&(i.header_image_height=e.headerImageHeight),i.header_link=i.headerLink||{},delete i.headerLink),"location"==i.object_type&&(i.address=e.address||"",i.address_title=e.addressTitle||""),"text"==i.object_type&&(i.text=e.text||""),{link_ver:"4.0",template_object:i}},g=function g(e){return{link_ver:"4.0",template_id:e.templateId,template_args:e.templateArgs}},v=function v(e){var t={link_ver:"4.0",request_url:e.requestUrl};return e.templateId&&(t.template_id=e.templateId),e.templateArgs&&(t.template_args=e.templateArgs),t},i="custom",r="default",y="scrap",k=[];function b(t,n,i){var e=l.getElement(n.container);if(!e)throw new p.KakaoError("container is required for KakaoTalk Link: pass in element or id");var r=function r(e){return(e=e||window.e).preventDefault(),e.stopPropagation(),S(t,n,i),!1};l.addEvent(e,"click",r),k.push(function(){l.removeEvent(e,"click",r)})}function w(t,e){var n;switch(e){case"custom":n=g(t);break;case"default":n=h(t);break;case"scrap":n=v(t);break;default:throw new p.KakaoError("type is required for KakaoTalk Link")}var i={app_key:p.RUNTIME.appKey,validation_action:e,validation_params:JSON.stringify(n),ka:p.KAKAO_AGENT};t.serverCallbackArgs&&(i.lcba=t.serverCallbackArgs);var r=p.URL.sharerDomain+"/talk/friends/picker/easylink?app_key="+i.app_key+"&ka="+encodeURIComponent(i.ka)+"&validation_action="+i.validation_action+"&validation_params="+encodeURIComponent(i.validation_params);i.lcba&&(r=r+"&lcba="+encodeURIComponent(i.lcba));var o,a="kakao_link_web_sharer",s="location=no,resizable=no,status=no,scrollbars=no,width=460,height=608";function c(e){"sent"===e.data&&e.origin===p.URL.sharerDomain&&t.callback()}!0!==(p.UA.browser.msie||p.UA.browser.spartan)&&r.length<2084?(o=p.windowOpen(r,a,s)).focus():o=function(e,t,n,i){var r,o=p.UA.browser.msie?{}:p.windowOpen("",n,t),a=document.createElement("form");for(var s in a.setAttribute("accept-charset","utf-8"),a.setAttribute("method","post"),a.setAttribute("action",e),a.setAttribute("target",n),a.setAttribute("style","display:none"),i){i.hasOwnProperty(s)&&((r=document.createElement("input")).type="hidden",r.name=s,r.value=l.isString(i[s])?i[s]:JSON.stringify(i[s]),a.appendChild(r))}return document.body.appendChild(a),a.submit(),document.body.removeChild(a),o.focus&&o.focus(),o}(p.URL.sharerDomain+"/talk/friends/picker/link",s,a,i),t.callback&&p.UA.browser.msie&&console.log("method 'callback' does not support the Internet Explorer environment.");var u=setInterval(function(){o.closed&&(clearInterval(u),l.removeEvent(window,"message",c))},1e3);l.addEvent(window,"message",c),k.push(function(){l.removeEvent(window,"message",c)})}e.createTalkLink=e.createTalkLinkButton=function(e){e=p.processRules(e,O.createTalkLink,"Link.createTalkLink");var t=l.getElement(e.container);if(!t)throw new p.KakaoError("container is required for KakaoTalk Link: pass in element or id");var n=function n(){j(R(e,"Link.createTalkLink"),e.fail,e.installTalk)};l.addEvent(t,"click",n),k.push(function(){l.removeEvent(t,"click",n)})},e.sendTalkLink=function(e){j(R(e=p.processRules(e,O.talkLink,"Link.sendTalkLink"),"Link.sendTalkLink"),e.fail,e.installTalk)},e.createCustom=e.createCustomButton=function(e){b(U,e=p.processRules(e,O.createCustom,"Link.createCustom"),i)},e.createScrap=e.createScrapButton=function(e){b(E,e=p.processRules(e,O.createScrap,"Link.createScrap"),y)},e.createDefault=e.createDefaultButton=function(e){b(I,e="list"==e.objectType?p.processRules(e,O.createDefaultList,"Link.createDefaultList"):"location"==e.objectType?p.processRules(e,O.createDefaultLocation,"Link.createDefaultLocation"):"commerce"==e.objectType?p.processRules(e,O.createDefaultCommerce,"Link.createDefaultCommerce"):"text"==e.objectType?p.processRules(e,O.createDefaultText,"Link.createDefaultText"):p.processRules(e,O.createDefaultFeed,"Link.createDefaultFeed"),r)};var _="tablet"==d.platform&&d.os.ios;function S(e,t,n){return!t.throughTalk||"mobile"!=d.platform&&!_?w(t,n):(d.browser.iphone&&/version/.test(d.ua.toLowerCase())?(r=null,i=function i(e){return r=e},f.start(function(){return null!=r},function(){A(r,t)},function(){t.fail({msg:"The request wait time has expired.",at:"link.poller"})})):i=A,e(t).then(function(e){return i(e,t)},function(e){t.fail(e)}));var i,r}function A(e,t){var n=new m;n.extras=l.extend(n.extras,t.extras),t.serverCallbackArgs&&(n.extras.lcba=t.serverCallbackArgs),n.template_json=e.template_msg,n.template_args=e.template_args,n.template_id=e.template_id;var i=x+"://send?"+l.buildQueryString(n);if(1e4<JSON.stringify(n).length)throw new p.KakaoError("Failed to send message because it exceeds the message size limit. Please contact the app administrator.");"mobile"!=d.platform&&!_||j(i,t.fail,t.installTalk);var r={template_msg:e.template_msg||{},warning_msg:e.warning_msg||{},argument_msg:e.argument_msg||{}};return t.success(r),r}e.sendCustom=function(e){return S(U,e=p.processRules(e,O.custom,"Link.sendCustomTemplate"),i)},e.sendScrap=function(e){return S(E,e=p.processRules(e,O.scrap,"Link.sendScrap"),y)},e.sendDefault=function(e){if(!e.objectType)throw new p.KakaoError("objectType is required for KakaoTalk Link");return S(I,e=p.processRules(e,O[e.objectType],"Link.sendDefault"),r)},e.uploadImage=function(e){return e=p.processRules(e,O.uploadImage,"Link.uploadImage"),t=e,n.request({url:"/v2/api/talk/message/image/upload",data:{file:t.file}});var t},e.deleteImage=function(e){return e=p.processRules(e,O.deleteImage,"Link.deleteImage"),t=e,n.request({url:"/v2/api/talk/message/image/delete",data:{image_url:t.imageUrl}});var t},e.scrapImage=function(e){return e=p.processRules(e,O.scrapImage,"Link.scrapImage"),t=e,n.request({url:"/v2/api/talk/message/image/scrap",data:{image_url:t.imageUrl}});var t};var T=["feed","list","location","commerce","text"],O={talkLink:{optional:{label:l.passesOneOf([l.isString,l.isObject]),image:l.isObject,webImage:l.isObject,webButton:l.isObject,webLink:l.isObject,appButton:l.isObject,appLink:l.isObject,horizontalButton:l.isArray,fail:l.isFunction,installTalk:l.isBoolean,forwardable:l.isBoolean,extras:l.isObject},before:function(e){l.isString(e.label)&&(e.label={text:e.label})},defaults:{installTalk:!0,forwardable:!1,fail:l.emptyFunc}},custom:{required:{templateId:l.isNumber},optional:{templateArgs:l.isObject,installTalk:l.isBoolean,fail:l.isFunction,always:l.isFunction,success:l.isFunction,extras:l.isObject,callback:l.isFunction,serverCallbackArgs:l.isString,throughTalk:l.isBoolean},defaults:{templateArgs:{},installTalk:!1,fail:l.emptyFunc,always:l.emptyFunc,success:l.emptyFunc,callback:l.emptyFunc,throughTalk:!0}},scrap:{required:{requestUrl:l.isString},optional:{templateId:l.isNumber,templateArgs:l.isObject,installTalk:l.isBoolean,fail:l.isFunction,always:l.isFunction,success:l.isFunction,extras:l.isObject,callback:l.isFunction,serverCallbackArgs:l.isString,throughTalk:l.isBoolean},defaults:{templateArgs:{},installTalk:!1,fail:l.emptyFunc,always:l.emptyFunc,success:l.emptyFunc,callback:l.emptyFunc,throughTalk:!0}},feed:{required:{objectType:l.isOneOf(T),content:l.isObject},optional:{social:l.isObject,buttonTitle:l.isString,buttons:l.isArray,installTalk:l.isBoolean,fail:l.isFunction,always:l.isFunction,success:l.isFunction,extras:l.isObject,callback:l.isFunction,serverCallbackArgs:l.isString,throughTalk:l.isBoolean},defaults:{installTalk:!1,fail:l.emptyFunc,always:l.emptyFunc,success:l.emptyFunc,callback:l.emptyFunc,throughTalk:!0}},commerce:{required:{objectType:l.isOneOf(T),content:l.isObject,commerce:l.isObject},optional:{buttonTitle:l.isString,buttons:l.isArray,installTalk:l.isBoolean,fail:l.isFunction,always:l.isFunction,success:l.isFunction,extras:l.isObject,callback:l.isFunction,serverCallbackArgs:l.isString,throughTalk:l.isBoolean},defaults:{installTalk:!1,fail:l.emptyFunc,always:l.emptyFunc,success:l.emptyFunc,callback:l.emptyFunc,throughTalk:!0}},list:{required:{objectType:l.isOneOf(T),headerTitle:l.isString,headerLink:l.isObject,contents:l.isArray},optional:{buttonTitle:l.isString,buttons:l.isArray,headerImageUrl:l.isString,headerImageWidth:l.isNumber,headerImageHeight:l.isNumber,installTalk:l.isBoolean,fail:l.isFunction,always:l.isFunction,success:l.isFunction,extras:l.isObject,callback:l.isFunction,serverCallbackArgs:l.isString,throughTalk:l.isBoolean},defaults:{installTalk:!1,fail:l.emptyFunc,always:l.emptyFunc,success:l.emptyFunc,callback:l.emptyFunc,throughTalk:!0}},location:{required:{objectType:l.isOneOf(T),content:l.isObject,address:l.isString},optional:{addressTitle:l.isString,social:l.isObject,buttonTitle:l.isString,buttons:l.isArray,installTalk:l.isBoolean,fail:l.isFunction,always:l.isFunction,success:l.isFunction,extras:l.isObject,callback:l.isFunction,serverCallbackArgs:l.isString,throughTalk:l.isBoolean},defaults:{installTalk:!1,fail:l.emptyFunc,always:l.emptyFunc,success:l.emptyFunc,callback:l.emptyFunc,throughTalk:!0}},text:{required:{objectType:l.isOneOf(T),text:l.isString,link:l.isObject},optional:{buttonTitle:l.isString,buttons:l.isArray,installTalk:l.isBoolean,fail:l.isFunction,always:l.isFunction,success:l.isFunction,extras:l.isObject,callback:l.isFunction,serverCallbackArgs:l.isString,throughTalk:l.isBoolean},defaults:{installTalk:!1,fail:l.emptyFunc,always:l.emptyFunc,success:l.emptyFunc,callback:l.emptyFunc,throughTalk:!0}},uploadImage:{required:{file:l.isObject},optional:{always:l.isFunction,success:l.isFunction},defaults:{always:l.emptyFunc,success:l.emptyFunc}},deleteImage:{required:{imageUrl:l.isString},optional:{always:l.isFunction,success:l.isFunction},defaults:{always:l.emptyFunc,success:l.emptyFunc}},scrapImage:{required:{imageUrl:l.isString},optional:{always:l.isFunction,success:l.isFunction},defaults:{always:l.emptyFunc,success:l.emptyFunc}}};O.createTalkLink=l.extend({required:{container:l.passesOneOf([l.isElement,l.isString])}},O.talkLink),O.createCustom=l.defaults({required:l.extend({container:l.passesOneOf([l.isElement,l.isString])},O.custom.required)},O.custom),O.createScrap=l.defaults({required:l.extend({container:l.passesOneOf([l.isElement,l.isString])},O.scrap.required)},O.scrap),O.createDefaultFeed=l.defaults({required:l.extend({container:l.passesOneOf([l.isElement,l.isString])},O.feed.required)},O.feed),O.createDefaultList=l.defaults({required:l.extend({container:l.passesOneOf([l.isElement,l.isString])},O.list.required)},O.list),O.createDefaultLocation=l.defaults({required:l.extend({container:l.passesOneOf([l.isElement,l.isString])},O.location.required)},O.location),O.createDefaultCommerce=l.defaults({required:l.extend({container:l.passesOneOf([l.isElement,l.isString])},O.commerce.required)},O.commerce),O.createDefaultText=l.defaults({required:l.extend({container:l.passesOneOf([l.isElement,l.isString])},O.text.required)},O.text);var x=(p.UA.os.ios,"kakaolink");function R(e,i){var r=new t;return r.forwardable=e.forwardable,r.extras=l.extend(r.extras,e.extras),l.each(e,function(e,t){var n=u.create(e,t,i);n&&r.objs.push(n)}),x+"://send?"+l.buildQueryString(r)}function U(e){return n.request({url:"/v2/api/kakaolink/talk/template/validate",data:g(e)})}function E(e){return n.request({url:"/v2/api/kakaolink/talk/template/scrap",data:v(e)})}function I(e){return n.request({url:"/v2/api/kakaolink/talk/template/default",data:h(e)})}function j(e,t,n){var i={urlScheme:e,intentURI:"intent:"+e+"#Intent;launchFlags=0x14008000;"+(!0===n?"package=com.kakao.talk;":"")+"end;",appName:"KakaoTalk",storeURL:p.getInstallUrl(o,a),onUnsupportedEnvironment:function(){t(e)}};n&&!c.isIOSKakaoTalkWebView()&&!c.isAndroidWebView()||(i.onAppMissing=l.emptyFunc),c.isIOSKakaoTalkWebView()&&(i.universalLink=undefined);try{s(i)}catch(r){console.log(r)}}return e.cleanup=function(){l.each(k,function(e,t){e()}),k.length=0},e}()},{"../vendor/userAgent.js":30,"../vendor/web2app.js":31,"./api.js":4,"./common.js":11,"./link.obj.js":18,"./link.poller":19,"./util.js":24,"./webviewchecker.js":25}],18:[function(e,t,n){function i(e){var t=parseInt(e,10);if(isNaN(t)||t<80)throw new h("Illegal argument for image: width/height should be a number larger than 80");return!0}function r(e){e.width=parseInt(e.width,10),e.height=parseInt(e.height,10)}function o(e){var t=m.keys(e)[0];return"webButton"===t?g(e.webButton,b[t],"parameter webButton in Link.createTalkLink"):g(e.appButton,b[t],"parameter appButton in Link.createTalkLink"),!0}function a(e,t){return{objtype:"image",src:t.src,width:t.width,height:t.height,action:u(e,t),disptype:t.displayType}}function s(e,t){return{objtype:"button",text:t.text,action:u(e,t),disptype:t.displayType}}function c(e,t){return{objtype:"link",text:t.text,action:u(e,t),disptype:t.displayType}}function u(e,t){switch(e){case"web":return{type:t.type,url:t.url?function(e){return-1<e.indexOf("://")?e:"http://"+e}(t.url):undefined,auth:t.auth};case"app":return{type:"app",url:t.webUrl,actioninfo:function(i,r){i=i&&g(i,w,"execParams in Kakao.Link"),r=r&&g(r,w,"marketParams in Kakao.Link");var o=[];return m.each({android:{os:"android"},iphone:{os:"ios",devicetype:"phone"},ipad:{os:"ios",devicetype:"pad"}},function(e,t){var n=m.extend({},e);i&&i[t]&&(n.execparam=m.buildQueryString(i[t],!1)),r&&r[t]&&(n.marketparam=m.buildQueryString(r[t],!1)),(n.execparam||n.marketparam)&&o.push(n)}),o}(t.execParams,t.marketParams)};default:return undefined}}function l(e){return{web_url:e.webUrl,mobile_web_url:e.mobileWebUrl,android_execution_params:e.androidExecParams,ios_execution_params:e.iosExecParams}}function p(e){return g(e,b.content,"parameter content in Link.sendDefault"),!0}function d(e){return g(e,b.link,"parameter link in Link.sendDefault"),!0}function f(e){return g(e,b.button,"parameter button in Link.sendDefault"),!0}var m,h,g,v,y,k,b,w;t.exports=(m=e("./util.js"),h=e("./common/KakaoError"),g=e("./common/ruleProcess"),v="web",y="inweb",k={displayType:m.isOneOf(["both","sender","receiver"])},b={label:{required:{text:m.isString},optional:k,builder:function(e){return{objtype:"label",text:e.text,disptype:e.displayType}}},image:{required:{src:m.isString,width:i,height:i},optional:k,before:r,builder:m.partial(a,null)},webImage:{required:{src:m.isString,width:i,height:i},optional:m.extend({url:m.isString,auth:m.isBoolean,type:m.isOneOf([v,y])},k),defaults:{type:v},before:r,builder:m.partial(a,"web")},webButton:{optional:m.extend({text:m.isString,url:m.isString,auth:m.isBoolean,type:m.isOneOf(["web","inweb"])},k),defaults:{type:"web"},builder:m.partial(s,"web")},appButton:{optional:m.extend({text:m.isString,webUrl:m.isString,execParams:m.isObject,marketParams:m.isObject,type:m.isString},k),defaults:{type:"app"},builder:m.partial(s,"app")},webLink:{required:{text:m.isString},optional:m.extend({url:m.isString,auth:m.isBoolean,type:m.isOneOf(["web","inweb"])},k),defaults:{type:"web"},builder:m.partial(c,"web")},appLink:{required:{text:m.isString},optional:m.extend({webUrl:m.isString,execParams:m.isObject,marketParams:m.isObject},k),builder:m.partial(c,"app")},horizontalButton:{required:{0:o,1:o},builder:function(e){var t=m.keys(e[0]),n=m.keys(e[1]),i=e[0][t],r=e[1][n];return{objtype:"horizontal",subs:[{objtype:"button",text:i.text,action:u(i.type,i)},{objtype:"button",text:r.text,action:u(r.type,r)}],disptype:"both"}}},content:{required:{title:m.isString,imageUrl:m.isString,link:d},optional:{imageWidth:m.isNumber,imageHeight:m.isNumber,description:m.isString},builder:function(e){return{title:e.title,image_url:e.imageUrl,link:l(e.link),image_width:e.imageWidth,image_height:e.imageHeight,description:e.description}}},contents:{optional:{0:p,1:p,2:p},builder:function(e){if(e.length<2)throw new h("Illegal argument for contents: min count(2)");return m.map(e,function(e){return{title:e.title,image_url:e.imageUrl,link:l(e.link),image_width:e.imageWidth,image_height:e.imageHeight,description:e.description}})}},commerce:{required:{regularPrice:m.isNumber},optional:{discountPrice:m.isNumber,discountRate:m.isNumber,fixedDiscountPrice:m.isNumber,productName:m.isString},builder:function(e){return{regular_price:e.regularPrice,discount_price:e.discountPrice,discount_rate:e.discountRate,fixed_discount_price:e.fixedDiscountPrice,product_name:e.productName}}},social:{optional:{likeCount:m.isNumber,commentCount:m.isNumber,sharedCount:m.isNumber,viewCount:m.isNumber,subscriberCount:m.isNumber},builder:function(e){return{like_count:e.likeCount,comment_count:e.commentCount,shared_count:e.sharedCount,view_count:e.viewCount,subscriber_count:e.subscriberCount}}},button:{required:{title:m.isString,link:d},builder:function(e){return{title:e.title,link:l(e.link)}}},buttons:{optional:{0:f,1:f},builder:function(e){return m.map(e,function(e){return{title:e.title,link:l(e.link)}})}},headerLink:{optional:{webUrl:m.isString,mobileWebUrl:m.isString,androidExecParams:m.isString,iosExecParams:m.isString},builder:l},link:{optional:{webUrl:m.isString,mobileWebUrl:m.isString,androidExecParams:m.isString,iosExecParams:m.isString},builder:l}},w={optional:{iphone:m.isObject,ipad:m.isObject,android:m.isObject}},{create:function(e,t,n){var i=b[t];if(i)return e=g(e,i,"parameter '"+t+"' in "+(n||"Link")),i.builder(e)}})},{"./common/KakaoError":12,"./common/ruleProcess":14,"./util.js":24}],19:[function(e,t,n){function o(){for(var e=0;e<s.length;++e)clearTimeout(s[e]);s=[]}var a,s;t.exports=(a=0,s=[],{start:function(e,t,n){a=0,o();for(var i=1;100*i<10001;++i){var r=setTimeout(function(){a+=100,e()?(o(),t()):10001<a+100&&(o(),n())},100*i);s.push(r)}},stop:function(){o()}})},{}],20:[function(r,e,t){e.exports=function(e){e.Kakao=e.Kakao||{};var t=e.Kakao,n=r("./util.js"),i=r("./common.js");return t.VERSION=i.VERSION,t.Story=r("./story.js"),t.init=function(e){if(i.RUNTIME.appKey)throw new i.KakaoError("Kakao.init: Already initialized.");if(!n.isString(e)||e===i.DUMMY_KEY)throw new i.KakaoError("Kakao.init: App key must be provided");i.RUNTIME.appKey=e,t.Auth=r("./auth.js"),t.API=r("./api.js"),t.Link=r("./link.js"),t.Emoticon=r("./emoticon.js"),t.Navi=r("./navi.js"),t.PlusFriend=r("./plusFriend.js"),t.Channel=r("./channel.js"),t.Wishlist=r("./wishlist.js")},t.isInitialized=function(){return!!i.RUNTIME.appKey},t.cleanup=function(){t.Auth&&t.Auth.cleanup(),t.API&&t.API.cleanup(),t.Link&&t.Link.cleanup(),t.Story&&t.Story.cleanup(),t.Emoticon&&t.Emoticon.cleanup(),t.PlusFriend&&t.PlusFriend.cleanup(),t.Channel&&t.Channel.cleanup(),t.Wishlist&&t.Wishlist.cleanup(),n.nullify(i.RUNTIME)},window.kakaoAsyncInit&&window.kakaoAsyncInit(),t}(window)},{"./api.js":4,"./auth.js":6,"./channel.js":10,"./common.js":11,"./emoticon.js":16,"./link.js":17,"./navi.js":21,"./plusFriend.js":22,"./story.js":23,"./util.js":24,"./wishlist.js":26}],21:[function(t,e,n){e.exports=function(){var o=t("./util.js"),a=t("./common"),s=t("./common/ruleProcess"),c=t("../vendor/web2app.js"),u="com.locnall.KimGiSa",e={};e.start=function(e){e=s(e,p.spot);var t,n,i=(t=e,(n=new l).param={destination:p.spot.destinationBuilder(t),option:"{}"===JSON.stringify(p.spot.optionBuilder(t))?undefined:p.spot.optionBuilder(t),via_list:t.viaPoints},a.URL.navi+"?"+o.buildQueryString(n)),r=encodeURIComponent(i.replace(a.URL.navi,a.URL.naviWeb));c({urlScheme:i,intentURI:"intent:"+i+"#Intent;package="+u+";S.browser_fallback_url="+r+";end;",storeURL:i.replace(a.URL.navi,a.URL.naviWeb),universalLink:i.replace(a.URL.navi,a.URL.naviWeb)})},e.share=function(e){e=s(e,d.spot);var t,n,i=(t=e,(n=new l).param={destination:d.spot.destinationBuilder(t),option:"{}"===JSON.stringify(d.spot.optionBuilder(t))?undefined:d.spot.optionBuilder(t)},n.scheme_type="sharePoi",a.URL.naviShare+"?"+o.buildQueryString(n)),r=encodeURIComponent(i.replace(a.URL.naviShare,a.URL.naviWeb));c({urlScheme:i,intentURI:"intent:"+i+"#Intent;package="+u+";S.browser_fallback_url="+r+";end;",storeURL:i.replace(a.URL.naviShare,a.URL.naviWeb),universalLink:i.replace(a.URL.naviShare,a.URL.naviWeb)})};var l=function l(){this.appkey=a.RUNTIME.appKey,this.apiver="1.0",this.extras={KA:a.KAKAO_AGENT}},p={spot:{required:{name:o.isString,x:o.isNumber,y:o.isNumber},optional:{coordType:o.isOneOf(["wgs84","katec"]),vehicleType:o.isOneOf([1,2,3,4,5,6,7]),rpOption:o.isOneOf([1,2,3,4,5,6,8,100]),routeInfo:o.isBoolean,sX:o.isNumber,sY:o.isNumber,sAngle:o.isNumber,returnUri:o.isString,rpflag:o.isString,cid:o.isString,guideId:o.isNumber,viaPoints:function(e){if(!o.isArray(e))return!1;if(3<e.length)throw new Error("via points should not be exceed 3");return o.each(e,function(e){return s(e,p.viaPoint)}),!0}},destinationBuilder:function(e){return{name:e.name,x:e.x,y:e.y,rpflag:e.rpflag,cid:e.cid,guide_id:e.guideId}},optionBuilder:function(e){return{coord_type:e.coordType,vehicle_type:e.vehicleType,rpoption:e.rpOption,route_info:e.routeInfo,s_x:e.sX,s_y:e.sY,s_angle:e.sAngle,return_uri:e.returnUri}}},viaPoint:{required:{name:o.isString,x:o.isNumber,y:o.isNumber},optional:{rpflag:o.isString,cid:o.isString}}},d={spot:{required:{name:o.isString,x:o.isNumber,y:o.isNumber},optional:{coordType:o.isOneOf(["wgs84","katec"]),rpflag:o.isString,cid:o.isString,guideId:o.isNumber},destinationBuilder:function(e){return{name:e.name,x:e.x,y:e.y,rpflag:e.rpflag,cid:e.cid,guide_id:e.guideId}},optionBuilder:function(e){return{coord_type:e.coordType}}}};return e}()},{"../vendor/web2app.js":31,"./common":11,"./common/ruleProcess":14,"./util.js":24}],22:[function(r,e,t){e.exports=function(){var e={},u=r("./util.js"),l=r("./common.js"),t=r("./browserProxy.js"),p="plus_friend_add_social_plugin",d="plus_friend_chat_social_plugin",f="width=350, height=510",n="1.0",m=[];function h(e,t,n,i){var r=document.createElement("a"),o=document.createElement("img");return r.setAttribute("href","#"),o.setAttribute("src",t),o.setAttribute("alt",n),o.setAttribute("title",n),i.supportMultipleDensities&&o.setAttribute("srcset",[t.replace(".png","_2X.png 2x"),t.replace(".png","_3X.png 3x")].join(", ")),r.appendChild(o),r}function g(e){var t=l.URL.plusFriend+"/"+e.plusFriendId+"/friend";return l.RUNTIME.appKey&&(t+="?"+i()),t}function v(e){var t=l.URL.plusFriend+"/"+e.plusFriendId+"/chat";return l.RUNTIME.appKey&&(t+="?"+i()),t}function i(){if(!l.RUNTIME.appKey)throw l.KakaoError("The app key does not exist. Please call Kakao.init function.");var e={api_ver:n,kakao_agent:l.KAKAO_AGENT,app_key:l.RUNTIME.appKey,referer:t.getOrigin()+location.pathname+location.search};return u.buildQueryString(e)}e.createAddFriendButton=function(e){e=l.processRules(e,y.createAddFriendButton,"PlusFriend.createAddFriendButton");var t=u.getElement(e.container);if(!t)throw new l.KakaoError("container is required for creating PlusFriend.addFriend button: pass in element or id");var n,i,r=g(e),o=(i="friendadd_"+(n=e).size+"_"+n.color+"_"+n.shape,l.URL.resPrefix+"/logos/plusfriend/"+i+".png"),a=h(0,o,"플러스친구 친구 추가 버튼",e);t.appendChild(a);var s=function s(e){e.preventDefault?e.preventDefault():e.returnValue=!1,l.windowOpen(r,p,f)};u.addEvent(a,"click",s);var c=function c(){t.removeChild(a),u.removeEvent(a,"click",s)};m.push(c)},e.addFriend=function(e){var t=g(e=l.processRules(e,y.addFriend,"PlusFriend.addFriend"));l.windowOpen(t,p,f)},e.createChatButton=function(e){e=l.processRules(e,y.createChatButton,"PlusFriend.createChatButton");var t=u.getElement(e.container);if(!t)throw new l.KakaoError("container is required for creating PlusFriend.chat button: pass in element or id");var n,i,r=v(e),o=(i=(n=e).title+"_"+n.size+"_"+n.color+"_"+n.shape,l.URL.resPrefix+"/logos/plusfriend/"+i+".png"),a=h(0,o,"플러스친구 1:1 채팅 버튼",e);t.appendChild(a);var s=function s(e){e.preventDefault?e.preventDefault():e.returnValue=!1,l.windowOpen(r,d,f)};u.addEvent(a,"click",s);var c=function c(){t.removeChild(a),u.removeEvent(a,"click",s)};m.push(c)},e.chat=function(e){var t=v(e=l.processRules(e,y.chat,"PlusFriend.chat"));l.windowOpen(t,d,f)};var y={createAddFriendButton:{required:{container:u.passesOneOf([u.isElement,u.isString]),plusFriendId:u.isString},optional:{color:u.isOneOf(["yellow","black"]),shape:u.isOneOf(["rect","round"]),size:u.isOneOf(["small","large"]),supportMultipleDensities:u.isBoolean},defaults:function(e){var t=u.getElement(e.container);return t?{plusFriendId:t.getAttribute("data-plusfriend-id"),color:t.getAttribute("data-color")||"yellow",shape:t.getAttribute("data-shape")||"rect",size:t.getAttribute("data-size")||"small",supportMultipleDensities:!!t.getAttribute("data-support-multiple-densities")}:null}},addFriend:{required:{plusFriendId:u.isString}},createChatButton:{required:{container:u.passesOneOf([u.isElement,u.isString]),plusFriendId:u.isString},optional:{color:u.isOneOf(["yellow","mono"]),shape:u.isOneOf(["pc","mobile"]),size:u.isOneOf(["small","large"]),title:u.isOneOf(["consult","question"]),supportMultipleDensities:u.isBoolean},defaults:function(e){var t=u.getElement(e.container);return t?{plusFriendId:t.getAttribute("data-plusfriend-id"),color:t.getAttribute("data-color")||"yellow",shape:t.getAttribute("data-shape")||"pc",size:t.getAttribute("data-size")||"small",title:t.getAttribute("data-title")||"consult",supportMultipleDensities:!!t.getAttribute("data-support-multiple-densities")}:null}},chat:{required:{plusFriendId:u.isString}}};return e.cleanup=function(){u.each(m,function(e){e()}),m.length=0},e}()},{"./browserProxy.js":9,"./common.js":11,"./util.js":24}],23:[function(t,e,n){e.exports=function(){var e={},p=t("./util.js"),d=t("./common.js"),s=t("../vendor/web2app.js"),c="kakaostory_social_plugin",u="width=670, height=471",f=[];e.createShareButton=function(e){e=d.processRules(e,h.createShareButton,"Story.createShareButton");var i=p.getElement(e.container);if(!i)throw new d.KakaoError("container is required for KakaoStory share button: pass in element or id");var r=document.createElement("a"),o=document.createElement("img");r.appendChild(o);var t=l(e.url,e.text);r.setAttribute("href",t),r.setAttribute("target","_blank");var n=function n(e){e.preventDefault?e.preventDefault():e.returnValue=!1,d.windowOpen(t,c,u)};p.addEvent(r,"click",n);var a=function a(){p.removeEvent(r,"click",n),i.removeChild(r)};f.push(a),o.onload=function(e){var t,n;i.appendChild(r),n=d.UA.browser.msie&&parseInt(d.UA.browser.version.major)<=10?(t=o.width,o.height):(t=e.target.width,e.target.height),o.width=t,o.height=n},o.src=d.URL.storyIcon},e.share=function(e){var t=l((e=d.processRules(e,h.share,"Story.share")).url,e.text);d.windowOpen(t,c,u)},e.open=function(e){var t,n,i=((e=d.processRules(e,h.open,"Story.open")).text?e.text+"\n":"")+(e.url||""),r=location.hostname||"";e.urlInfo&&(n=(t=d.processRules(e.urlInfo,h.openUrlInfo,"Story.open")).name||"");var o=function(e,t,n,i){var r={post:e,appver:d.VERSION,appid:t,apiver:"1.0",appname:n};i&&(r.urlinfo=i);return p.extend(r,g()),"storylink://posting?"+p.buildQueryString(r)}(i,r,n||r,JSON.stringify(t)),a={urlScheme:o,intentURI:"intent:"+o+"#Intent;"+(!0===e.install?"package=com.kakao.story;":"")+"end;",appname:"KakaoStory",storeURL:d.getInstallUrl("com.kakao.story","486244601"),onUnsupportedEnvironment:function(){e.fail&&e.fail()}};s(a)};var m=0;e.createFollowButton=function(e){e=d.processRules(e,h.createFollowButton,"Story.createFollowButton");var t=p.getElement(e.container);if(!t)throw new d.KakaoError("container is required for KakaoStory follow button: pass in element or id");var n,i,r,o=document.createElement("iframe"),a=m++;o.src=(i=a,r={id:(n=e).id,type:n.type,hideFollower:!n.showFollowerCount,frameId:i},p.extend(r,g()),d.URL.channelFollow+"?"+p.buildQueryString(r)),o.setAttribute("frameborder","0"),o.setAttribute("marginwidth","0"),o.setAttribute("marginheight","0"),o.setAttribute("scrolling","no");var s=e.showFollowerCount&&"horizontal"===e.type?85:59,c=e.showFollowerCount&&"vertical"===e.type?46:20;o.style.width=s+"px",o.style.height=c+"px";var u=function u(e){if(e.data&&/\.kakao\.com$/.test(e.origin)&&"string"==typeof e.data){var t=e.data.split(","),n=parseInt(t[0],10),i=parseInt(t[1],10),r=parseInt(t[2],10);if(n!==a)return;s!==i&&(s=i,o.style.width=i+"px"),c!==r&&(c=r,o.style.height=r+"px")}};t.appendChild(o),p.addEvent(window,"message",u);var l=function l(){p.removeEvent(window,"message",u),t.removeChild(o)};f.push(l)};var h={createShareButton:{required:{container:p.passesOneOf([p.isElement,p.isString])},optional:{url:p.isString,text:p.isString},defaults:function(e){var t=p.getElement(e.container);return t?{url:t.getAttribute("data-url")||location.href}:null}},share:{optional:{url:p.isString,text:p.isString},defaults:{url:location.href}},open:{optional:{url:p.isString,text:p.isString,urlInfo:p.isObject,install:p.isBoolean},defaults:{url:location.href,install:!1}},openUrlInfo:{required:{title:p.isString},optional:{desc:p.isString,name:p.isString,images:p.isArray,imageurl:p.isArray,type:p.isString},defaults:{type:"website"},before:function(e){e.images&&(e.imageurl=e.images,delete e.images)}},createFollowButton:{required:{container:p.passesOneOf([p.isElement,p.isString]),id:p.isString},optional:{type:p.isOneOf(["horizontal","vertical"]),showFollowerCount:p.isBoolean},defaults:function(e){var t=p.getElement(e.container);if(t){var n={type:t.getAttribute("data-type")||"horizontal",showFollowerCount:"false"!==t.getAttribute("data-show-follower-count")},i=t.getAttribute("data-id");return i&&(n.id=i),n}return null},after:function(e){"@"!==e.id.substr(0,1)&&(e.id="@"+e.id)}}};function l(e,t){var n={url:e};return t&&(n.text=t),p.extend(n,g()),d.URL.storyShare+"?"+p.buildQueryString(n)}function g(){var e={kakao_agent:d.KAKAO_AGENT};return d.RUNTIME.appKey&&(e.app_key=d.RUNTIME.appKey),e}return e.cleanup=function(){p.each(f,function(e,t){e()}),f.length=0},e}()},{"../vendor/web2app.js":31,"./common.js":11,"./util.js":24}],24:[function(e,t,n){t.exports=function(){var s={},a={},n=Array.prototype,e=Object.prototype,i=n.slice,r=n.concat,o=e.toString,c=e.hasOwnProperty,u=n.forEach,t=n.map,l=n.filter,p=n.every,d=n.some,f=n.indexOf,m=Array.isArray,h=Object.keys,g=s.each=function(e,t,n){if(null==e)return e;if(u&&e.forEach===u)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e)===a)return}else for(var o=s.keys(e),i=0,r=o.length;i<r;i++)if(t.call(n,e[o[i]],o[i],e)===a)return;return e};s.map=function(e,i,r){var o=[];return null==e?o:t&&e.map===t?e.map(i,r):(g(e,function(e,t,n){o.push(i.call(r,e,t,n))}),o)},s.filter=function(e,i,r){var o=[];return null==e?o:l&&e.filter===l?e.filter(i,r):(g(e,function(e,t,n){i.call(r,e,t,n)&&o.push(e)}),o)},s.every=function(e,i,r){i=i||s.identity;var o=!0;return null==e?o:p&&e.every===p?e.every(i,r):(g(e,function(e,t,n){if(!(o=o&&i.call(r,e,t,n)))return a}),!!o)};var v=s.any=function(e,i,r){i=i||s.identity;var o=!1;return null==e?o:d&&e.some===d?e.some(i,r):(g(e,function(e,t,n){if(o=o||i.call(r,e,t,n))return a}),!!o)};return s.contains=function(e,t){return null!=e&&(f&&e.indexOf===f?-1!=e.indexOf(t):v(e,function(e){return e===t}))},s.difference=function(e){var t=r.apply(n,i.call(arguments,1));return s.filter(e,function(e){return!s.contains(t,e)})},s.partial=function(r){var o=i.call(arguments,1);return function(){for(var e=0,t=o.slice(),n=0,i=t.length;n<i;n++)t[n]===s&&(t[n]=arguments[e++]);for(;e<arguments.length;)t.push(arguments[e++]);return r.apply(this,t)}},s.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},s.keys=function(e){if(!s.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)s.has(e,n)&&t.push(n);return t},s.extend=function(n){return g(i.call(arguments,1),function(e){if(e)for(var t in e)n[t]=e[t]}),n},s.defaults=function(n){return g(i.call(arguments,1),function(e){if(e)for(var t in e)void 0===n[t]&&(n[t]=e[t])}),n},s.isElement=function(e){return!(!e||1!==e.nodeType)},s.isArray=m||function(e){return"[object Array]"==o.call(e)},s.isObject=function(e){return e===Object(e)},g(["Arguments","Function","String","Number","Date","RegExp","Blob","File","FileList"],function(t){s["is"+t]=function(e){return o.call(e)=="[object "+t+"]"}}),s.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==o.call(e)},s.has=function(e,t){return c.call(e,t)},s.identity=function(e){return e},s.isInteger=function(e){return s.isNumber(e)&&e%1==0},s.emptyFunc=function(){},s.getElement=function(e){return s.isElement(e)?e:s.isString(e)?document.querySelector(e):null},s.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},s.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},s.buildQueryString=function(e,t){var n,i,r,o=[];for(var a in e){e.hasOwnProperty(a)&&(n=e[a],s.isObject(n)&&(n=JSON.stringify(n)),i=!1===t?a:encodeURIComponent(a),r=!1===t?n:encodeURIComponent(n),o.push(i+"="+r))}return o.join("&")},s.getRandomString=function(){return Math.random().toString(36).slice(2)},s.nullify=function(n){s.each(n,function(e,t){n[t]=null})},s.isOneOf=function(e){return s.partial(s.contains,e)},s.passesOneOf=function(e){if(!s.isArray(e))throw new Error("validators should be an Array");return function(t){return s.any(e,function(e){return e(t)})}},s.isURL=function(e){return/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/.test(e)},s.arrayBufferToString=function(e){for(var t,n,i="",r=new Uint8Array(e),o=r.length,a=Math.pow(2,16),s=0;s<o;s+=a)t=Math.min(a,o-s),n=r.subarray(s,s+t),i+=String.fromCharCode.apply(null,n);return i},s.localStorage=function(){var e={_data:{},setItem:function(e,t){return this._data[e]=String(t)},getItem:function(e){return this._data.hasOwnProperty(e)?this._data[e]:null},removeItem:function(e){return delete this._data[e]},clear:function(){return this._data={}}};try{return"localStorage"in window?(window.localStorage.setItem("store",""),window.localStorage.removeItem("store"),window.localStorage):e}catch(t){return e}}(),s}()},{}],25:[function(t,e,n){e.exports=function(){var e=t("../vendor/userAgent.js")();return{isAndroidWebView:function(){return e.os.android&&(2==e.os.version.major&&/Version\/\d+.\d+|/i.test(e.ua)||4==e.os.version.major&&e.os.version.minor<4&&/Version\/\d+.\d+|/i.test(e.ua)||/Version\/\d+\.\d+/i.test(e.ua)&&(/Chrome\/\d+\.\d+\.\d+\.\d+ Mobile/i.test(e.ua)||/; wv\)/i.test(e.ua)))},isIOSKakaoTalkWebView:function(){return e.os.ios&&/KAKAOTALK/i.test(e.ua)},isAndroidKakaoTalkWebView:function(){return e.os.android&&/KAKAOTALK/i.test(e.ua)},isNewerAndroidKakaoTalkWebView:function(){return e.os.android&&/KAKAOTALK/i.test(e.ua)&&e.browser.chrome&&71<=e.browser.version.major}}}},{"../vendor/userAgent.js":30}],26:[function(u,e,t){e.exports=function(){var f,e={},m=u("./util.js"),h=u("./common.js"),o=u("./auth.withTalk.poller.js"),i=(u("../vendor/easyXDM.js"),u("./api.js")),g=u("./auth.common.js"),a=u("./auth.js"),v=(u("./common/everntObserver"),[]);function s(){f&&f.close&&f.close()}function y(){return"width=480, height=700, scrollbars=yes, resizable=1, left="+(screen.width/2-240+(window.screenLeft?window.screenLeft:window.screenX?window.screenX:0))+", top="+(screen.height/2-350+(window.screenTop?window.screenTop:window.screenY?window.screenY:0))}var c=function c(e){var t={};return e.storeKey&&(t.store_key=e.storeKey),e.itemId&&(t.item_id=e.itemId),e.itemName&&(t.item_name=e.itemName),e.itemUrl&&(t.item_url=e.itemUrl),e.price&&(t.price=e.price),e.imageUrl&&(t.image_url=e.imageUrl),e.discountPrice&&(t.discount_price=e.discountPrice),e.discountRate&&(t.discount_rate=e.discountRate),e.imageWidth&&(t.image_width=e.imageWidth),e.imageHeight&&(t.image_height=e.imageHeight),e.oneclickPluginId&&(t.oneclick_plugin_id=e.oneclickPluginId),e.oneclickId&&(t.oneclick_id=e.oneclickId),e.optionPluginId&&(t.option_plugin_id=e.optionPluginId),e.productId&&(t.product_id=e.productId),t},k=function k(n,e){function r(e){var t;200===e.status&&e.response&&(t=JSON.parse(e.response),a.setAccessToken(t.access_token,!0),i.request({url:"/v1/api/talk/wishlist/add",data:c(n)}).then(function(e){n.success(e),n.always(e)})["catch"](function(e){n.fail(e),n.always(e)}))}function t(e){if(200===e.status&&e.response){var t=JSON.parse(e.response);if("ok"==t.status&&t.code){o.stop(),s();var n="grant_type=authorization_code&client_id="+h.RUNTIME.appKey+"&redirect_uri=JS-SDK&code="+t.code;g.getToken(h.URL.authDomain+"/oauth/token",n,r)}else if("error"!=t.status||"500"!=t.error_code&&"600"!=t.error_code)try{"about:blank"==f.location.href&&h.UA.os.ios&&s()}catch(i){return!1}else o.stop(),s();(!h.UA.os.ios&&!h.UA.os.android||/KAKAOTALK/i.test(h.UA.ua))&&f&&f.closed&&o.stop()}}o.start(function(){e&&g.checkAuthorize(h.URL.authDomain+"/apiweb/code.json?client_id="+h.RUNTIME.appKey+"&auth_tran_id="+e,t)},function(){var e={error:"timeout",error_description:"Account login timed out. Please log in again.",error_code:"504",status:"error"};n.fail(e),n.always(e)})};function b(e,t){var n,i,r=(n=t,i={client_id:h.RUNTIME.appKey,redirect_uri:"JS-SDK",response_type:"code",auth_tran_id:n,ka:h.KAKAO_AGENT,origin:window.location.origin},h.URL.authorize+"?"+m.buildQueryString(i)),o=h.URL.wishlistUrl+"?auth_url="+encodeURIComponent(r);if(!h.UA.os.ios||/KAKAOTALK/i.test(h.UA.ua))return!h.UA.os.android||/KAKAOTALK/i.test(h.UA.ua)?o:"intent://inappbrowser?url="+encodeURIComponent(o)+"#Intent;scheme=kakaotalk;launchFlags=0x08880000;S.browser_fallback_url="+encodeURIComponent(o)+";end";var a=h.URL.talkInappScheme+"?url="+encodeURIComponent(o);return""+h.URL.universalKakaoLink+encodeURIComponent(a)+"&web="+encodeURIComponent(o)}e.createAddWishlistButton=function(i){i=h.processRules(i,w.createAddWishlistButton,"Wishlist.createAddWishlistButton");var e=m.getElement(i.container);if(!e)throw new h.KakaoError("container is required for creating Wishlist.createAddWishlistButton button: pass in element or id");var t,n,r,o,a,s,c,u=(n="wishlist_"+(t=i).size+"_yellow_"+t.shape,h.URL.resPrefix+"/logos/wishlist/"+n+".png"),l=(r=u,o="톡찜 추가 버튼",a=i,s=document.createElement("a"),c=document.createElement("img"),s.setAttribute("href","#"),c.setAttribute("src",r),c.setAttribute("alt",o),c.setAttribute("title",o),a.supportMultipleDensities&&c.setAttribute("srcset",[r.replace(".png","_2X.png 2x"),r.replace(".png","_3X.png 3x")].join(", ")),s.appendChild(c),s);e.appendChild(l);var p=function p(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=g.getTranId();k(i,t);var n=b(0,t);f=h.windowOpen(n,"_blank",y())};m.addEvent(l,"click",p);var d=function d(){e.removeChild(l),m.removeEvent(l,"click",p)};v.push(d)},e.addWishlist=function(e){e=h.processRules(e,w.addWishlist,"Wishlist.addWishlist");var t=g.getTranId();k(e,t);var n=b(0,t);f=h.windowOpen(n,"_blank",y())};var n={success:m.emptyFunc,fail:m.emptyFunc,always:m.emptyFunc},t={success:m.isFunction,fail:m.isFunction,always:m.isFunction,discountPrice:m.isNumber,discountRate:m.isNumber,imageWidth:m.isNumber,imageHeight:m.isNumber,oneclickPluginId:m.isString,oneclickId:m.isString,optionPluginId:m.isString,productId:m.isString,storeKey:m.isString},r={itemId:m.isNumber,itemName:m.isString,itemUrl:m.isString,price:m.isNumber,imageUrl:m.isString},w={createAddWishlistButton:{required:m.extend({container:m.passesOneOf([m.isElement,m.isString])},r),optional:m.extend({size:m.isOneOf(["small","large"]),shape:m.isOneOf(["pc","mobile"]),supportMultipleDensities:m.isBoolean},t),defaults:function(e){var t=m.getElement(e.container);return m.extend(t?{size:t.getAttribute("data-size")||"large",shape:t.getAttribute("data-shape")||"pc",supportMultipleDensities:!!t.getAttribute("data-support-multiple-densities")}:{},n)}},addWishlist:{required:r,optional:t,defaults:n}};return e.cleanup=function(){m.each(v,function(e){e()}),v.length=0},e}()},{"../vendor/easyXDM.js":28,"./api.js":4,"./auth.common.js":5,"./auth.js":6,"./auth.withTalk.poller.js":8,"./common.js":11,"./common/everntObserver":13,"./util.js":24}],27:[function(e,t,n){var c,i,r,o,u,a,R;t.exports=(R=function(s){var e={},t=e.lib={},n=function n(){},i=t.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=t.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var r=0;r<e;r++)t[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<e;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=s.ceil(t/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*s.random()|0);return new c.init(t,e)}}),r=e.enc={},o=r.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var r=t[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new c.init(n,t/2)}},a=r.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new c.init(n,t)}},u=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(a.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return a.parse(unescape(encodeURIComponent(e)))}},l=t.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,i=t.sigBytes,r=this.blockSize,o=i/(4*r);if(e=(o=e?s.ceil(o):s.max((0|o)-this._minBufferSize,0))*r,i=s.min(4*e,i),e){for(var a=0;a<e;a+=r)this._doProcessBlock(n,a);a=n.splice(0,e),t.sigBytes-=i}return new c.init(a,i)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});t.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new p.HMAC.init(n,t).finalize(e)}}});var p=e.algo={};return e}(Math),c=R.lib.WordArray,R.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var r=0;r<n;r+=3)for(var o=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,a=0;a<4&&r+.75*a<n;a++)e.push(i.charAt(o>>>6*(3-a)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,n=this._map;!(o=n.charAt(64))||-1!=(o=e.indexOf(o))&&(t=o);for(var i,r,o=[],a=0,s=0;s<t;s++)s%4&&(i=n.indexOf(e.charAt(s-1))<<s%4*2,r=n.indexOf(e.charAt(s))>>>6-s%4*2,o[a>>>2]|=(i|r)<<24-a%4*8,a++);return c.create(o,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(o){function S(e,t,n,i,r,o,a){return((e=e+(t&n|~t&i)+r+a)<<o|e>>>32-o)+t}function A(e,t,n,i,r,o,a){return((e=e+(t&i|n&~i)+r+a)<<o|e>>>32-o)+t}function T(e,t,n,i,r,o,a){return((e=e+(t^n^i)+r+a)<<o|e>>>32-o)+t}function O(e,t,n,i,r,o,a){return((e=e+(n^(t|~i))+r+a)<<o|e>>>32-o)+t}for(var e=R,t=(i=e.lib).WordArray,n=i.Hasher,i=e.algo,x=[],r=0;r<64;r++)x[r]=4294967296*o.abs(o.sin(r+1))|0;i=i.MD5=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=e[r=t+n];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var n=this._hash.words,r=e[t+0],i=e[t+1],o=e[t+2],a=e[t+3],s=e[t+4],c=e[t+5],u=e[t+6],l=e[t+7],p=e[t+8],d=e[t+9],f=e[t+10],m=e[t+11],h=e[t+12],g=e[t+13],v=e[t+14],y=e[t+15],k=S(k=n[0],_=n[1],w=n[2],b=n[3],r,7,x[0]),b=S(b,k,_,w,i,12,x[1]),w=S(w,b,k,_,o,17,x[2]),_=S(_,w,b,k,a,22,x[3]),k=S(k,_,w,b,s,7,x[4]),b=S(b,k,_,w,c,12,x[5]),w=S(w,b,k,_,u,17,x[6]),_=S(_,w,b,k,l,22,x[7]),k=S(k,_,w,b,p,7,x[8]),b=S(b,k,_,w,d,12,x[9]),w=S(w,b,k,_,f,17,x[10]),_=S(_,w,b,k,m,22,x[11]),k=S(k,_,w,b,h,7,x[12]),b=S(b,k,_,w,g,12,x[13]),w=S(w,b,k,_,v,17,x[14]),k=A(k,_=S(_,w,b,k,y,22,x[15]),w,b,i,5,x[16]),b=A(b,k,_,w,u,9,x[17]),w=A(w,b,k,_,m,14,x[18]),_=A(_,w,b,k,r,20,x[19]),k=A(k,_,w,b,c,5,x[20]),b=A(b,k,_,w,f,9,x[21]),w=A(w,b,k,_,y,14,x[22]),_=A(_,w,b,k,s,20,x[23]),k=A(k,_,w,b,d,5,x[24]),b=A(b,k,_,w,v,9,x[25]),w=A(w,b,k,_,a,14,x[26]),_=A(_,w,b,k,p,20,x[27]),k=A(k,_,w,b,g,5,x[28]),b=A(b,k,_,w,o,9,x[29]),w=A(w,b,k,_,l,14,x[30]),k=T(k,_=A(_,w,b,k,h,20,x[31]),w,b,c,4,x[32]),b=T(b,k,_,w,p,11,x[33]),w=T(w,b,k,_,m,16,x[34]),_=T(_,w,b,k,v,23,x[35]),k=T(k,_,w,b,i,4,x[36]),b=T(b,k,_,w,s,11,x[37]),w=T(w,b,k,_,l,16,x[38]),_=T(_,w,b,k,f,23,x[39]),k=T(k,_,w,b,g,4,x[40]),b=T(b,k,_,w,r,11,x[41]),w=T(w,b,k,_,a,16,x[42]),_=T(_,w,b,k,u,23,x[43]),k=T(k,_,w,b,d,4,x[44]),b=T(b,k,_,w,h,11,x[45]),w=T(w,b,k,_,y,16,x[46]),k=O(k,_=T(_,w,b,k,o,23,x[47]),w,b,r,6,x[48]),b=O(b,k,_,w,l,10,x[49]),w=O(w,b,k,_,v,15,x[50]),_=O(_,w,b,k,c,21,x[51]),k=O(k,_,w,b,h,6,x[52]),b=O(b,k,_,w,a,10,x[53]),w=O(w,b,k,_,f,15,x[54]),_=O(_,w,b,k,i,21,x[55]),k=O(k,_,w,b,p,6,x[56]),b=O(b,k,_,w,y,10,x[57]),w=O(w,b,k,_,u,15,x[58]),_=O(_,w,b,k,g,21,x[59]),k=O(k,_,w,b,s,6,x[60]),b=O(b,k,_,w,m,10,x[61]),w=O(w,b,k,_,o,15,x[62]),_=O(_,w,b,k,d,21,x[63]);n[0]=n[0]+k|0,n[1]=n[1]+_|0,n[2]=n[2]+w|0,n[3]=n[3]+b|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32;var r=o.floor(n/4294967296);for(t[15+(64+i>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t[14+(64+i>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,n=0;n<4;n++)i=t[n],t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return e},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.MD5=n._createHelper(i),e.HmacMD5=n._createHmacHelper(i)}(Math),r=(i=R).lib,o=r.Base,u=r.WordArray,a=(r=i.algo).EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:r.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=(a=this.cfg).hasher.create(),i=u.create(),r=i.words,o=a.keySize,a=a.iterations;r.length<o;){s&&n.update(s);var s=n.update(e).finalize(t);n.reset();for(var c=1;c<a;c++)s=n.finalize(s),n.reset();i.concat(s)}return i.sigBytes=4*o,i}}),i.EvpKDF=function(e,t,n){return a.create(n).compute(e,t)},R.lib.Cipher||function(){var e=(d=R).lib,t=e.Base,a=e.WordArray,n=e.BufferedBlockAlgorithm,i=d.enc.Base64,r=d.algo.EvpKDF,o=e.Cipher=n.extend({cfg:t.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){n.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(i){return{encrypt:function(e,t,n){return("string"==typeof t?f:p).encrypt(i,e,t,n)},decrypt:function(e,t,n){return("string"==typeof t?f:p).decrypt(i,e,t,n)}}}});e.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var s=d.mode={},c=function c(e,t,n){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var r=0;r<n;r++)e[t+r]^=i[r]},u=(e.BlockCipherMode=t.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();u.Encryptor=u.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;c.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),u.Decryptor=u.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=e.slice(t,t+i);n.decryptBlock(e,t),c.call(this,e,t,i),this._prevBlock=r}}),s=s.CBC=u,u=(d.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,i=(n-=e.sigBytes%n)<<24|n<<16|n<<8|n,r=[],o=0;o<n;o+=4)r.push(i);n=a.create(r,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},e.BlockCipher=o.extend({cfg:o.cfg.extend({mode:s,padding:u}),reset:function(){o.reset.call(this);var e,t=(n=this.cfg).iv,n=n.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode=e.call(n,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var l=e.CipherParams=t.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),s=(d.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?a.create([1398893684,1701076831]).concat(e).concat(t):t).toString(i)},parse:function(e){var t,n=(e=i.parse(e)).words;return 1398893684==n[0]&&1701076831==n[1]&&(t=a.create(n.slice(2,4)),n.splice(0,4),e.sigBytes-=16),l.create({ciphertext:e,salt:t})}},p=e.SerializableCipher=t.extend({cfg:t.extend({format:s}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i);return t=r.finalize(t),r=r.cfg,l.create({ciphertext:t,key:n,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),d=(d.kdf={}).OpenSSL={execute:function(e,t,n,i){return i=i||a.random(8),e=r.create({keySize:t+n}).compute(e,i),n=a.create(e.words.slice(t),4*n),e.sigBytes=4*t,l.create({key:e,iv:n,salt:i})}},f=e.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:d}),encrypt:function(e,t,n,i){return n=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize),i.iv=n.iv,(e=p.encrypt.call(this,e,t,n.key,i)).mixIn(n),e},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt),i.iv=n.iv,p.decrypt.call(this,e,t,n.key,i)}})}(),function(){for(var e=R,t=e.lib.BlockCipher,n=e.algo,a=[],i=[],r=[],o=[],s=[],c=[],u=[],l=[],p=[],d=[],f=[],m=0;m<256;m++)f[m]=m<128?m<<1:m<<1^283;for(var h=0,g=0,m=0;m<256;m++){var v=(v=g^g<<1^g<<2^g<<3^g<<4)>>>8^255&v^99;a[h]=v;var y=f[i[v]=h],k=f[y],b=f[k],w=257*f[v]^16843008*v;r[h]=w<<24|w>>>8,o[h]=w<<16|w>>>16,s[h]=w<<8|w>>>24,c[h]=w,w=16843009*b^65537*k^257*y^16843008*h,u[v]=w<<24|w>>>8,l[v]=w<<16|w>>>16,p[v]=w<<8|w>>>24,d[v]=w,h?(h=y^f[f[f[b^y]]],g^=f[f[g]]):h=g=1}var _=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=t.extend({_doReset:function(){for(var e,t=(i=this._key).words,n=i.sigBytes/4,i=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],o=0;o<i;o++)o<n?r[o]=t[o]:(e=r[o-1],o%n?6<n&&4==o%n&&(e=a[e>>>24]<<24|a[e>>>16&255]<<16|a[e>>>8&255]<<8|a[255&e]):(e=a[(e=e<<8|e>>>24)>>>24]<<24|a[e>>>16&255]<<16|a[e>>>8&255]<<8|a[255&e],e^=_[o/n|0]<<24),r[o]=r[o-n]^e);for(t=this._invKeySchedule=[],n=0;n<i;n++)o=i-n,e=n%4?r[o]:r[o-4],t[n]=n<4||o<=4?e:u[a[e>>>24]]^l[a[e>>>16&255]]^p[a[e>>>8&255]]^d[a[255&e]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,o,s,c,a)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,l,p,d,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,o,a,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],p=e[t+2]^n[2],d=e[t+3]^n[3],f=4,m=1;m<c;m++)var h=i[u>>>24]^r[l>>>16&255]^o[p>>>8&255]^a[255&d]^n[f++],g=i[l>>>24]^r[p>>>16&255]^o[d>>>8&255]^a[255&u]^n[f++],v=i[p>>>24]^r[d>>>16&255]^o[u>>>8&255]^a[255&l]^n[f++],d=i[d>>>24]^r[u>>>16&255]^o[l>>>8&255]^a[255&p]^n[f++],u=h,l=g,p=v;h=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[p>>>8&255]<<8|s[255&d])^n[f++],g=(s[l>>>24]<<24|s[p>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[f++],v=(s[p>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[f++],d=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&p])^n[f++],e[t]=h,e[t+1]=g,e[t+2]=v,e[t+3]=d},keySize:8});e.AES=t._createHelper(n)}(),R)},{}],28:[function(e,t,n){t.exports=(function(h,l,p,g,d,f){var c,u,m,v,y,k=this||h,b=Math.floor(1e4*Math.random()),w=Function.prototype,_=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,n=/[\-\w]+\/\.\.\//,i=/([^:])\/\//g,S="",A={},t=h.easyXDM,T="easyXDM_",O=!1;function x(e,t){var n=_typeof(e[t]);return"function"==n||"object"==n&&e[t]||"unknown"==n}function R(){var e,t,n="Shockwave Flash",i="application/x-shockwave-flash";if(K(navigator.plugins)||"object"!=_typeof(navigator.plugins[n])||(e=navigator.plugins[n].description)&&!K(navigator.mimeTypes)&&navigator.mimeTypes[i]&&navigator.mimeTypes[i].enabledPlugin&&(u=e.match(/\d+/g)),!u)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),u=Array.prototype.slice.call(t.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),t=null}catch(a){}if(u){var r=parseInt(u[0],10),o=parseInt(u[1],10);return m=9<r&&0<o,1}}if(x(h,"addEventListener"))v=function v(e,t,n){e.addEventListener(t,n,!1)},y=function y(e,t,n){e.removeEventListener(t,n,!1)};else{if(!x(h,"attachEvent"))throw new Error("Browser not supported");v=function v(e,t,n){e.attachEvent("on"+t,n)},y=function y(e,t,n){e.detachEvent("on"+t,n)}}var e,r,o=!1,a=[];function s(){if(!o){o=!0;for(var e=0;e<a.length;e++)a[e]();a.length=0}}function U(e,t){o?e.call(t):a.push(function(){e.call(t)})}function E(e){return e.match(_)[3]}function I(e){if(0<=e.indexOf("file://"))return"file://";var t=e.toLowerCase().match(_);if(!t)return"";var n=t[2],i=t[3],r=t[4]||"";return("http:"==n&&":80"==r||"https:"==n&&":443"==r)&&(r=""),n+"//"+i+r}function j(e){var t;for((e=e.replace(i,"$1/")).match(/^(http||https):\/\//)||("/"!==(t="/"===e.substring(0,1)?"":p.pathname).substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=p.protocol+"//"+p.host+t+e);n.test(e);)e=e.replace(n,"");return e}function L(e,t){var n="",i=e.indexOf("#");-1!==i&&(n=e.substring(i),e=e.substring(0,i));var r=[];for(var o in t)t.hasOwnProperty(o)&&r.push(o+"="+f(t[o]));return e+(O?"#":-1==e.indexOf("?")?"?":"&")+r.join("&")+n}(o="readyState"in l?"complete"==(e=l.readyState)||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==e||"interactive"==e):!!l.body)||(x(h,"addEventListener")?v(l,"DOMContentLoaded",s):(v(l,"readystatechange",function(){"complete"==l.readyState&&s()}),l.documentElement.doScroll&&h===top&&(r=function r(){if(!o){try{l.documentElement.doScroll("left")}catch(e){return void g(r,1)}s()}},r())),v(h,"load",s));var F=function(e){for(var t,n={},i=(e=e.substring(1).split("&")).length;i--;)n[(t=e[i].split("="))[0]]=d(t[1]);return n}(/xdm_e=/.test(p.search)?p.search:p.hash);function K(e){return void 0===e}var C,N=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=n.evalJSON()).a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()}),e.stringify&&e.parse?(N=function(){return e},e):null)};function B(e,t,n){var i;for(var r in t)t.hasOwnProperty(r)&&(r in e?"object"===(void 0===(i=t[r])?"undefined":_typeof(i))?B(e[r],i,n):n||(e[r]=t[r]):e[r]=t[r]);return e}function M(e){var t,n,i;K(c)&&(t=l.body.appendChild(l.createElement("form")),(n=t.appendChild(l.createElement("input"))).name=T+"TEST"+b,c=n!==t.elements[n.name],l.body.removeChild(t)),c?i=l.createElement('<iframe name="'+e.props.name+'"/>'):(i=l.createElement("IFRAME")).name=e.props.name,i.id=i.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=l.getElementById(e.container)),e.container||(B(i.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=l.body);var r=e.props.src;if(e.props.src="javascript:false",B(i,e.props),i.border=i.frameBorder=0,i.allowTransparency=!0,e.container.appendChild(i),e.onLoad&&v(i,"load",e.onLoad),e.usePost){var o,a=e.container.appendChild(l.createElement("form"));if(a.target=i.name,a.action=r,a.method="POST","object"===_typeof(e.usePost))for(var s in e.usePost)e.usePost.hasOwnProperty(s)&&(c?o=l.createElement('<input name="'+s+'"/>'):(o=l.createElement("INPUT")).name=s,o.value=e.usePost[s],a.appendChild(o));a.submit(),a.parentNode.removeChild(a)}else i.src=r;return e.props.src=r,i}function P(e){var t,n=e.protocol;if(e.isHost=e.isHost||K(F.xdm_p),O=e.hash||!1,e.props||(e.props={}),e.isHost)e.remote=j(e.remote),e.channel=e.channel||"default"+b++,e.secret=Math.random().toString(16).substring(2),K(n)&&(n=I(p.href)==I(e.remote)?"4":x(h,"postMessage")||x(l,"postMessage")?"1":e.swf&&x(h,"ActiveXObject")&&R()?"6":"Gecko"===navigator.product&&"frameElement"in h&&-1==navigator.userAgent.indexOf("WebKit")?"5":e.remoteHelper?"2":"0");else if(e.channel=F.xdm_c.replace(/["'<>\\]/g,""),e.secret=F.xdm_s,e.remote=F.xdm_e.replace(/["'<>\\]/g,""),n=F.xdm_p,e.acl&&!function(e,t){"string"==typeof e&&(e=[e]);for(var n=e.length;n--;){var i="^"===e[n].substr(0,1)&&"$"===e[n].substr(e[n].length-1,1)?e[n]:"^"+e[n].replace(/[-[\]/{}()+.\^$|]/g,"\\$&").replace(/(\*)/g,".$1").replace(/\?/g,".")+"$";if((i=new RegExp(i)).test(t))return 1}}(e.acl,e.remote))throw new Error("Access denied for "+e.remote);switch(e.protocol=n){case"0":if(B(e,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),e.isHost){if(!e.local){for(var i,r=p.protocol+"//"+p.host,o=l.body.getElementsByTagName("img"),a=o.length;a--;)if((i=o[a]).src.substring(0,r.length)===r){e.local=i.src;break}e.local||(e.local=h)}var s={xdm_c:e.channel,xdm_p:0};e.local===h?(e.usePolling=!0,e.useParent=!0,e.local=p.protocol+"//"+p.host+p.pathname+p.search,s.xdm_e=e.local,s.xdm_pa=1):s.xdm_e=j(e.local),e.container&&(e.useResize=!1,s.xdm_po=1),e.remote=L(e.remote,s)}else B(e,{useParent:!K(F.xdm_pa),usePolling:!K(F.xdm_po),useResize:!e.useParent&&e.useResize});t=[new A.stack.HashTransport(e),new A.stack.ReliableBehavior({}),new A.stack.QueueBehavior({encode:!0,maxLength:4e3-e.remote.length}),new A.stack.VerifyBehavior({initiate:e.isHost})];break;case"1":t=[new A.stack.PostMessageTransport(e)];break;case"2":e.isHost&&(e.remoteHelper=j(e.remoteHelper)),t=[new A.stack.NameTransport(e),new A.stack.QueueBehavior,new A.stack.VerifyBehavior({initiate:e.isHost})];break;case"3":t=[new A.stack.NixTransport(e)];break;case"4":t=[new A.stack.SameOriginTransport(e)];break;case"5":t=[new A.stack.FrameElementTransport(e)];break;case"6":u||R(),t=[new A.stack.FlashTransport(e)]}return t.push(new A.stack.QueueBehavior({lazy:e.lazy,remove:!0})),t}function D(e){for(var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},i=0,r=e.length;i<r;i++)B(t=e[i],n,!0),0!==i&&(t.down=e[i-1]),i!==r-1&&(t.up=e[i+1]);return t}B(A,{version:"2.5.00.1",query:F,stack:{},apply:B,getJSONObject:N,whenReady:U,noConflict:function(e){return h.easyXDM=t,(S=e)&&(T="easyXDM_"+S.replace(".","_")+"_"),A}}),A.DomHelper={on:v,un:y,requiresJSON:function(e){var t,n;"object"==_typeof((t=h)[n="JSON"])&&t[n]||l.write('<script type="text/javascript" src="'+e+'"><\/script>')}},C={},A.Fn={set:function(e,t){C[e]=t},get:function(e,t){if(C.hasOwnProperty(e)){var n=C[e];return t&&delete C[e],n}}},A.Socket=function(n){var t=D(P(n).concat([{incoming:function(e,t){n.onMessage(e,t)},callback:function(e){n.onReady&&n.onReady(e)}}])),i=I(n.remote);this.origin=I(n.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,i)},t.init()},A.Rpc=function(t,e){if(e.local)for(var n in e.local){var i;!e.local.hasOwnProperty(n)||"function"==typeof(i=e.local[n])&&(e.local[n]={method:i})}var r=D(P(t).concat([new A.stack.RpcBehavior(this,e),{callback:function(e){t.onReady&&t.onReady(e)}}]));this.origin=I(t.remote),this.context=t.context||null,this.destroy=function(){r.destroy()},r.init()},A.stack.SameOriginTransport=function(e){var t,n,i,r;return t={outgoing:function(e,t,n){i(e),n&&n()},destroy:function(){n&&(n.parentNode.removeChild(n),n=null)},onDOMReady:function(){r=I(e.remote),e.isHost?(B(e.props,{src:L(e.remote,{xdm_e:p.protocol+"//"+p.host+p.pathname,xdm_c:e.channel,xdm_p:4}),name:T+e.channel+"_provider"}),n=M(e),A.Fn.set(e.channel,function(e){return i=e,g(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,r)}})):(i=function(){var e=parent;if(""!==S)for(var t=0,n=S.split(".");t<n.length;t++)e=e[n[t]];return e.easyXDM}().Fn.get(e.channel,!0)(function(e){t.up.incoming(e,r)}),g(function(){t.up.callback(!0)},0))},init:function(){U(t.onDOMReady,t)}}},A.stack.FlashTransport=function(r){var n,i,o,a,s;function c(e,t){g(function(){n.up.incoming(e,o)},0)}function u(n){var e=r.swf+"?host="+r.isHost,t="easyXDM_swf_"+Math.floor(1e4*Math.random());A.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){A.stack.FlashTransport[n].swf=a=s.firstChild;for(var e=A.stack.FlashTransport[n].queue,t=0;t<e.length;t++)e[t]();e.length=0}),r.swfContainer?s="string"==typeof r.swfContainer?l.getElementById(r.swfContainer):r.swfContainer:(B((s=l.createElement("div")).style,m&&r.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),l.body.appendChild(s));var i="callback=flash_loaded"+f(n.replace(/[\-.]/g,"_"))+"&proto="+k.location.protocol+"&domain="+f(E(k.location.href))+"&port="+f(k.location.href.match(_)[4]||"")+"&ns="+f(S);s.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+t+"' data='"+e+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+e+"'></param><param name='flashvars' value='"+i+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+i+"' allowScriptAccess='always' wmode='transparent' src='"+e+"' height='1' width='1'></embed></object>"}return n={outgoing:function(e,t,n){a.postMessage(r.channel,e.toString()),n&&n()},destroy:function(){try{a.destroyChannel(r.channel)}catch(e){}a=null,i&&(i.parentNode.removeChild(i),i=null)},onDOMReady:function(){o=r.remote,A.Fn.set("flash_"+r.channel+"_init",function(){g(function(){n.up.callback(!0)})}),A.Fn.set("flash_"+r.channel+"_onMessage",c),r.swf=j(r.swf);var e=E(r.swf),t=function t(){A.stack.FlashTransport[e].init=!0,(a=A.stack.FlashTransport[e].swf).createChannel(r.channel,r.secret,I(r.remote),r.isHost),r.isHost&&(m&&r.swfNoThrottle&&B(r.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),B(r.props,{src:L(r.remote,{xdm_e:I(p.href),xdm_c:r.channel,xdm_p:6,xdm_s:r.secret}),name:T+r.channel+"_provider"}),i=M(r))};A.stack.FlashTransport[e]&&A.stack.FlashTransport[e].init?t():A.stack.FlashTransport[e]?A.stack.FlashTransport[e].queue.push(t):(A.stack.FlashTransport[e]={queue:[t]},u(e))},init:function(){U(n.onDOMReady,n)}}},A.stack.PostMessageTransport=function(i){var n,t,r,o;function a(e){var t;"string"!=typeof e.data||(t=function(e){if(e.origin)return I(e.origin);if(e.uri)return I(e.uri);if(e.domain)return p.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}(e))==o&&"string"==typeof e.data&&e.data.substring(0,i.channel.length+1)==i.channel+" "&&n.up.incoming(e.data.substring(i.channel.length+1),t)}function s(e){e.data==i.channel+"-ready"&&(r="postMessage"in t.contentWindow?t.contentWindow:t.contentWindow.document,y(h,"message",s),v(h,"message",a),g(function(){n.up.callback(!0)},0))}return n={outgoing:function(e,t,n){r.postMessage(i.channel+" "+e,t||o),n&&n()},destroy:function(){y(h,"message",s),y(h,"message",a),t&&(r=null,t.parentNode.removeChild(t),t=null)},onDOMReady:function(){"file://"===(o=I(i.remote))&&(o="*"),i.isHost?(v(h,"message",s),B(i.props,{src:L(i.remote,{xdm_e:I(p.href),xdm_c:i.channel,xdm_p:1}),name:T+i.channel+"_provider"}),t=M(i)):(v(h,"message",a),(r="postMessage"in h.parent?h.parent:h.parent.document).postMessage(i.channel+"-ready",o),g(function(){n.up.callback(!0)},0))},init:function(){U(n.onDOMReady,n)}}},A.stack.FrameElementTransport=function(e){var t,n,i,r;return t={outgoing:function(e,t,n){i.call(this,e),n&&n()},destroy:function(){n&&(n.parentNode.removeChild(n),n=null)},onDOMReady:function(){r=I(e.remote),e.isHost?(B(e.props,{src:L(e.remote,{xdm_e:I(p.href),xdm_c:e.channel,xdm_p:5}),name:T+e.channel+"_provider"}),(n=M(e)).fn=function(e){return delete n.fn,i=e,g(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,r)}}):(l.referrer&&I(l.referrer)!=F.xdm_e&&(h.top.location=F.xdm_e),i=h.frameElement.fn(function(e){t.up.incoming(e,r)}),t.up.callback(!0))},init:function(){U(t.onDOMReady,t)}}},A.stack.NameTransport=function(i){var t,r,o,e,a,s,c,u;function l(e){var t=i.remoteHelper+(r?"#_3":"#_2")+i.channel;o.contentWindow.sendMessage(e,t)}function p(){r?2!=++a&&r||t.up.callback(!0):(l("ready"),t.up.callback(!0))}function d(e){t.up.incoming(e,c)}function f(){s&&g(function(){s(!0)},0)}return t={outgoing:function(e,t,n){s=n,l(e)},destroy:function(){o.parentNode.removeChild(o),o=null,r&&(e.parentNode.removeChild(e),e=null)},onDOMReady:function(){r=i.isHost,a=0,c=I(i.remote),i.local=j(i.local),r?(A.Fn.set(i.channel,function(e){r&&"ready"===e&&(A.Fn.set(i.channel,d),p())}),u=L(i.remote,{xdm_e:i.local,xdm_c:i.channel,xdm_p:2}),B(i.props,{src:u+"#"+i.channel,name:T+i.channel+"_provider"}),e=M(i)):(i.remoteHelper=i.remote,A.Fn.set(i.channel,d));var n=function n(){var e=o||this;y(e,"load",n),A.Fn.set(i.channel+"_load",f),function t(){"function"==typeof e.contentWindow.sendMessage?p():g(t,50)}()};o=M({props:{src:i.local+"#_4"+i.channel},onLoad:n})},init:function(){U(t.onDOMReady,t)}}},A.stack.HashTransport=function(r){var o,a,e,s,c,u,l,p,d,f;function t(){var e,t,n;l&&(t="",-1!=(n=(e=l.location.href).indexOf("#"))&&(t=e.substring(n)),t&&t!=c&&(c=t,o.up.incoming(c.substring(c.indexOf("_")+1),f)))}function m(){e=setInterval(t,s)}return o={outgoing:function(e,t){var n,i;n=e,p&&(i=r.remote+"#"+u+++"_"+n,(a||!d?p.contentWindow:p).location=i)},destroy:function(){h.clearInterval(e),!a&&d||p.parentNode.removeChild(p),p=null},onDOMReady:function(){var t,n;a=r.isHost,s=r.interval,c="#"+r.channel,u=0,d=r.useParent,f=I(r.remote),a?(B(r.props,{src:r.remote,name:T+r.channel+"_provider"}),d?r.onLoad=function(){l=h,m(),o.up.callback(!0)}:(t=0,n=r.delay/50,function i(){if(++t>n)throw new Error("Unable to reference listenerwindow");try{l=p.contentWindow.frames[T+r.channel+"_consumer"]}catch(e){}l?(m(),o.up.callback(!0)):g(i,50)}()),p=M(r)):(l=h,m(),d?(p=parent,o.up.callback(!0)):(B(r,{props:{src:r.remote+"#"+r.channel+new Date,name:T+r.channel+"_consumer"},onLoad:function(){o.up.callback(!0)}}),p=M(r)))},init:function(){U(o.onDOMReady,o)}}},A.stack.ReliableBehavior=function(e){var r,o,a=0,s=0,c="";return r={incoming:function(e,t){var n=e.indexOf("_"),i=e.substring(0,n).split(",");e=e.substring(n+1),i[0]==a&&(c="",o&&o(!0)),0<e.length&&(r.down.outgoing(i[1]+","+a+"_"+c,t),s!=i[1]&&(s=i[1],r.up.incoming(e,t)))},outgoing:function(e,t,n){c=e,o=n,r.down.outgoing(s+","+ ++a+"_"+e,t)}}},A.stack.QueueBehavior=function(o){var a,n,s=[],i=!0,r="",c=0,u=!1,l=!1;function p(){if(o.remove&&0===s.length)return(e=a).up.down=e.down,e.down.up=e.up,e.up=e.down=null;var e,t;i||0===s.length||n||(i=!0,t=s.shift(),a.down.outgoing(t.data,t.origin,function(e){i=!1,t.callback&&g(function(){t.callback(e)},0),p()}))}return a={init:function(){K(o)&&(o={}),o.maxLength&&(c=o.maxLength,l=!0),o.lazy?u=!0:a.down.init()},callback:function(e){i=!1;var t=a.up;p(),t.callback(e)},incoming:function(e,t){var n,i;l?(n=e.indexOf("_"),i=parseInt(e.substring(0,n),10),r+=e.substring(n+1),0===i&&(o.encode&&(r=d(r)),a.up.incoming(r,t),r="")):a.up.incoming(e,t)},outgoing:function(e,t,n){o.encode&&(e=f(e));var i,r=[];if(l){for(;0!==e.length;)i=e.substring(0,c),e=e.substring(i.length),r.push(i);for(;i=r.shift();)s.push({data:r.length+"_"+i,origin:t,callback:0===r.length?n:null})}else s.push({data:e,origin:t,callback:n});u?a.down.init():p()},destroy:function(){n=!0,a.down.destroy()}}},A.stack.VerifyBehavior=function(i){var r,o,a;function s(){o=Math.random().toString(16).substring(2),r.down.outgoing(o)}return r={incoming:function(e,t){var n=e.indexOf("_");-1===n?e===o?r.up.callback(!0):a||(a=e,i.initiate||s(),r.down.outgoing(e)):e.substring(0,n)===a&&r.up.incoming(e.substring(n+1),t)},outgoing:function(e,t,n){r.down.outgoing(o+"_"+e,t,n)},callback:function(e){i.initiate&&s()}}},A.stack.RpcBehavior=function(l,r){var t,o=r.serializer||N(),a=0,s={};function p(e){e.jsonrpc="2.0",t.down.outgoing(o.stringify(e))}function c(e,i,t,n){if(t){var r,o,a;i?(r=function(e){r=w,p({id:i,result:e})},o=function(e,t){o=w;var n={id:i,error:{code:-32099,message:e}};t&&(n.error.data=t),p(n)}):r=o=w,a=n,"[object Array]"!==Object.prototype.toString.call(a)&&(n=[n]);try{var s=l.context||t.scope,c=t.method.apply(s,n.concat([r,o]));K(c)||r(c)}catch(u){o(u.message)}}else i&&p({id:i,error:{code:-32601,message:"Procedure not found."}})}return t={incoming:function(e,t){var n,i=o.parse(e);i.method?r.handle?r.handle(i,p):c(i.method,i.id,r.local[i.method],i.params):(n=s[i.id],i.error?n.error&&n.error(i.error):n.success&&n.success(i.result),delete s[i.id])},init:function(){if(r.remote)for(var e in r.remote)r.remote.hasOwnProperty(e)&&(l[e]=function(i,r){var o=Array.prototype.slice;return function(){var e,t=arguments.length,n={method:r};0<t&&"function"==typeof arguments[t-1]?(1<t&&"function"==typeof arguments[t-2]?(e={success:arguments[t-2],error:arguments[t-1]},n.params=o.call(arguments,0,t-2)):(e={success:arguments[t-1]},n.params=o.call(arguments,0,t-1)),s[""+ ++a]=e,n.id=a):n.params=o.call(arguments,0),i.namedParams&&1===n.params.length&&(n.params=n.params[0]),p(n)}}(r.remote[e],e));t.down.init()},destroy:function(){for(var e in r.remote)r.remote.hasOwnProperty(e)&&l.hasOwnProperty(e)&&delete l[e];t.down.destroy()}}},k.easyXDM=A}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),easyXDM.noConflict("Kakao"))},{}],29:[function(Q,Y,e){(function(J,G,V){(function(){"use strict";function u(e){return"function"==typeof e}var t;t=Array.isArray?Array.isArray:function t(e){return"[object Array]"===Object.prototype.toString.call(e)};var n,a=t,i=0;var s=function(e,t){k[i]=e,k[i+1]=t,2===(i+=2)&&d()},e="undefined"!=typeof window?window:undefined,r=e||{},o=r.MutationObserver||r.WebKitMutationObserver,c=void 0!==J&&"[object process]"==={}.toString.call(J),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){return function(){setTimeout(b,1)}}var d,f,m,h,g,v,y,k=new Array(1e3);function b(){for(var e=0;e<i;e+=2){(0,k[e])(k[e+1]),k[e]=undefined,k[e+1]=undefined}i=0}function w(){}d=c?(v=J.nextTick,y=J.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/),Array.isArray(y)&&"0"===y[1]&&"10"===y[2]&&(v=V),function(){v(b)}):o?(m=0,h=new o(b),g=document.createTextNode(""),h.observe(g,{characterData:!0}),function(){g.data=m=++m%2}):l?((f=new MessageChannel).port1.onmessage=b,function(){f.port2.postMessage(0)}):(e===undefined&&"function"==typeof Q?function(){try{var e=Q("vertx");return n=e.runOnLoop||e.runOnContext,function(){n(b)}}catch(t){return p()}}:p)();var _=void 0,S=1,A=2,T=new F;function O(e,i,r){s(function(t){var n=!1,e=function(e,t,n,i){try{e.call(t,n,i)}catch(r){return r}}(r,i,function(e){n||(n=!0,(i!==e?R:E)(t,e))},function(e){n||(n=!0,I(t,e))},t._label);!n&&e&&(n=!0,I(t,e))},e)}function x(e,t){var n,i,r;t.constructor===e.constructor?(i=e,(r=t)._state===S?E(i,r._result):r._state===A?I(i,r._result):j(r,undefined,function(e){R(i,e)},function(e){I(i,e)})):(n=function(e){try{return e.then}catch(t){return T.error=t,T}}(t))===T?I(e,T.error):n!==undefined&&u(n)?O(e,t,n):E(e,t)}function R(e,t){var n;e===t?I(e,new TypeError("You cannot resolve a promise with itself")):("function"==typeof(n=t)||"object"===(void 0===n?"undefined":_typeof(n))&&null!==n?x:E)(e,t)}function U(e){e._onerror&&e._onerror(e._result),L(e)}function E(e,t){e._state===_&&(e._result=t,e._state=S,0!==e._subscribers.length&&s(L,e))}function I(e,t){e._state===_&&(e._state=A,e._result=t,s(U,e))}function j(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+S]=n,r[o+A]=i,0===o&&e._state&&s(L,e)}function L(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i,r,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?C(n,i,r,o):r(o);e._subscribers.length=0}}function F(){this.error=null}var K=new F;function C(e,t,n,i){var r,o,a,s,c=u(n);if(c){if((r=function(e,t){try{return e(t)}catch(n){return K.error=n,K}}(n,i))===K?(s=!0,o=r.error,r=null):a=!0,t===r)return void I(t,new TypeError("A promises callback cannot return that same promise."))}else r=i,a=!0;t._state!==_||(c&&a?R(t,r):s?I(t,o):e===S?E(t,r):e===A&&I(t,r))}function N(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(w),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?E(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&E(n.promise,n._result))):I(n.promise,n._validationError())}N.prototype._validateInput=function(e){return a(e)},N.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},N.prototype._init=function(){this._result=new Array(this.length)};var B=N;N.prototype._enumerate=function(){for(var e=this.length,t=this.promise,n=this._input,i=0;t._state===_&&i<e;i++)this._eachEntry(n[i],i)},N.prototype._eachEntry=function(e,t){var n,i=this,r=i._instanceConstructor;"object"===(void 0===(n=e)?"undefined":_typeof(n))&&null!==n?e.constructor===r&&e._state!==_?(e._onerror=null,i._settledAt(e._state,t,e._result)):i._willSettleAt(r.resolve(e),t):(i._remaining--,i._result[t]=e)},N.prototype._settledAt=function(e,t,n){var i=this,r=i.promise;r._state===_&&(i._remaining--,e===A?I(r,n):i._result[t]=n),0===i._remaining&&E(r,i._result)},N.prototype._willSettleAt=function(e,t){var n=this;j(e,undefined,function(e){n._settledAt(S,t,e)},function(e){n._settledAt(A,t,e)})};var M=function(e){var t=new this(w);if(!a(e))return I(t,new TypeError("You must pass an array to race.")),t;var n=e.length;function i(e){R(t,e)}function r(e){I(t,e)}for(var o=0;t._state===_&&o<n;o++)j(this.resolve(e[o]),undefined,i,r);return t};var P=function(e){if(e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.constructor===this)return e;var t=new this(w);return R(t,e),t};var D=function(e){var t=new this(w);return I(t,e),t},q=0;var z=W;function W(e){this._id=q++,this._state=undefined,this._result=undefined,this._subscribers=[],w!==e&&(u(e)||function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof W||function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}(),function(t,e){try{e(function(e){R(t,e)},function(e){I(t,e)})}catch(n){I(t,n)}}(this,e))}W.all=function(e){return new B(this,e).promise},W.race=M,W.resolve=P,W.reject=D,W.prototype={constructor:W,then:function(e,t){var n=this._state;if(n===S&&!e||n===A&&!t)return this;var i,r=new this.constructor(w),o=this._result;return n?(i=arguments[n-1],s(function(){C(n,r,i,o)})):j(this,r,e,t),r},"catch":function(e){return this.then(null,e)}};var H=function(){var e;if(void 0!==G)e=G;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=z)},X={Promise:z,polyfill:H};void 0!==Y&&Y.exports?Y.exports=X:void 0!==this&&(this.ES6Promise=X),H()}).call(this)}).call(this,Q("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Q("timers").setImmediate)},{_process:1,timers:2}],30:[function(e,t,n){var f;t.exports=(f=function f(e){function t(e){var t={},n=e?e.split(/\.|-|_/):["0","0","0"];return t.info=n.join("."),t.major=n[0]||"0",t.minor=n[1]||"0",t.patch=n[2]||"0",t}return{ua:e=(e||window.navigator.userAgent).toString().toLowerCase(),browser:(p={},"webkit"===(d=/(dolfin)[ \/]([\w.]+)/.exec(l=e)||/(edge)[ \/]([\w.]+)/.exec(l)||/(chrome)[ \/]([\w.]+)/.exec(l)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(l)||/(webkit)(?:.*version)?[ \/]([\w.]+)/.exec(l)||/(msie) ([\w.]+)/.exec(l)||l.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(l)||["","unknown"])[1]?d=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(l)||/(android)[ \/]([\w._\-]+);/.exec(l)||[d[0],"safari",d[2]]:"mozilla"===d[1]?/trident/.test(l)?d[1]="msie":d[1]="firefox":"edge"===d[1]?d[1]="spartan":/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(l)&&(d[1]="polaris"),p[d[1]]=!0,p.name=d[1],p.version=t(d[2]),p),platform:(u=c=e).match(/linux|windows (nt|98)|macintosh/)&&!u.match(/android|mobile|polaris|lgtelecom|uzard|natebrowser|ktf;|skt;/)?"pc":function(e){return!!(e.match(/ipad/)||e.match(/android/)&&!e.match(/mobi|mini|fennec/))}(c)?"tablet":c.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)?"mobile":"",os:(a={},"iphone"===(s=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(o=e)||/(android)[ \/]([\w._\-]+);/.exec(o)||!!/android/.test(o)&&["","android","0.0.0"]||!!/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(o)&&["","polaris","0.0.0"]||/(windows)(?: nt | phone(?: os){0,1} | )([\w._\-]+)/.exec(o)||!!/(windows)/.test(o)&&["","windows","0.0.0"]||/(mac) os x ([\w._\-]+)/.exec(o)||!!/(linux)/.test(o)&&["","linux","0.0.0"]||!!/webos/.test(o)&&["","webos","0.0.0"]||/(bada)[ \/]([\w._\-]+)/.exec(o)||!!/bada/.test(o)&&["","bada","0.0.0"]||!!/(rim|blackberry|bb10)/.test(o)&&["","blackberry","0.0.0"]||["","unknown","0.0.0"])[1]||"ipad"===s[1]||"ipod"===s[1]?s[1]="ios":"windows"===s[1]&&"98"===s[2]&&(s[2]="0.98.0"),a[s[1]]=!0,a.name=s[1],a.version=t(s[2]),a),app:(i={},(r=/(crios)[ \/]([\w.]+)/.exec(n=e)||/(daumapps)[ \/]([\w.]+)/.exec(n)||["",""])[1]?(i.isApp=!0,i.name=r[1],i.version=t(r[2])):i.isApp=!1,i)};var n,i,r,o,a,s,c,u,l,p,d},f)},{}],31:[function(e,t,n){function p(e){window.top.location.replace(e)}function d(t,n,i){var r=(new Date).getTime();return setTimeout(function(){var e=(new Date).getTime();f()&&e-r<t+o&&i(n)},t)}function f(){for(var e=["hidden","webkitHidden"],t=0,n=e.length;t<n;t++)if("undefined"!=typeof document[e[t]])return!document[e[t]];return 1}function m(n){setTimeout(function(){var e,t;(e="appLauncher",(t=document.createElement("iframe")).id=e,t.style.border="none",t.style.width="0",t.style.height="0",t.style.display="none",t.style.overflow="hidden",document.body.appendChild(t),t).src=n},100)}var i,h,g,o,v,y,k,b;t.exports=(i=e("./userAgent.js"),h=5e3,g=300,o=100,v=i(),y=v.os,k=["firefox","opr/"],b=["KAKAOTALK"],function(e){var t,n,i,r,o,a,s="function"==typeof e.willInvokeApp?e.willInvokeApp:function(){},c="function"==typeof e.onAppMissing?e.onAppMissing:p,u="function"==typeof e.onUnsupportedEnvironment?e.onUnsupportedEnvironment:function(){};function l(){top.location.href=i}s(),y.android?(r=v.browser.chrome&&25<=+v.browser.version.major,o=new RegExp(k.join("|"),"i"),a=new RegExp(b.join("|"),"i"),(r&&!o.test(v.ua)||a.test(v.ua))&&e.intentURI&&!e.useUrlScheme?(i=e.intentURI,v.browser.chrome?l():setTimeout(l,100)):e.storeURL&&(t=e.urlScheme,n=e.storeURL,d(g,n,c),m(t))):y.ios&&e.storeURL?function(e,t,n,i){var r=d(h,t,n);(parseInt(v.os.version.major,10)<8?function(e){window.addEventListener("pagehide",function t(){f()&&(clearTimeout(e),window.removeEventListener("pagehide",t))})}:function(e){document.addEventListener("visibilitychange",function t(){f()&&(clearTimeout(e),document.removeEventListener("visibilitychange",t))})})(r),8<parseInt(v.os.version.major,10)&&v.os.ios?(i===undefined?i=e:clearTimeout(r),function(e){window.top.location.replace(e)}(i)):m(e)}(e.urlScheme,e.storeURL,c,e.universalLink):setTimeout(function(){u()},100)})},{"./userAgent.js":30}]},{},[20])(20)});